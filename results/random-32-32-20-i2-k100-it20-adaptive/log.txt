Generate 100 random start and goal locations 
Fail to save the agents to random-32-32-20-instances/random-32-32-20-random-2.scen
[DEBUG] Using SAT operator (destroy+repair SAT).
====================
SAT destroy operator called.
[DEBUG] key_agent_id: 90
[DEBUG] key_agent_id délka globální cesty: 47
Submap content (global positions):
56 57 58 59 60 
88 89 90 91 92 
120 121 122 123 124 
152 153 154 155 156 
184 185 186 187 188 
Map content with agents and obstacles:
. X . . A 
X . A . X 
. . A A . 
X . . X . 
. . . X A 
[DEBUG] obsah struktury map, kterou předáváme SAT solveru: 
1  -1  1  1  1  
-1  1  1  1  -1  
1  1  1  1  1  
-1  1  1  -1  1  
1  1  1  -1  1  

[INFO] Identifikace agentů v submapě pro přeplánování (kdy key_agent je tam v čase 4):
[DEBUG] Agent 3 nalezené intervaly v submapě: [3..4]
  Agent 3 (interval v submapě: [3..4]) obsahuje čas 4, přidán k přeplánování.
[DEBUG] Agent 4 nalezené intervaly v submapě: [1..6]
  Agent 4 (interval v submapě: [1..6]) obsahuje čas 4, přidán k přeplánování.
[DEBUG] Agent 68 nalezené intervaly v submapě: [1..7]
  Agent 68 (interval v submapě: [1..7]) obsahuje čas 4, přidán k přeplánování.
[DEBUG] Agent 86 nalezené intervaly v submapě: [4..12]
  Agent 86 (interval v submapě: [4..12]) obsahuje čas 4, přidán k přeplánování.
[DEBUG] Agent 90 nalezené intervaly v submapě: [1..46]
  Agent 90 (interval v submapě: [1..46]) obsahuje čas 4, přidán k přeplánování.
Agent 3 | Start (globální): 188 → (lokální): (4, 4) v čase 4 | Cíl (globální): 188 → (lokální): (4, 4) v čase 4
Agent 4 | Start (globální): 123 → (lokální): (2, 3) v čase 4 | Cíl (globální): 156 → (lokální): (3, 4) v čase 6
Agent 68 | Start (globální): 90 → (lokální): (1, 2) v čase 4 | Cíl (globální): 120 → (lokální): (2, 0) v čase 7
Agent 86 | Start (globální): 60 → (lokální): (0, 4) v čase 4 | Cíl (globální): 184 → (lokální): (4, 0) v čase 12
Agent 90 | Start (globální): 122 → (lokální): (2, 2) v čase 4 | Cíl (globální): 91 → (lokální): (1, 3) v čase 46
[REPAIR] SAT destroy operator called.
[REPAIR] SAT operator – spouštím subproblém NA OPTIMALIZACI.

[INFO] Tvorba lokálních cest (sx, sy) v submapě pro T_sync = 4
  Agent 3 (globální cesty od T=4 do 4) má lokální dráhu: (4,4) 
  Agent 4 (globální cesty od T=4 do 6) má lokální dráhu: (2,3) (2,4) (3,4) 
  Agent 68 (globální cesty od T=4 do 7) má lokální dráhu: (1,2) (2,2) (2,1) (2,0) 
  Agent 86 (globální cesty od T=4 do 12) má lokální dráhu: (0,4) (0,3) (1,3) (1,2) (2,2) (3,2) (3,1) (4,1) (4,0) 
  Agent 90 (globální cesty od T=4 do 46) má lokální dráhu: (2,2) (2,3) (2,3) (2,3) (2,3) (2,2) (1,2) (1,2) (1,2) (1,2) (1,2) (1,2) (1,2) (1,2) (1,2) (1,2) (1,2) (1,2) (1,2) (1,2) (1,2) (1,2) (1,2) (1,2) (1,2) (1,2) (1,2) (1,2) (1,2) (1,2) (1,2) (1,2) (1,2) (1,2) (1,2) (1,2) (1,2) (1,3) (2,3) (2,4) (2,4) (2,3) (1,3) 

[DEBUG] Kontrola vstupních dat pro SAT solver:
  - Počet agentů k přeplánování: 5
[DEBUG] Agent 3 má původní lokální dráhu délky: 1 => Start (4,4), Goal (4,4)
[DEBUG] Agent 4 má původní lokální dráhu délky: 3 => Start (2,3), Goal (3,4)
[DEBUG] Agent 68 má původní lokální dráhu délky: 4 => Start (1,2), Goal (2,0)
[DEBUG] Agent 86 má původní lokální dráhu délky: 9 => Start (0,4), Goal (4,0)
[DEBUG] Agent 90 má původní lokální dráhu délky: 43 => Start (2,2), Goal (1,3)
Startovní pozice: (4, 4), (2, 3), (1, 2), (0, 4), (2, 2), 
CÍLOVÉ pozice: (4, 4), (3, 4), (2, 0), (4, 0), (1, 3), 
SAT instance and solver created.
Currently solving
Instance name: scen
Map name: map
Encoding used: disappear_at_goal
SAT solver used: Kissat
Optimizing function: sum of costs
Number of agents: 5
Mks LB: 9
SoC LB: 20
Delta: 0
Remaining time: 300000 [ms]

Vertex conflict! Agents 0, 1, timestep 3, location 0
Swapping conflict! Agents 0, 1, timestep 3, edge (0,0)
Vertex conflict! Agents 0, 1, timestep 4, location 0
Swapping conflict! Agents 0, 1, timestep 4, edge (0,0)
Vertex conflict! Agents 0, 1, timestep 5, location 0
Swapping conflict! Agents 0, 1, timestep 5, edge (0,0)
Vertex conflict! Agents 0, 1, timestep 6, location 0
Swapping conflict! Agents 0, 1, timestep 6, edge (0,0)
Vertex conflict! Agents 0, 1, timestep 7, location 0
Swapping conflict! Agents 0, 1, timestep 7, edge (0,0)
Vertex conflict! Agents 0, 1, timestep 8, location 0
Vertex conflict! Agents 0, 2, timestep 4, location 0
Swapping conflict! Agents 0, 2, timestep 4, edge (0,0)
Vertex conflict! Agents 0, 2, timestep 5, location 0
Swapping conflict! Agents 0, 2, timestep 5, edge (0,0)
Vertex conflict! Agents 0, 2, timestep 6, location 0
Swapping conflict! Agents 0, 2, timestep 6, edge (0,0)
Vertex conflict! Agents 0, 2, timestep 7, location 0
Swapping conflict! Agents 0, 2, timestep 7, edge (0,0)
Vertex conflict! Agents 0, 2, timestep 8, location 0
Vertex conflict! Agents 0, 4, timestep 3, location 0
Swapping conflict! Agents 0, 4, timestep 3, edge (0,0)
Vertex conflict! Agents 0, 4, timestep 4, location 0
Swapping conflict! Agents 0, 4, timestep 4, edge (0,0)
Vertex conflict! Agents 0, 4, timestep 5, location 0
Swapping conflict! Agents 0, 4, timestep 5, edge (0,0)
Vertex conflict! Agents 0, 4, timestep 6, location 0
Swapping conflict! Agents 0, 4, timestep 6, edge (0,0)
Vertex conflict! Agents 0, 4, timestep 7, location 0
Swapping conflict! Agents 0, 4, timestep 7, edge (0,0)
Vertex conflict! Agents 0, 4, timestep 8, location 0
Vertex conflict! Agents 1, 2, timestep 4, location 0
Swapping conflict! Agents 1, 2, timestep 4, edge (0,0)
Vertex conflict! Agents 1, 2, timestep 5, location 0
Swapping conflict! Agents 1, 2, timestep 5, edge (0,0)
Vertex conflict! Agents 1, 2, timestep 6, location 0
Swapping conflict! Agents 1, 2, timestep 6, edge (0,0)
Vertex conflict! Agents 1, 2, timestep 7, location 0
Swapping conflict! Agents 1, 2, timestep 7, edge (0,0)
Vertex conflict! Agents 1, 2, timestep 8, location 0
Vertex conflict! Agents 1, 4, timestep 3, location 0
Swapping conflict! Agents 1, 4, timestep 3, edge (0,0)
Vertex conflict! Agents 1, 4, timestep 4, location 0
Swapping conflict! Agents 1, 4, timestep 4, edge (0,0)
Vertex conflict! Agents 1, 4, timestep 5, location 0
Swapping conflict! Agents 1, 4, timestep 5, edge (0,0)
Vertex conflict! Agents 1, 4, timestep 6, location 0
Swapping conflict! Agents 1, 4, timestep 6, edge (0,0)
Vertex conflict! Agents 1, 4, timestep 7, location 0
Swapping conflict! Agents 1, 4, timestep 7, edge (0,0)
Vertex conflict! Agents 1, 4, timestep 8, location 0
Vertex conflict! Agents 2, 4, timestep 4, location 0
Swapping conflict! Agents 2, 4, timestep 4, edge (0,0)
Vertex conflict! Agents 2, 4, timestep 5, location 0
Swapping conflict! Agents 2, 4, timestep 5, edge (0,0)
Vertex conflict! Agents 2, 4, timestep 6, location 0
Swapping conflict! Agents 2, 4, timestep 6, edge (0,0)
Vertex conflict! Agents 2, 4, timestep 7, location 0
Swapping conflict! Agents 2, 4, timestep 7, edge (0,0)
Vertex conflict! Agents 2, 4, timestep 8, location 0
Found plan [agents = 5] [timesteps = 9]
Agent #0 : 18 0 0 0 0 0 0 0 0 
Agent #1 : 10 11 14 0 0 0 0 0 0 
Agent #2 : 5 9 8 7 0 0 0 0 0 
Agent #3 : 3 2 1 5 9 13 17 16 15 
Agent #4 : 9 10 6 0 0 0 0 0 0 

Solver returned: 0
[DEBUG] Agent (index) 3 | Nová lokální cesta (submap idx): 18 
[DEBUG] Agent (index) 4 | Nová lokální cesta (submap idx): 10 11 14 
[DEBUG] Agent (index) 68 | Nová lokální cesta (submap idx): 5 9 8 7 
[DEBUG] Agent (index) 86 | Nová lokální cesta (submap idx): 3 2 1 5 9 13 17 16 15 
[DEBUG] Agent (index) 90 | Nová lokální cesta (submap idx): 9 10 6 
[INFO] Aktualizace cesty pro agenta 3 | Původní lokální délka: 1 | Nová lokální délka: 1
[DEBUG] agent 3 t=0 => decoded (sx,sy)=(4,4) => global_id=188
[DEBUG] Kompletní cesta agenta 3:
  Původní: 159 158 157 156 188 220 252 284 285 317 349 381 413 445 444 476 508 540 572 604 636 637 638 670 702 701 733 
  Nová:     159 158 157 156 188 220 252 284 285 317 349 381 413 445 444 476 508 540 572 604 636 637 638 670 702 701 733 
[DEBUG] Vykreslení PŮVODNÍ cesty:
  Prefix (před submapou): 159 158 157 156 
  Lokální cesta (v submapě): 188 
  Suffix (po submapě): 220 252 284 285 317 349 381 413 445 444 476 508 540 572 604 636 637 638 670 702 701 733 
[INFO] Původní délka cesty agenta 3 je: 27
(SATUtils.cpp) nová cesta v agents[a].path agenta 0: 159, 158, 157, 156, 188, 220, 252, 284, 285, 317, 349, 381, 413, 445, 444, 476, 508, 540, 572, 604, 636, 637, 638, 670, 702, 701, 733, 
[INFO] Cesta pro agenta 3 aktualizována, výsledná délka: 27
[INFO] Aktualizace cesty pro agenta 4 | Původní lokální délka: 3 | Nová lokální délka: 3
[DEBUG] agent 4 t=0 => decoded (sx,sy)=(2,3) => global_id=123
[DEBUG] agent 4 t=1 => decoded (sx,sy)=(2,4) => global_id=124
[DEBUG] agent 4 t=2 => decoded (sx,sy)=(3,4) => global_id=156
[DEBUG] Kompletní cesta agenta 4:
  Původní: 218 186 154 122 123 124 156 157 158 
  Nová:     218 186 154 122 123 124 156 157 158 
[DEBUG] Vykreslení PŮVODNÍ cesty:
  Prefix (před submapou): 218 186 154 122 
  Lokální cesta (v submapě): 123 124 156 
  Suffix (po submapě): 157 158 
[INFO] Původní délka cesty agenta 4 je: 9
(SATUtils.cpp) nová cesta v agents[a].path agenta 1: 218, 186, 154, 122, 123, 124, 156, 157, 158, 
[INFO] Cesta pro agenta 4 aktualizována, výsledná délka: 9
[INFO] Aktualizace cesty pro agenta 68 | Původní lokální délka: 4 | Nová lokální délka: 4
[DEBUG] agent 68 t=0 => decoded (sx,sy)=(1,2) => global_id=90
[DEBUG] agent 68 t=1 => decoded (sx,sy)=(2,2) => global_id=122
[DEBUG] agent 68 t=2 => decoded (sx,sy)=(2,1) => global_id=121
[DEBUG] agent 68 t=3 => decoded (sx,sy)=(2,0) => global_id=120
[DEBUG] Kompletní cesta agenta 68:
  Původní: 61 60 59 58 90 122 121 120 119 151 183 215 247 279 278 310 309 341 373 405 437 469 501 533 565 597 596 628 660 692 724 756 788 820 819 851 883 882 881 880 879 878 910 942 974 975 976 977 1009 
  Nová:     61 60 59 58 90 122 121 120 119 151 183 215 247 279 278 310 309 341 373 405 437 469 501 533 565 597 596 628 660 692 724 756 788 820 819 851 883 882 881 880 879 878 910 942 974 975 976 977 1009 
[DEBUG] Vykreslení PŮVODNÍ cesty:
  Prefix (před submapou): 61 60 59 58 
  Lokální cesta (v submapě): 90 122 121 120 
  Suffix (po submapě): 119 151 183 215 247 279 278 310 309 341 373 405 437 469 501 533 565 597 596 628 660 692 724 756 788 820 819 851 883 882 881 880 879 878 910 942 974 975 976 977 1009 
[INFO] Původní délka cesty agenta 68 je: 49
(SATUtils.cpp) nová cesta v agents[a].path agenta 2: 61, 60, 59, 58, 90, 122, 121, 120, 119, 151, 183, 215, 247, 279, 278, 310, 309, 341, 373, 405, 437, 469, 501, 533, 565, 597, 596, 628, 660, 692, 724, 756, 788, 820, 819, 851, 883, 882, 881, 880, 879, 878, 910, 942, 974, 975, 976, 977, 1009, 
[INFO] Cesta pro agenta 68 aktualizována, výsledná délka: 49
[INFO] Aktualizace cesty pro agenta 86 | Původní lokální délka: 9 | Nová lokální délka: 9
[DEBUG] agent 86 t=0 => decoded (sx,sy)=(0,4) => global_id=60
[DEBUG] agent 86 t=1 => decoded (sx,sy)=(0,3) => global_id=59
[DEBUG] agent 86 t=2 => decoded (sx,sy)=(0,2) => global_id=58
[DEBUG] agent 86 t=3 => decoded (sx,sy)=(1,2) => global_id=90
[DEBUG] agent 86 t=4 => decoded (sx,sy)=(2,2) => global_id=122
[DEBUG] agent 86 t=5 => decoded (sx,sy)=(3,2) => global_id=154
[DEBUG] agent 86 t=6 => decoded (sx,sy)=(4,2) => global_id=186
[DEBUG] agent 86 t=7 => decoded (sx,sy)=(4,1) => global_id=185
[DEBUG] agent 86 t=8 => decoded (sx,sy)=(4,0) => global_id=184
[DEBUG] Kompletní cesta agenta 86:
  Původní: 126 94 93 61 60 59 91 90 122 154 153 185 184 183 215 214 213 212 244 243 275 274 306 306 338 337 369 401 433 432 464 463 462 494 526 558 590 589 588 620 
  Nová:     126 94 93 61 60 59 58 90 122 154 186 185 184 183 215 214 213 212 244 243 275 274 306 306 338 337 369 401 433 432 464 463 462 494 526 558 590 589 588 620 
[DEBUG] Vykreslení PŮVODNÍ cesty:
  Prefix (před submapou): 126 94 93 61 
  Lokální cesta (v submapě): 60 59 58 90 122 154 186 185 184 
  Suffix (po submapě): 183 215 214 213 212 244 243 275 274 306 306 338 337 369 401 433 432 464 463 462 494 526 558 590 589 588 620 
[INFO] Původní délka cesty agenta 86 je: 40
(SATUtils.cpp) nová cesta v agents[a].path agenta 3: 126, 94, 93, 61, 60, 59, 58, 90, 122, 154, 186, 185, 184, 183, 215, 214, 213, 212, 244, 243, 275, 274, 306, 306, 338, 337, 369, 401, 433, 432, 464, 463, 462, 494, 526, 558, 590, 589, 588, 620, 
[INFO] Cesta pro agenta 86 aktualizována, výsledná délka: 40
[INFO] Aktualizace cesty pro agenta 90 | Původní lokální délka: 43 | Nová lokální délka: 3
[DEBUG] agent 90 t=0 => decoded (sx,sy)=(2,2) => global_id=122
[DEBUG] agent 90 t=1 => decoded (sx,sy)=(2,3) => global_id=123
[DEBUG] agent 90 t=2 => decoded (sx,sy)=(1,3) => global_id=91
[DEBUG] Kompletní cesta agenta 90:
  Původní: 27 59 58 90 122 123 123 123 123 122 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 91 123 124 124 123 91 
  Nová:     27 59 58 90 122 123 91 
[DEBUG] Vykreslení PŮVODNÍ cesty:
  Prefix (před submapou): 27 59 58 90 
  Lokální cesta (v submapě): 122 123 91 
  Suffix (po submapě): 
[INFO] Původní délka cesty agenta 90 je: 47
(SATUtils.cpp) nová cesta v agents[a].path agenta 4: 27, 59, 58, 90, 122, 123, 91, 
[INFO] Cesta pro agenta 90 aktualizována, výsledná délka: 7
Paths successfully updated.
(LNS.cpp) Nová cesta v agents[a].path agenta 3: 159, 158, 157, 156, 188, 220, 252, 284, 285, 317, 349, 381, 413, 445, 444, 476, 508, 540, 572, 604, 636, 637, 638, 670, 702, 701, 733, 
(LNS.cpp) Nová cesta v agents[a].path agenta 4: 218, 186, 154, 122, 123, 124, 156, 157, 158, 
(LNS.cpp) Nová cesta v agents[a].path agenta 68: 61, 60, 59, 58, 90, 122, 121, 120, 119, 151, 183, 215, 247, 279, 278, 310, 309, 341, 373, 405, 437, 469, 501, 533, 565, 597, 596, 628, 660, 692, 724, 756, 788, 820, 819, 851, 883, 882, 881, 880, 879, 878, 910, 942, 974, 975, 976, 977, 1009, 
(LNS.cpp) Nová cesta v agents[a].path agenta 86: 126, 94, 93, 61, 60, 59, 58, 90, 122, 154, 186, 185, 184, 183, 215, 214, 213, 212, 244, 243, 275, 274, 306, 306, 338, 337, 369, 401, 433, 432, 464, 463, 462, 494, 526, 558, 590, 589, 588, 620, 
(LNS.cpp) Nová cesta v agents[a].path agenta 90: 27, 59, 58, 90, 122, 123, 91, 
[DEBUG] hodnota delta: 0.239521
[DEBUG] rewarding metric index = 1
[DEBUG] component_weights = {0.232301, 0.303097, 0.232301, 0.232301}
[DEBUG] hodnota opSuccess: 1
[DEBUG] neighbor.sum_of_costs před opětovným přepočtem: 127
[DEBUG] neighbor.old_sum_of_costs před opětovným přepočtem: 167
[DEBUG] sum_of_costs před opětovným přepočtem: 2783
[DEBUG] Validate solution immediately after SAT success.
[WARNING] Problem after SAT: Target conflict: agent 31 (len 50) traverses target of agent 90 (len 6) at location 91 at timestep 45
[DEBUG] Attempting immediate repair via init_lns because problem occured after SAT (should be applied only for conflicts...).
[DEBUG] In LNS, we pass 100 agents to init_lns (skip=true). 
[DEBUG] Obsah path_table pro vybrané agenty (neighbor.agents):
  Agent 3 => controlling path length=27
  Agent 4 => controlling path length=9
  Agent 68 => controlling path length=49
  Agent 86 => controlling path length=40
  Agent 90 => controlling path length=7
[DEBUG] hodnota skip_initial_solution=1
[DEBUG] We skip initialSolution => call buildCollisionData()
[DEBUG] buildCollisionData() called – skip_initial_solution case.
[DEBUG] Agents.size()=100, collision_graph.size()=100
[DEBUG] agent 31 => updateCollidingPairs => foundCollision
[DEBUG] agent 32 => updateCollidingPairs => foundCollision
[DEBUG] agent 90 => updateCollidingPairs => foundCollision
[DEBUG] Dvojice konfliktních agentů: 
agent 31 je v konfliktu s agentem 90
agent 32 je v konfliktu s agentem 90
[DEBUG] buildCollisionData() => sum_of_costs=2743, num_of_colliding_pairs=2
[DEBUG] buildCollisionData done => sum_of_costs=2743, num_of_colliding_pairs=2
[DEBUG] sum_of_cost hodnota: 2743
[DEBUG] After skip/init build => iteration_stats.back(): sum_of_costs=2743, collisions=2
[DEBUG] Using default neighbor generation strategy for conflicts: 0
	InitLNS(PP): runtime = 0.000638917, iterations = 2, colliding pairs = 0, initial colliding pairs = 2, solution cost = 2783, initial solution cost = 2743, failed iterations = 0
[DEBUG] init_lns->sum_of_costs po doběhnutí init_lns->run: 2783
[DEBUG] sum_of_costs po přiřazení init_lns->run: 2783
[DEBUG] recomputing sum_of_cost by dividing neighbor.sum_of_costs and neighbor.old_sum_of_costs
[DEBUG] sum_of_costs po opětovném přepočtu: 2783
Iteration 1
[DEBUG] Using SAT operator (destroy+repair SAT).
====================
SAT destroy operator called.
[DEBUG] key_agent_id: 90
[DEBUG] key_agent_id délka globální cesty: 47
Submap content (global positions):
24 25 26 27 28 
56 57 58 59 60 
88 89 90 91 92 
120 121 122 123 124 
152 153 154 155 156 
Map content with agents and obstacles:
. . . . . 
. X . . . 
X . A A X 
. . . . . 
X . A X . 
[DEBUG] obsah struktury map, kterou předáváme SAT solveru: 
1  1  1  1  1  
1  -1  1  1  1  
-1  1  1  1  -1  
1  1  1  1  1  
-1  1  1  -1  1  

[INFO] Identifikace agentů v submapě pro přeplánování (kdy key_agent je tam v čase 40):
[DEBUG] Agent 32 nalezené intervaly v submapě: [36..42]
  Agent 32 (interval v submapě: [36..42]) obsahuje čas 40, přidán k přeplánování.
[DEBUG] Agent 66 nalezené intervaly v submapě: [1..40] [43..45]
  Agent 66 (interval v submapě: [1..40]) obsahuje čas 40, přidán k přeplánování.
[DEBUG] Agent 90 nalezené intervaly v submapě: [0..46]
  Agent 90 (interval v submapě: [0..46]) obsahuje čas 40, přidán k přeplánování.
Agent 32 | Start (globální): 91 → (lokální): (2, 3) v čase 40 | Cíl (globální): 60 → (lokální): (1, 4) v čase 42
Agent 66 | Start (globální): 154 → (lokální): (4, 2) v čase 40 | Cíl (globální): 154 → (lokální): (4, 2) v čase 40
Agent 90 | Start (globální): 90 → (lokální): (2, 2) v čase 40 | Cíl (globální): 91 → (lokální): (2, 3) v čase 46
[REPAIR] SAT destroy operator called.
[REPAIR] SAT operator – spouštím subproblém NA OPTIMALIZACI.

[INFO] Tvorba lokálních cest (sx, sy) v submapě pro T_sync = 40
  Agent 32 (globální cesty od T=40 do 42) má lokální dráhu: (2,3) (1,3) (1,4) 
  Agent 66 (globální cesty od T=40 do 40) má lokální dráhu: (4,2) 
  Agent 90 (globální cesty od T=40 do 46) má lokální dráhu: (2,2) (2,3) (3,3) (3,4) (3,4) (3,3) (2,3) 

[DEBUG] Kontrola vstupních dat pro SAT solver:
  - Počet agentů k přeplánování: 3
[DEBUG] Agent 32 má původní lokální dráhu délky: 3 => Start (2,3), Goal (1,4)
[DEBUG] Agent 66 má původní lokální dráhu délky: 1 => Start (4,2), Goal (4,2)
[DEBUG] Agent 90 má původní lokální dráhu délky: 7 => Start (2,2), Goal (2,3)
Startovní pozice: (2, 3), (4, 2), (2, 2), 
CÍLOVÉ pozice: (1, 4), (4, 2), (2, 3), 
SAT instance and solver created.
Currently solving
Instance name: scen
Map name: map
Encoding used: disappear_at_goal
SAT solver used: Kissat
Optimizing function: sum of costs
Number of agents: 3
Mks LB: 3
SoC LB: 6
Delta: 0
Remaining time: 300000 [ms]

Vertex conflict! Agents 1, 2, timestep 2, location 0
Found plan [agents = 3] [timesteps = 3]
Agent #0 : 11 7 8 
Agent #1 : 18 0 0 
Agent #2 : 10 11 0 

Solver returned: 0
[DEBUG] Agent (index) 32 | Nová lokální cesta (submap idx): 11 7 8 
[DEBUG] Agent (index) 66 | Nová lokální cesta (submap idx): 18 
[DEBUG] Agent (index) 90 | Nová lokální cesta (submap idx): 10 11 
[INFO] Aktualizace cesty pro agenta 32 | Původní lokální délka: 3 | Nová lokální délka: 3
[DEBUG] agent 32 t=0 => decoded (sx,sy)=(2,3) => global_id=91
[DEBUG] agent 32 t=1 => decoded (sx,sy)=(1,3) => global_id=59
[DEBUG] agent 32 t=2 => decoded (sx,sy)=(1,4) => global_id=60
[DEBUG] Kompletní cesta agenta 32:
  Původní: 680 680 680 648 649 650 651 619 620 588 556 524 525 526 494 462 463 431 432 433 401 369 337 338 339 340 341 309 277 278 279 247 215 183 151 119 120 121 122 123 91 59 60 61 93 
  Nová:     680 680 680 648 649 650 651 619 620 588 556 524 525 526 494 462 463 431 432 433 401 369 337 338 339 340 341 309 277 278 279 247 215 183 151 119 120 121 122 123 91 59 60 61 93 
[DEBUG] Vykreslení PŮVODNÍ cesty:
  Prefix (před submapou): 680 680 680 648 649 650 651 619 620 588 556 524 525 526 494 462 463 431 432 433 401 369 337 338 339 340 341 309 277 278 279 247 215 183 151 119 120 121 122 123 
  Lokální cesta (v submapě): 91 59 60 
  Suffix (po submapě): 61 93 
[INFO] Původní délka cesty agenta 32 je: 45
(SATUtils.cpp) nová cesta v agents[a].path agenta 0: 680, 680, 680, 648, 649, 650, 651, 619, 620, 588, 556, 524, 525, 526, 494, 462, 463, 431, 432, 433, 401, 369, 337, 338, 339, 340, 341, 309, 277, 278, 279, 247, 215, 183, 151, 119, 120, 121, 122, 123, 91, 59, 60, 61, 93, 
[INFO] Cesta pro agenta 32 aktualizována, výsledná délka: 45
[INFO] Aktualizace cesty pro agenta 66 | Původní lokální délka: 1 | Nová lokální délka: 1
[DEBUG] agent 66 t=0 => decoded (sx,sy)=(4,2) => global_id=154
[DEBUG] Kompletní cesta agenta 66:
  Původní: 119 120 121 121 122 123 123 123 123 122 154 154 154 154 154 154 154 154 154 154 154 154 154 154 154 154 154 154 154 154 154 154 154 154 154 154 154 154 154 154 154 186 186 154 154 122 
  Nová:     119 120 121 121 122 123 123 123 123 122 154 154 154 154 154 154 154 154 154 154 154 154 154 154 154 154 154 154 154 154 154 154 154 154 154 154 154 154 154 154 154 186 186 154 154 122 
[DEBUG] Vykreslení PŮVODNÍ cesty:
  Prefix (před submapou): 119 120 121 121 122 123 123 123 123 122 154 154 154 154 154 154 154 154 154 154 154 154 154 154 154 154 154 154 154 154 154 154 154 154 154 154 154 154 154 154 
  Lokální cesta (v submapě): 154 
  Suffix (po submapě): 186 186 154 154 122 
[INFO] Původní délka cesty agenta 66 je: 46
(SATUtils.cpp) nová cesta v agents[a].path agenta 1: 119, 120, 121, 121, 122, 123, 123, 123, 123, 122, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 186, 186, 154, 154, 122, 
[INFO] Cesta pro agenta 66 aktualizována, výsledná délka: 46
[INFO] Aktualizace cesty pro agenta 90 | Původní lokální délka: 7 | Nová lokální délka: 2
[DEBUG] agent 90 t=0 => decoded (sx,sy)=(2,2) => global_id=90
[DEBUG] agent 90 t=1 => decoded (sx,sy)=(2,3) => global_id=91
[DEBUG] Kompletní cesta agenta 90:
  Původní: 27 28 28 28 28 60 59 58 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 91 123 124 124 123 91 
  Nová:     27 28 28 28 28 60 59 58 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 91 
[DEBUG] Vykreslení PŮVODNÍ cesty:
  Prefix (před submapou): 27 28 28 28 28 60 59 58 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 90 
  Lokální cesta (v submapě): 90 91 
  Suffix (po submapě): 
[INFO] Původní délka cesty agenta 90 je: 47
(SATUtils.cpp) nová cesta v agents[a].path agenta 2: 27, 28, 28, 28, 28, 60, 59, 58, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 91, 
[INFO] Cesta pro agenta 90 aktualizována, výsledná délka: 42
Paths successfully updated.
(LNS.cpp) Nová cesta v agents[a].path agenta 32: 680, 680, 680, 648, 649, 650, 651, 619, 620, 588, 556, 524, 525, 526, 494, 462, 463, 431, 432, 433, 401, 369, 337, 338, 339, 340, 341, 309, 277, 278, 279, 247, 215, 183, 151, 119, 120, 121, 122, 123, 91, 59, 60, 61, 93, 
(LNS.cpp) Nová cesta v agents[a].path agenta 66: 119, 120, 121, 121, 122, 123, 123, 123, 123, 122, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 154, 186, 186, 154, 154, 122, 
(LNS.cpp) Nová cesta v agents[a].path agenta 90: 27, 28, 28, 28, 28, 60, 59, 58, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 90, 91, 
[DEBUG] hodnota delta: 0.037037
[DEBUG] rewarding metric index = 2
[DEBUG] component_weights = {0.22746, 0.29678, 0.248299, 0.22746}
[DEBUG] hodnota opSuccess: 1
[DEBUG] neighbor.sum_of_costs před opětovným přepočtem: 130
[DEBUG] neighbor.old_sum_of_costs před opětovným přepočtem: 135
[DEBUG] sum_of_costs před opětovným přepočtem: 2783
[DEBUG] Validate solution immediately after SAT success.
[WARNING] Problem after SAT: Target conflict: agent 31 (len 50) traverses target of agent 90 (len 41) at location 91 at timestep 45
[DEBUG] Attempting immediate repair via init_lns because problem occured after SAT (should be applied only for conflicts...).
[DEBUG] In LNS, we pass 100 agents to init_lns (skip=true). 
[DEBUG] Obsah path_table pro vybrané agenty (neighbor.agents):
  Agent 32 => controlling path length=45
  Agent 66 => controlling path length=46
  Agent 90 => controlling path length=42
[DEBUG] hodnota skip_initial_solution=1
[DEBUG] We skip initialSolution => call buildCollisionData()
[DEBUG] buildCollisionData() called – skip_initial_solution case.
[DEBUG] Agents.size()=100, collision_graph.size()=100
[DEBUG] agent 31 => updateCollidingPairs => foundCollision
[DEBUG] agent 90 => updateCollidingPairs => foundCollision
[DEBUG] Dvojice konfliktních agentů: 
agent 31 je v konfliktu s agentem 90
[DEBUG] buildCollisionData() => sum_of_costs=2778, num_of_colliding_pairs=1
[DEBUG] buildCollisionData done => sum_of_costs=2778, num_of_colliding_pairs=1
[DEBUG] sum_of_cost hodnota: 2778
[DEBUG] After skip/init build => iteration_stats.back(): sum_of_costs=2778, collisions=1
[DEBUG] Using default neighbor generation strategy for conflicts: 2
[DEBUG] Using default neighbor generation strategy for conflicts: 1
	InitLNS(PP): runtime = 0.00297621, iterations = 3, colliding pairs = 0, initial colliding pairs = 1, solution cost = 2742, initial solution cost = 2778, failed iterations = 0
[DEBUG] init_lns->sum_of_costs po doběhnutí init_lns->run: 2742
[DEBUG] sum_of_costs po přiřazení init_lns->run: 2742
[DEBUG] recomputing sum_of_cost by dividing neighbor.sum_of_costs and neighbor.old_sum_of_costs
[DEBUG] sum_of_costs po opětovném přepočtu: 2742
Iteration 2
[DEBUG] Using SAT operator (destroy+repair SAT).
====================
SAT destroy operator called.
[DEBUG] key_agent_id: 66
[DEBUG] key_agent_id délka globální cesty: 46
Submap content (global positions):
118 119 120 121 122 
150 151 152 153 154 
182 183 184 185 186 
214 215 216 217 218 
246 247 248 249 250 
Map content with agents and obstacles:
. . . A . 
. . X . . 
X . A A . 
. . . . . 
X . . . X 
[DEBUG] obsah struktury map, kterou předáváme SAT solveru: 
1  1  1  1  1  
1  1  -1  1  1  
-1  1  1  1  1  
1  1  1  1  1  
-1  1  1  1  -1  

[INFO] Identifikace agentů v submapě pro přeplánování (kdy key_agent je tam v čase 6):
[DEBUG] Agent 41 nalezené intervaly v submapě: [4..8]
  Agent 41 (interval v submapě: [4..8]) obsahuje čas 6, přidán k přeplánování.
[DEBUG] Agent 66 nalezené intervaly v submapě: [0..22] [38..45]
  Agent 66 (interval v submapě: [0..22]) obsahuje čas 6, přidán k přeplánování.
[DEBUG] Agent 68 nalezené intervaly v submapě: [5..12]
  Agent 68 (interval v submapě: [5..12]) obsahuje čas 6, přidán k přeplánování.
Agent 41 | Start (globální): 185 → (lokální): (2, 3) v čase 6 | Cíl (globální): 121 → (lokální): (0, 3) v čase 8
Agent 66 | Start (globální): 184 → (lokální): (2, 2) v čase 6 | Cíl (globální): 247 → (lokální): (4, 1) v čase 22
Agent 68 | Start (globální): 121 → (lokální): (0, 3) v čase 6 | Cíl (globální): 247 → (lokální): (4, 1) v čase 12
[REPAIR] SAT destroy operator called.
[REPAIR] SAT operator – spouštím subproblém NA OPTIMALIZACI.

[INFO] Tvorba lokálních cest (sx, sy) v submapě pro T_sync = 6
  Agent 41 (globální cesty od T=6 do 8) má lokální dráhu: (2,3) (1,3) (0,3) 
  Agent 66 (globální cesty od T=6 do 22) má lokální dráhu: (2,2) (2,2) (2,2) (2,2) (2,2) (2,2) (2,2) (2,2) (2,2) (3,2) (3,2) (3,2) (3,2) (3,2) (3,2) (4,2) (4,1) 
  Agent 68 (globální cesty od T=6 do 12) má lokální dráhu: (0,3) (0,2) (0,1) (1,1) (2,1) (3,1) (4,1) 

[DEBUG] Kontrola vstupních dat pro SAT solver:
  - Počet agentů k přeplánování: 3
[DEBUG] Agent 41 má původní lokální dráhu délky: 3 => Start (2,3), Goal (0,3)
[DEBUG] Agent 66 má původní lokální dráhu délky: 17 => Start (2,2), Goal (4,1)
[DEBUG] Agent 68 má původní lokální dráhu délky: 7 => Start (0,3), Goal (4,1)
Startovní pozice: (2, 3), (2, 2), (0, 3), 
CÍLOVÉ pozice: (0, 3), (4, 1), (4, 1), 
SAT instance and solver created.
Currently solving
Instance name: scen
Map name: map
Encoding used: disappear_at_goal
SAT solver used: Kissat
Optimizing function: sum of costs
Number of agents: 3
Mks LB: 7
SoC LB: 14
Delta: 0
Remaining time: 300000 [ms]

Vertex conflict! Agents 0, 1, timestep 4, location 0
Swapping conflict! Agents 0, 1, timestep 4, edge (0,0)
Vertex conflict! Agents 0, 1, timestep 5, location 0
Swapping conflict! Agents 0, 1, timestep 5, edge (0,0)
Vertex conflict! Agents 0, 1, timestep 6, location 0
Found plan [agents = 3] [timesteps = 7]
Agent #0 : 11 7 3 0 0 0 0 
Agent #1 : 10 15 19 18 0 0 0 
Agent #2 : 3 2 1 6 9 14 18 

Solver returned: 0
[DEBUG] Agent (index) 41 | Nová lokální cesta (submap idx): 11 7 3 
[DEBUG] Agent (index) 66 | Nová lokální cesta (submap idx): 10 15 19 18 
[DEBUG] Agent (index) 68 | Nová lokální cesta (submap idx): 3 2 1 6 9 14 18 
[INFO] Aktualizace cesty pro agenta 41 | Původní lokální délka: 3 | Nová lokální délka: 3
[DEBUG] agent 41 t=0 => decoded (sx,sy)=(2,3) => global_id=185
[DEBUG] agent 41 t=1 => decoded (sx,sy)=(1,3) => global_id=153
[DEBUG] agent 41 t=2 => decoded (sx,sy)=(0,3) => global_id=121
[DEBUG] Kompletní cesta agenta 41:
  Původní: 377 345 313 281 249 217 185 153 121 89 
  Nová:     377 345 313 281 249 217 185 153 121 89 
[DEBUG] Vykreslení PŮVODNÍ cesty:
  Prefix (před submapou): 377 345 313 281 249 217 
  Lokální cesta (v submapě): 185 153 121 
  Suffix (po submapě): 89 
[INFO] Původní délka cesty agenta 41 je: 10
(SATUtils.cpp) nová cesta v agents[a].path agenta 0: 377, 345, 313, 281, 249, 217, 185, 153, 121, 89, 
[INFO] Cesta pro agenta 41 aktualizována, výsledná délka: 10
[INFO] Aktualizace cesty pro agenta 66 | Původní lokální délka: 17 | Nová lokální délka: 4
[DEBUG] agent 66 t=0 => decoded (sx,sy)=(2,2) => global_id=184
[DEBUG] agent 66 t=1 => decoded (sx,sy)=(3,2) => global_id=216
[DEBUG] agent 66 t=2 => decoded (sx,sy)=(4,2) => global_id=248
[DEBUG] agent 66 t=3 => decoded (sx,sy)=(4,1) => global_id=247
[DEBUG] Kompletní cesta agenta 66:
  Původní: 119 151 183 184 184 184 184 184 184 184 184 184 184 184 184 216 216 216 216 216 216 248 247 279 278 277 277 277 277 277 277 277 277 277 276 244 212 213 214 215 183 151 119 120 121 122 
  Nová:     119 151 183 184 184 184 184 216 248 247 279 278 277 277 277 277 277 277 277 277 277 276 244 212 213 214 215 183 151 119 120 121 122 
[DEBUG] Vykreslení PŮVODNÍ cesty:
  Prefix (před submapou): 119 151 183 184 184 184 
  Lokální cesta (v submapě): 184 216 248 247 279 278 277 277 277 277 277 277 277 277 277 276 244 
  Suffix (po submapě): 212 213 214 215 183 151 119 120 121 122 
[INFO] Původní délka cesty agenta 66 je: 46
(SATUtils.cpp) nová cesta v agents[a].path agenta 1: 119, 151, 183, 184, 184, 184, 184, 216, 248, 247, 279, 278, 277, 277, 277, 277, 277, 277, 277, 277, 277, 276, 244, 212, 213, 214, 215, 183, 151, 119, 120, 121, 122, 
[INFO] Cesta pro agenta 66 aktualizována, výsledná délka: 33
[INFO] Aktualizace cesty pro agenta 68 | Původní lokální délka: 7 | Nová lokální délka: 7
[DEBUG] agent 68 t=0 => decoded (sx,sy)=(0,3) => global_id=121
[DEBUG] agent 68 t=1 => decoded (sx,sy)=(0,2) => global_id=120
[DEBUG] agent 68 t=2 => decoded (sx,sy)=(0,1) => global_id=119
[DEBUG] agent 68 t=3 => decoded (sx,sy)=(1,1) => global_id=151
[DEBUG] agent 68 t=4 => decoded (sx,sy)=(2,1) => global_id=183
[DEBUG] agent 68 t=5 => decoded (sx,sy)=(3,1) => global_id=215
[DEBUG] agent 68 t=6 => decoded (sx,sy)=(4,1) => global_id=247
[DEBUG] Kompletní cesta agenta 68:
  Původní: 61 60 59 58 90 122 121 120 119 151 183 215 247 279 278 277 309 341 373 405 437 469 501 533 565 597 596 628 660 692 724 756 788 787 819 851 883 882 881 880 879 878 910 942 974 975 976 977 1009 
  Nová:     61 60 59 58 90 122 121 120 119 151 183 215 247 279 278 277 309 341 373 405 437 469 501 533 565 597 596 628 660 692 724 756 788 787 819 851 883 882 881 880 879 878 910 942 974 975 976 977 1009 
[DEBUG] Vykreslení PŮVODNÍ cesty:
  Prefix (před submapou): 61 60 59 58 90 122 
  Lokální cesta (v submapě): 121 120 119 151 183 215 247 
  Suffix (po submapě): 279 278 277 309 341 373 405 437 469 501 533 565 597 596 628 660 692 724 756 788 787 819 851 883 882 881 880 879 878 910 942 974 975 976 977 1009 
[INFO] Původní délka cesty agenta 68 je: 49
(SATUtils.cpp) nová cesta v agents[a].path agenta 2: 61, 60, 59, 58, 90, 122, 121, 120, 119, 151, 183, 215, 247, 279, 278, 277, 309, 341, 373, 405, 437, 469, 501, 533, 565, 597, 596, 628, 660, 692, 724, 756, 788, 787, 819, 851, 883, 882, 881, 880, 879, 878, 910, 942, 974, 975, 976, 977, 1009, 
[INFO] Cesta pro agenta 68 aktualizována, výsledná délka: 49
Paths successfully updated.
(LNS.cpp) Nová cesta v agents[a].path agenta 41: 377, 345, 313, 281, 249, 217, 185, 153, 121, 89, 
(LNS.cpp) Nová cesta v agents[a].path agenta 66: 119, 151, 183, 184, 184, 184, 184, 216, 248, 247, 279, 278, 277, 277, 277, 277, 277, 277, 277, 277, 277, 276, 244, 212, 213, 214, 215, 183, 151, 119, 120, 121, 122, 
(LNS.cpp) Nová cesta v agents[a].path agenta 68: 61, 60, 59, 58, 90, 122, 121, 120, 119, 151, 183, 215, 247, 279, 278, 277, 309, 341, 373, 405, 437, 469, 501, 533, 565, 597, 596, 628, 660, 692, 724, 756, 788, 787, 819, 851, 883, 882, 881, 880, 879, 878, 910, 942, 974, 975, 976, 977, 1009, 
[DEBUG] hodnota delta: 0.127451
[DEBUG] rewarding metric index = 3
[DEBUG] component_weights = {0.21819, 0.284685, 0.23818, 0.258945}
[DEBUG] hodnota opSuccess: 1
[DEBUG] neighbor.sum_of_costs před opětovným přepočtem: 89
[DEBUG] neighbor.old_sum_of_costs před opětovným přepočtem: 102
[DEBUG] sum_of_costs před opětovným přepočtem: 2742
[DEBUG] Validate solution immediately after SAT success.
[WARNING] Problem after SAT: Target conflict: agent 31 (len 50) traverses target of agent 66 (len 32) at location 122 at timestep 43
[DEBUG] Attempting immediate repair via init_lns because problem occured after SAT (should be applied only for conflicts...).
[DEBUG] In LNS, we pass 100 agents to init_lns (skip=true). 
[DEBUG] Obsah path_table pro vybrané agenty (neighbor.agents):
  Agent 41 => controlling path length=10
  Agent 66 => controlling path length=33
  Agent 68 => controlling path length=49
[DEBUG] hodnota skip_initial_solution=1
[DEBUG] We skip initialSolution => call buildCollisionData()
[DEBUG] buildCollisionData() called – skip_initial_solution case.
[DEBUG] Agents.size()=100, collision_graph.size()=100
[DEBUG] agent 31 => updateCollidingPairs => foundCollision
[DEBUG] agent 32 => updateCollidingPairs => foundCollision
[DEBUG] agent 47 => updateCollidingPairs => foundCollision
[DEBUG] agent 52 => updateCollidingPairs => foundCollision
[DEBUG] agent 57 => updateCollidingPairs => foundCollision
[DEBUG] agent 66 => updateCollidingPairs => foundCollision
[DEBUG] agent 68 => updateCollidingPairs => foundCollision
[DEBUG] agent 78 => updateCollidingPairs => foundCollision
[DEBUG] Dvojice konfliktních agentů: 
agent 31 je v konfliktu s agentem 66
agent 32 je v konfliktu s agentem 66
agent 47 je v konfliktu s agentem 66
agent 52 je v konfliktu s agentem 66
agent 57 je v konfliktu s agentem 66
agent 66 je v konfliktu s agentem 68
agent 66 je v konfliktu s agentem 78
[DEBUG] buildCollisionData() => sum_of_costs=2729, num_of_colliding_pairs=7
[DEBUG] buildCollisionData done => sum_of_costs=2729, num_of_colliding_pairs=7
[DEBUG] sum_of_cost hodnota: 2729
[DEBUG] After skip/init build => iteration_stats.back(): sum_of_costs=2729, collisions=7
[DEBUG] Using default neighbor generation strategy for conflicts: 2
[DEBUG] Using default neighbor generation strategy for conflicts: 1
[DEBUG] Using default neighbor generation strategy for conflicts: 2
[DEBUG] Using default neighbor generation strategy for conflicts: 1
	InitLNS(PP): runtime = 0.00980312, iterations = 5, colliding pairs = 0, initial colliding pairs = 7, solution cost = 2805, initial solution cost = 2729, failed iterations = 0
[DEBUG] init_lns->sum_of_costs po doběhnutí init_lns->run: 2805
[DEBUG] sum_of_costs po přiřazení init_lns->run: 2805
[DEBUG] recomputing sum_of_cost by dividing neighbor.sum_of_costs and neighbor.old_sum_of_costs
[DEBUG] sum_of_costs po opětovném přepočtu: 2805
Iteration 3
[DEBUG] Using SAT operator (destroy+repair SAT).
====================
SAT destroy operator called.
[DEBUG] key_agent_id: 23
[DEBUG] key_agent_id délka globální cesty: 49
Submap content (global positions):
20 21 22 23 24 
52 53 54 55 56 
84 85 86 87 88 
116 117 118 119 120 
148 149 150 151 152 
Map content with agents and obstacles:
. X . X . 
. X A . . 
. . A X X 
. . . . . 
. . . . X 
[DEBUG] obsah struktury map, kterou předáváme SAT solveru: 
1  -1  1  -1  1  
1  -1  1  1  1  
1  1  1  -1  -1  
1  1  1  1  1  
1  1  1  1  -1  

[INFO] Identifikace agentů v submapě pro přeplánování (kdy key_agent je tam v čase 41):
[DEBUG] Agent 23 nalezené intervaly v submapě: [29..45]
  Agent 23 (interval v submapě: [29..45]) obsahuje čas 41, přidán k přeplánování.
[DEBUG] Agent 32 nalezené intervaly v submapě: [36..44]
  Agent 32 (interval v submapě: [36..44]) obsahuje čas 41, přidán k přeplánování.
[DEBUG] Agent 47 nalezené intervaly v submapě:
[DEBUG] Agent 47 není v submapě v čase 41 (intervaly: )
Agent 23 | Start (globální): 86 → (lokální): (2, 2) v čase 41 | Cíl (globální): 24 → (lokální): (0, 4) v čase 45
Agent 32 | Start (globální): 54 → (lokální): (1, 2) v čase 41 | Cíl (globální): 24 → (lokální): (0, 4) v čase 44
[REPAIR] SAT destroy operator called.
[REPAIR] SAT operator – spouštím subproblém NA OPTIMALIZACI.

[INFO] Tvorba lokálních cest (sx, sy) v submapě pro T_sync = 41
  Agent 23 (globální cesty od T=41 do 45) má lokální dráhu: (2,2) (1,2) (1,3) (1,4) (0,4) 
  Agent 32 (globální cesty od T=41 do 44) má lokální dráhu: (1,2) (1,3) (1,4) (0,4) 

[DEBUG] Kontrola vstupních dat pro SAT solver:
  - Počet agentů k přeplánování: 2
[DEBUG] Agent 23 má původní lokální dráhu délky: 5 => Start (2,2), Goal (0,4)
[DEBUG] Agent 32 má původní lokální dráhu délky: 4 => Start (1,2), Goal (0,4)
Startovní pozice: (2, 2), (1, 2), 
CÍLOVÉ pozice: (0, 4), (0, 4), 
SAT instance and solver created.
Currently solving
Instance name: scen
Map name: map
Encoding used: disappear_at_goal
SAT solver used: Kissat
Optimizing function: sum of costs
Number of agents: 2
Mks LB: 5
SoC LB: 9
Delta: 0
Remaining time: 300000 [ms]

Found plan [agents = 2] [timesteps = 5]
Agent #0 : 9 4 5 6 2 
Agent #1 : 4 5 6 2 0 

Solver returned: 0
[DEBUG] Agent (index) 23 | Nová lokální cesta (submap idx): 9 4 5 6 2 
[DEBUG] Agent (index) 32 | Nová lokální cesta (submap idx): 4 5 6 2 
[INFO] Aktualizace cesty pro agenta 23 | Původní lokální délka: 5 | Nová lokální délka: 5
[DEBUG] agent 23 t=0 => decoded (sx,sy)=(2,2) => global_id=86
[DEBUG] agent 23 t=1 => decoded (sx,sy)=(1,2) => global_id=54
[DEBUG] agent 23 t=2 => decoded (sx,sy)=(1,3) => global_id=55
[DEBUG] agent 23 t=3 => decoded (sx,sy)=(1,4) => global_id=56
[DEBUG] agent 23 t=4 => decoded (sx,sy)=(0,4) => global_id=24
[DEBUG] Kompletní cesta agenta 23:
  Původní: 123 91 91 59 58 26 26 58 90 90 90 90 90 122 154 186 185 184 184 184 184 184 184 184 184 184 184 184 183 151 151 151 151 151 151 151 151 151 151 150 118 86 54 55 56 24 25 26 27 
  Nová:     123 91 91 59 58 26 26 58 90 90 90 90 90 122 154 186 185 184 184 184 184 184 184 184 184 184 184 184 183 151 151 151 151 151 151 151 151 151 151 150 118 86 54 55 56 24 25 26 27 
[DEBUG] Vykreslení PŮVODNÍ cesty:
  Prefix (před submapou): 123 91 91 59 58 26 26 58 90 90 90 90 90 122 154 186 185 184 184 184 184 184 184 184 184 184 184 184 183 151 151 151 151 151 151 151 151 151 151 150 118 
  Lokální cesta (v submapě): 86 54 55 56 24 
  Suffix (po submapě): 25 26 27 
[INFO] Původní délka cesty agenta 23 je: 49
(SATUtils.cpp) nová cesta v agents[a].path agenta 0: 123, 91, 91, 59, 58, 26, 26, 58, 90, 90, 90, 90, 90, 122, 154, 186, 185, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 183, 151, 151, 151, 151, 151, 151, 151, 151, 151, 151, 150, 118, 86, 54, 55, 56, 24, 25, 26, 27, 
[INFO] Cesta pro agenta 23 aktualizována, výsledná délka: 49
[INFO] Aktualizace cesty pro agenta 32 | Původní lokální délka: 4 | Nová lokální délka: 4
[DEBUG] agent 32 t=0 => decoded (sx,sy)=(1,2) => global_id=54
[DEBUG] agent 32 t=1 => decoded (sx,sy)=(1,3) => global_id=55
[DEBUG] agent 32 t=2 => decoded (sx,sy)=(1,4) => global_id=56
[DEBUG] agent 32 t=3 => decoded (sx,sy)=(0,4) => global_id=24
[DEBUG] Kompletní cesta agenta 32:
  Původní: 680 648 647 646 645 613 581 549 550 551 519 519 487 455 456 424 425 393 361 329 330 331 299 267 268 269 270 271 239 240 208 176 177 178 179 180 148 149 150 118 86 54 55 56 24 25 26 27 28 29 61 93 
  Nová:     680 648 647 646 645 613 581 549 550 551 519 519 487 455 456 424 425 393 361 329 330 331 299 267 268 269 270 271 239 240 208 176 177 178 179 180 148 149 150 118 86 54 55 56 24 25 26 27 28 29 61 93 
[DEBUG] Vykreslení PŮVODNÍ cesty:
  Prefix (před submapou): 680 648 647 646 645 613 581 549 550 551 519 519 487 455 456 424 425 393 361 329 330 331 299 267 268 269 270 271 239 240 208 176 177 178 179 180 148 149 150 118 86 
  Lokální cesta (v submapě): 54 55 56 24 
  Suffix (po submapě): 25 26 27 28 29 61 93 
[INFO] Původní délka cesty agenta 32 je: 52
(SATUtils.cpp) nová cesta v agents[a].path agenta 1: 680, 648, 647, 646, 645, 613, 581, 549, 550, 551, 519, 519, 487, 455, 456, 424, 425, 393, 361, 329, 330, 331, 299, 267, 268, 269, 270, 271, 239, 240, 208, 176, 177, 178, 179, 180, 148, 149, 150, 118, 86, 54, 55, 56, 24, 25, 26, 27, 28, 29, 61, 93, 
[INFO] Cesta pro agenta 32 aktualizována, výsledná délka: 52
Paths successfully updated.
(LNS.cpp) Nová cesta v agents[a].path agenta 23: 123, 91, 91, 59, 58, 26, 26, 58, 90, 90, 90, 90, 90, 122, 154, 186, 185, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 183, 151, 151, 151, 151, 151, 151, 151, 151, 151, 151, 150, 118, 86, 54, 55, 56, 24, 25, 26, 27, 
(LNS.cpp) Nová cesta v agents[a].path agenta 32: 680, 648, 647, 646, 645, 613, 581, 549, 550, 551, 519, 519, 487, 455, 456, 424, 425, 393, 361, 329, 330, 331, 299, 267, 268, 269, 270, 271, 239, 240, 208, 176, 177, 178, 179, 180, 148, 149, 150, 118, 86, 54, 55, 56, 24, 25, 26, 27, 28, 29, 61, 93, 
[DEBUG] hodnota delta: 0
[DEBUG] rewarding metric index = 3
[DEBUG] component_weights = {0.215256, 0.280857, 0.234977, 0.268909}
[DEBUG] hodnota opSuccess: 1
[DEBUG] neighbor.sum_of_costs před opětovným přepočtem: 99
[DEBUG] neighbor.old_sum_of_costs před opětovným přepočtem: 99
[DEBUG] sum_of_costs před opětovným přepočtem: 2805
[DEBUG] Validate solution immediately after SAT success.
[DEBUG] No problems after SAT replan.
[DEBUG] recomputing sum_of_cost by dividing neighbor.sum_of_costs and neighbor.old_sum_of_costs
[DEBUG] sum_of_costs po opětovném přepočtu: 2805
Iteration 4
[DEBUG] Using SAT operator (destroy+repair SAT).
====================
SAT destroy operator called.
[DEBUG] key_agent_id: 23
[DEBUG] key_agent_id délka globální cesty: 49
Submap content (global positions):
85 86 87 88 89 
117 118 119 120 121 
149 150 151 152 153 
181 182 183 184 185 
213 214 215 216 217 
Map content with agents and obstacles:
. . X X . 
. . . . . 
. . A X . 
. X . . . 
. . . A . 
[DEBUG] obsah struktury map, kterou předáváme SAT solveru: 
1  1  -1  -1  1  
1  1  1  1  1  
1  1  1  -1  1  
1  -1  1  1  1  
1  1  1  1  1  

[INFO] Identifikace agentů v submapě pro přeplánování (kdy key_agent je tam v čase 30):
[DEBUG] Agent 23 nalezené intervaly v submapě: [16..41]
  Agent 23 (interval v submapě: [16..41]) obsahuje čas 30, přidán k přeplánování.
[DEBUG] Agent 66 nalezené intervaly v submapě: [0..38]
  Agent 66 (interval v submapě: [0..38]) obsahuje čas 30, přidán k přeplánování.
Agent 23 | Start (globální): 151 → (lokální): (2, 2) v čase 30 | Cíl (globální): 86 → (lokální): (0, 1) v čase 41
Agent 66 | Start (globální): 216 → (lokální): (4, 3) v čase 30 | Cíl (globální): 185 → (lokální): (3, 4) v čase 38
[REPAIR] SAT destroy operator called.
[REPAIR] SAT operator – spouštím subproblém NA OPTIMALIZACI.

[INFO] Tvorba lokálních cest (sx, sy) v submapě pro T_sync = 30
  Agent 23 (globální cesty od T=30 do 41) má lokální dráhu: (2,2) (2,2) (2,2) (2,2) (2,2) (2,2) (2,2) (2,2) (2,2) (2,1) (1,1) (0,1) 
  Agent 66 (globální cesty od T=30 do 38) má lokální dráhu: (4,3) (4,3) (4,3) (4,3) (4,3) (4,3) (4,3) (4,4) (3,4) 

[DEBUG] Kontrola vstupních dat pro SAT solver:
  - Počet agentů k přeplánování: 2
[DEBUG] Agent 23 má původní lokální dráhu délky: 12 => Start (2,2), Goal (0,1)
[DEBUG] Agent 66 má původní lokální dráhu délky: 9 => Start (4,3), Goal (3,4)
Startovní pozice: (2, 2), (4, 3), 
CÍLOVÉ pozice: (0, 1), (3, 4), 
SAT instance and solver created.
Currently solving
Instance name: scen
Map name: map
Encoding used: disappear_at_goal
SAT solver used: Kissat
Optimizing function: sum of costs
Number of agents: 2
Mks LB: 4
SoC LB: 7
Delta: 0
Remaining time: 300000 [ms]

Found plan [agents = 2] [timesteps = 4]
Agent #0 : 10 9 4 1 
Agent #1 : 19 20 15 0 

Solver returned: 0
[DEBUG] Agent (index) 23 | Nová lokální cesta (submap idx): 10 9 4 1 
[DEBUG] Agent (index) 66 | Nová lokální cesta (submap idx): 19 20 15 
[INFO] Aktualizace cesty pro agenta 23 | Původní lokální délka: 12 | Nová lokální délka: 4
[DEBUG] agent 23 t=0 => decoded (sx,sy)=(2,2) => global_id=151
[DEBUG] agent 23 t=1 => decoded (sx,sy)=(2,1) => global_id=150
[DEBUG] agent 23 t=2 => decoded (sx,sy)=(1,1) => global_id=118
[DEBUG] agent 23 t=3 => decoded (sx,sy)=(0,1) => global_id=86
[DEBUG] Kompletní cesta agenta 23:
  Původní: 123 91 91 59 58 26 26 58 90 90 90 90 90 122 154 186 185 184 184 184 184 184 184 184 184 184 184 184 183 151 151 151 151 151 151 151 151 151 151 150 118 86 54 55 56 24 25 26 27 
  Nová:     123 91 91 59 58 26 26 58 90 90 90 90 90 122 154 186 185 184 184 184 184 184 184 184 184 184 184 184 183 151 151 150 118 86 54 55 56 24 25 26 27 
[DEBUG] Vykreslení PŮVODNÍ cesty:
  Prefix (před submapou): 123 91 91 59 58 26 26 58 90 90 90 90 90 122 154 186 185 184 184 184 184 184 184 184 184 184 184 184 183 151 
  Lokální cesta (v submapě): 151 150 118 86 54 55 56 24 25 26 27 
  Suffix (po submapě): 
[INFO] Původní délka cesty agenta 23 je: 49
(SATUtils.cpp) nová cesta v agents[a].path agenta 0: 123, 91, 91, 59, 58, 26, 26, 58, 90, 90, 90, 90, 90, 122, 154, 186, 185, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 183, 151, 151, 150, 118, 86, 54, 55, 56, 24, 25, 26, 27, 
[INFO] Cesta pro agenta 23 aktualizována, výsledná délka: 41
[INFO] Aktualizace cesty pro agenta 66 | Původní lokální délka: 9 | Nová lokální délka: 3
[DEBUG] agent 66 t=0 => decoded (sx,sy)=(4,3) => global_id=216
[DEBUG] agent 66 t=1 => decoded (sx,sy)=(4,4) => global_id=217
[DEBUG] agent 66 t=2 => decoded (sx,sy)=(3,4) => global_id=185
[DEBUG] Kompletní cesta agenta 66:
  Původní: 119 151 183 184 184 184 184 184 184 184 184 184 184 184 184 216 216 216 216 216 216 216 216 216 216 216 216 216 216 216 216 216 216 216 216 216 216 217 185 186 154 154 154 154 122 
  Nová:     119 151 183 184 184 184 184 184 184 184 184 184 184 184 184 216 216 216 216 216 216 216 216 216 216 216 216 216 216 216 216 217 185 186 154 154 154 154 122 
[DEBUG] Vykreslení PŮVODNÍ cesty:
  Prefix (před submapou): 119 151 183 184 184 184 184 184 184 184 184 184 184 184 184 216 216 216 216 216 216 216 216 216 216 216 216 216 216 216 
  Lokální cesta (v submapě): 216 217 185 186 154 154 154 154 122 
  Suffix (po submapě): 
[INFO] Původní délka cesty agenta 66 je: 45
(SATUtils.cpp) nová cesta v agents[a].path agenta 1: 119, 151, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 216, 216, 216, 216, 216, 216, 216, 216, 216, 216, 216, 216, 216, 216, 216, 216, 217, 185, 186, 154, 154, 154, 154, 122, 
[INFO] Cesta pro agenta 66 aktualizována, výsledná délka: 39
Paths successfully updated.
(LNS.cpp) Nová cesta v agents[a].path agenta 23: 123, 91, 91, 59, 58, 26, 26, 58, 90, 90, 90, 90, 90, 122, 154, 186, 185, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 183, 151, 151, 150, 118, 86, 54, 55, 56, 24, 25, 26, 27, 
(LNS.cpp) Nová cesta v agents[a].path agenta 66: 119, 151, 183, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 184, 216, 216, 216, 216, 216, 216, 216, 216, 216, 216, 216, 216, 216, 216, 216, 216, 217, 185, 186, 154, 154, 154, 154, 122, 
[DEBUG] hodnota delta: 0.152174
[DEBUG] rewarding metric index = 2
[DEBUG] component_weights = {0.205004, 0.267481, 0.271412, 0.256102}
[DEBUG] hodnota opSuccess: 1
[DEBUG] neighbor.sum_of_costs před opětovným přepočtem: 78
[DEBUG] neighbor.old_sum_of_costs před opětovným přepočtem: 92
[DEBUG] sum_of_costs před opětovným přepočtem: 2805
[DEBUG] Validate solution immediately after SAT success.
[WARNING] Problem after SAT: Target conflict: agent 32 (len 51) traverses target of agent 23 (len 40) at location 27 at timestep 47
[DEBUG] Attempting immediate repair via init_lns because problem occured after SAT (should be applied only for conflicts...).
[DEBUG] In LNS, we pass 100 agents to init_lns (skip=true). 
[DEBUG] Obsah path_table pro vybrané agenty (neighbor.agents):
  Agent 23 => controlling path length=41
  Agent 66 => controlling path length=39
[DEBUG] hodnota skip_initial_solution=1
[DEBUG] We skip initialSolution => call buildCollisionData()
[DEBUG] buildCollisionData() called – skip_initial_solution case.
[DEBUG] Agents.size()=100, collision_graph.size()=100
[DEBUG] agent 23 => updateCollidingPairs => foundCollision
[DEBUG] agent 31 => updateCollidingPairs => foundCollision
[DEBUG] agent 32 => updateCollidingPairs => foundCollision
[DEBUG] agent 47 => updateCollidingPairs => foundCollision
[DEBUG] agent 66 => updateCollidingPairs => foundCollision
[DEBUG] Dvojice konfliktních agentů: 
agent 23 je v konfliktu s agentem 32
agent 31 je v konfliktu s agentem 66
agent 47 je v konfliktu s agentem 66
[DEBUG] buildCollisionData() => sum_of_costs=2791, num_of_colliding_pairs=3
[DEBUG] buildCollisionData done => sum_of_costs=2791, num_of_colliding_pairs=3
[DEBUG] sum_of_cost hodnota: 2791
[DEBUG] After skip/init build => iteration_stats.back(): sum_of_costs=2791, collisions=3
[DEBUG] Using default neighbor generation strategy for conflicts: 1
	InitLNS(PP): runtime = 0.0018695, iterations = 2, colliding pairs = 0, initial colliding pairs = 3, solution cost = 2803, initial solution cost = 2791, failed iterations = 0
[DEBUG] init_lns->sum_of_costs po doběhnutí init_lns->run: 2803
[DEBUG] sum_of_costs po přiřazení init_lns->run: 2803
[DEBUG] recomputing sum_of_cost by dividing neighbor.sum_of_costs and neighbor.old_sum_of_costs
[DEBUG] sum_of_costs po opětovném přepočtu: 2803
Iteration 5
[DEBUG] Using SAT operator (destroy+repair SAT).
====================
SAT destroy operator called.
[DEBUG] key_agent_id: 23
[DEBUG] key_agent_id délka globální cesty: 49
Submap content (global positions):
58 59 60 61 62 
90 91 92 93 94 
122 123 124 125 126 
154 155 156 157 158 
186 187 188 189 190 
Map content with agents and obstacles:
. A A . . 
. . X . A 
. . A X . 
. X . . A 
A X . . X 
[DEBUG] obsah struktury map, kterou předáváme SAT solveru: 
1  1  1  1  1  
1  1  -1  1  1  
1  1  1  -1  1  
1  -1  1  1  1  
1  -1  1  1  -1  

[INFO] Identifikace agentů v submapě pro přeplánování (kdy key_agent je tam v čase 1):
[DEBUG] Agent 3 nalezené intervaly v submapě: [1..4]
  Agent 3 (interval v submapě: [1..4]) obsahuje čas 1, přidán k přeplánování.
[DEBUG] Agent 4 nalezené intervaly v submapě: [1..8]
  Agent 4 (interval v submapě: [1..8]) obsahuje čas 1, přidán k přeplánování.
[DEBUG] Agent 23 nalezené intervaly v submapě: [0..13]
  Agent 23 (interval v submapě: [0..13]) obsahuje čas 1, přidán k přeplánování.
[DEBUG] Agent 68 nalezené intervaly v submapě: [0..4]
  Agent 68 (interval v submapě: [0..4]) obsahuje čas 1, přidán k přeplánování.
[DEBUG] Agent 86 nalezené intervaly v submapě: [0..10]
  Agent 86 (interval v submapě: [0..10]) obsahuje čas 1, přidán k přeplánování.
[DEBUG] Agent 90 nalezené intervaly v submapě: [1..4]
  Agent 90 (interval v submapě: [1..4]) obsahuje čas 1, přidán k přeplánování.
Agent 3 | Start (globální): 158 → (lokální): (3, 4) v čase 1 | Cíl (globální): 188 → (lokální): (4, 2) v čase 4
Agent 4 | Start (globální): 186 → (lokální): (4, 0) v čase 1 | Cíl (globální): 158 → (lokální): (3, 4) v čase 8
Agent 23 | Start (globální): 124 → (lokální): (2, 2) v čase 1 | Cíl (globální): 122 → (lokální): (2, 0) v čase 13
Agent 68 | Start (globální): 60 → (lokální): (0, 2) v čase 1 | Cíl (globální): 90 → (lokální): (1, 0) v čase 4
Agent 86 | Start (globální): 94 → (lokální): (1, 4) v čase 1 | Cíl (globální): 186 → (lokální): (4, 0) v čase 10
Agent 90 | Start (globální): 59 → (lokální): (0, 1) v čase 1 | Cíl (globální): 91 → (lokální): (1, 1) v čase 4
[REPAIR] SAT destroy operator called.
[REPAIR] SAT operator – spouštím subproblém NA OPTIMALIZACI.

[INFO] Tvorba lokálních cest (sx, sy) v submapě pro T_sync = 1
  Agent 3 (globální cesty od T=1 do 4) má lokální dráhu: (3,4) (3,3) (3,2) (4,2) 
  Agent 4 (globální cesty od T=1 do 8) má lokální dráhu: (4,0) (3,0) (2,0) (2,1) (2,2) (3,2) (3,3) (3,4) 
  Agent 23 (globální cesty od T=1 do 13) má lokální dráhu: (2,2) (2,2) (2,2) (3,2) (4,2) (4,2) (3,2) (2,2) (2,1) (2,0) (1,0) (1,0) (2,0) 
  Agent 68 (globální cesty od T=1 do 4) má lokální dráhu: (0,2) (0,1) (0,0) (1,0) 
  Agent 86 (globální cesty od T=1 do 10) má lokální dráhu: (1,4) (1,3) (0,3) (0,2) (0,1) (0,0) (1,0) (2,0) (3,0) (4,0) 
  Agent 90 (globální cesty od T=1 do 4) má lokální dráhu: (0,1) (0,0) (1,0) (1,1) 

[DEBUG] Kontrola vstupních dat pro SAT solver:
  - Počet agentů k přeplánování: 6
[DEBUG] Agent 3 má původní lokální dráhu délky: 4 => Start (3,4), Goal (4,2)
[DEBUG] Agent 4 má původní lokální dráhu délky: 8 => Start (4,0), Goal (3,4)
[DEBUG] Agent 23 má původní lokální dráhu délky: 13 => Start (2,2), Goal (2,0)
[DEBUG] Agent 68 má původní lokální dráhu délky: 4 => Start (0,2), Goal (1,0)
[DEBUG] Agent 86 má původní lokální dráhu délky: 10 => Start (1,4), Goal (4,0)
[DEBUG] Agent 90 má původní lokální dráhu délky: 4 => Start (0,1), Goal (1,1)
Startovní pozice: (3, 4), (4, 0), (2, 2), (0, 2), (1, 4), (0, 1), 
CÍLOVÉ pozice: (4, 2), (3, 4), (2, 0), (1, 0), (4, 0), (1, 1), 
SAT instance and solver created.
Currently solving
Instance name: scen
Map name: map
Encoding used: disappear_at_goal
SAT solver used: Kissat
Optimizing function: sum of costs
Number of agents: 6
Mks LB: 10
SoC LB: 31
Delta: 0
Remaining time: 300000 [ms]

Solver returned: -1
SAT solver failed.
[WARN] SAT solver failed to find a valid solution.
====================
SAT destroy operator called.
[DEBUG] key_agent_id: 23
[DEBUG] key_agent_id délka globální cesty: 49
Submap content (global positions):
150 151 152 153 154 
182 183 184 185 186 
214 215 216 217 218 
246 247 248 249 250 
278 279 280 281 282 
Map content with agents and obstacles:
. . X . . 
X . . . . 
A . A . . 
X . . . X 
. . X . X 
[DEBUG] obsah struktury map, kterou předáváme SAT solveru: 
1  1  -1  1  1  
-1  1  1  1  1  
1  1  1  1  1  
-1  1  1  1  -1  
1  1  -1  1  -1  

[INFO] Identifikace agentů v submapě pro přeplánování (kdy key_agent je tam v čase 32):
[DEBUG] Agent 23 nalezené intervaly v submapě: [15..35] [39..39]
  Agent 23 (interval v submapě: [15..35]) obsahuje čas 32, přidán k přeplánování.
[DEBUG] Agent 32 nalezené intervaly v submapě: [38..38]
[DEBUG] Agent 32 není v submapě v čase 32 (intervaly: [38..38] )
[DEBUG] Agent 57 nalezené intervaly v submapě: [32..36]
  Agent 57 (interval v submapě: [32..36]) obsahuje čas 32, přidán k přeplánování.
[DEBUG] Agent 66 nalezené intervaly v submapě: [1..10] [12..15]
[DEBUG] Agent 66 není v submapě v čase 32 (intervaly: [1..10] [12..15] )
Agent 23 | Start (globální): 216 → (lokální): (2, 2) v čase 32 | Cíl (globální): 214 → (lokální): (2, 0) v čase 35
Agent 57 | Start (globální): 214 → (lokální): (2, 0) v čase 32 | Cíl (globální): 249 → (lokální): (3, 3) v čase 36
[REPAIR] SAT destroy operator called.
[REPAIR] SAT operator – spouštím subproblém NA OPTIMALIZACI.

[INFO] Tvorba lokálních cest (sx, sy) v submapě pro T_sync = 32
  Agent 23 (globální cesty od T=32 do 35) má lokální dráhu: (2,2) (2,2) (2,1) (2,0) 
  Agent 57 (globální cesty od T=32 do 36) má lokální dráhu: (2,0) (2,1) (3,1) (3,2) (3,3) 

[DEBUG] Kontrola vstupních dat pro SAT solver:
  - Počet agentů k přeplánování: 2
[DEBUG] Agent 23 má původní lokální dráhu délky: 4 => Start (2,2), Goal (2,0)
[DEBUG] Agent 57 má původní lokální dráhu délky: 5 => Start (2,0), Goal (3,3)
Startovní pozice: (2, 2), (2, 0), 
CÍLOVÉ pozice: (2, 0), (3, 3), 
SAT instance and solver created.
Currently solving
Instance name: scen
Map name: map
Encoding used: disappear_at_goal
SAT solver used: Kissat
Optimizing function: sum of costs
Number of agents: 2
Mks LB: 5
SoC LB: 8
Delta: 0
Remaining time: 300000 [ms]

Solver returned: -1
SAT solver failed.
[WARN] SAT solver failed to find a valid solution.
====================
SAT destroy operator called.
[DEBUG] key_agent_id: 23
[DEBUG] key_agent_id délka globální cesty: 49
Submap content (global positions):
150 151 152 153 154 
182 183 184 185 186 
214 215 216 217 218 
246 247 248 249 250 
278 279 280 281 282 
Map content with agents and obstacles:
. . X . . 
X . . . . 
. . A . . 
X . . . X 
. . X . X 
[DEBUG] obsah struktury map, kterou předáváme SAT solveru: 
1  1  -1  1  1  
-1  1  1  1  1  
1  1  1  1  1  
-1  1  1  1  -1  
1  1  -1  1  -1  

[INFO] Identifikace agentů v submapě pro přeplánování (kdy key_agent je tam v čase 21):
[DEBUG] Agent 23 nalezené intervaly v submapě: [15..35] [39..39]
  Agent 23 (interval v submapě: [15..35]) obsahuje čas 21, přidán k přeplánování.
[DEBUG] Agent 57 nalezené intervaly v submapě: [32..36]
[DEBUG] Agent 57 není v submapě v čase 21 (intervaly: [32..36] )
[DEBUG] Agent 66 nalezené intervaly v submapě: [1..10] [12..15]
[DEBUG] Agent 66 není v submapě v čase 21 (intervaly: [1..10] [12..15] )
Agent 23 | Start (globální): 216 → (lokální): (2, 2) v čase 21 | Cíl (globální): 214 → (lokální): (2, 0) v čase 35
[REPAIR] SAT destroy operator called.
[REPAIR] SAT operator – spouštím subproblém NA OPTIMALIZACI.

[INFO] Tvorba lokálních cest (sx, sy) v submapě pro T_sync = 21
  Agent 23 (globální cesty od T=21 do 35) má lokální dráhu: (2,2) (2,2) (2,2) (2,2) (2,2) (2,2) (2,2) (2,2) (2,2) (2,2) (2,2) (2,2) (2,2) (2,1) (2,0) 

[DEBUG] Kontrola vstupních dat pro SAT solver:
  - Počet agentů k přeplánování: 1
[DEBUG] Agent 23 má původní lokální dráhu délky: 15 => Start (2,2), Goal (2,0)
Startovní pozice: (2, 2), 
CÍLOVÉ pozice: (2, 0), 
SAT instance and solver created.
Currently solving
Instance name: scen
Map name: map
Encoding used: disappear_at_goal
SAT solver used: Kissat
Optimizing function: sum of costs
Number of agents: 1
Mks LB: 3
SoC LB: 3
Delta: 0
Remaining time: 300000 [ms]

Found plan [agents = 1] [timesteps = 3]
Agent #0 : 10 9 8 

Solver returned: 0
[DEBUG] Agent (index) 23 | Nová lokální cesta (submap idx): 10 9 8 
[INFO] Aktualizace cesty pro agenta 23 | Původní lokální délka: 15 | Nová lokální délka: 3
[DEBUG] agent 23 t=0 => decoded (sx,sy)=(2,2) => global_id=216
[DEBUG] agent 23 t=1 => decoded (sx,sy)=(2,1) => global_id=215
[DEBUG] agent 23 t=2 => decoded (sx,sy)=(2,0) => global_id=214
[DEBUG] Kompletní cesta agenta 23:
  Původní: 123 124 124 124 156 188 188 156 124 123 122 90 90 122 121 153 185 184 216 216 216 216 216 216 216 216 216 216 216 216 216 216 216 216 215 214 213 181 149 150 118 86 54 55 56 24 25 26 27 
  Nová:     123 124 124 124 156 188 188 156 124 123 122 90 90 122 121 153 185 184 216 216 216 216 215 214 213 181 149 150 118 86 54 55 56 24 25 26 27 
[DEBUG] Vykreslení PŮVODNÍ cesty:
  Prefix (před submapou): 123 124 124 124 156 188 188 156 124 123 122 90 90 122 121 153 185 184 216 216 216 
  Lokální cesta (v submapě): 216 215 214 213 181 149 150 118 86 54 55 56 24 25 26 
  Suffix (po submapě): 27 
[INFO] Původní délka cesty agenta 23 je: 49
(SATUtils.cpp) nová cesta v agents[a].path agenta 0: 123, 124, 124, 124, 156, 188, 188, 156, 124, 123, 122, 90, 90, 122, 121, 153, 185, 184, 216, 216, 216, 216, 215, 214, 213, 181, 149, 150, 118, 86, 54, 55, 56, 24, 25, 26, 27, 
[INFO] Cesta pro agenta 23 aktualizována, výsledná délka: 37
Paths successfully updated.
(LNS.cpp) Nová cesta v agents[a].path agenta 23: 123, 124, 124, 124, 156, 188, 188, 156, 124, 123, 122, 90, 90, 122, 121, 153, 185, 184, 216, 216, 216, 216, 215, 214, 213, 181, 149, 150, 118, 86, 54, 55, 56, 24, 25, 26, 27, 
[DEBUG] hodnota delta: 0.25
[DEBUG] rewarding metric index = 2
[DEBUG] component_weights = {0.188821, 0.246366, 0.328928, 0.235885}
[DEBUG] hodnota opSuccess: 1
[DEBUG] neighbor.sum_of_costs před opětovným přepočtem: 36
[DEBUG] neighbor.old_sum_of_costs před opětovným přepočtem: 48
[DEBUG] sum_of_costs před opětovným přepočtem: 2803
[DEBUG] Validate solution immediately after SAT success.
[WARNING] Problem after SAT: Target conflict: agent 32 (len 51) traverses target of agent 23 (len 36) at location 27 at timestep 47
[DEBUG] Attempting immediate repair via init_lns because problem occured after SAT (should be applied only for conflicts...).
[DEBUG] In LNS, we pass 100 agents to init_lns (skip=true). 
[DEBUG] Obsah path_table pro vybrané agenty (neighbor.agents):
  Agent 23 => controlling path length=37
[DEBUG] hodnota skip_initial_solution=1
[DEBUG] We skip initialSolution => call buildCollisionData()
[DEBUG] buildCollisionData() called – skip_initial_solution case.
[DEBUG] Agents.size()=100, collision_graph.size()=100
[DEBUG] agent 23 => updateCollidingPairs => foundCollision
[DEBUG] agent 32 => updateCollidingPairs => foundCollision
[DEBUG] Dvojice konfliktních agentů: 
agent 23 je v konfliktu s agentem 32
[DEBUG] buildCollisionData() => sum_of_costs=2791, num_of_colliding_pairs=1
[DEBUG] buildCollisionData done => sum_of_costs=2791, num_of_colliding_pairs=1
[DEBUG] sum_of_cost hodnota: 2791
[DEBUG] After skip/init build => iteration_stats.back(): sum_of_costs=2791, collisions=1
[DEBUG] Using default neighbor generation strategy for conflicts: 1
[DEBUG] Using default neighbor generation strategy for conflicts: 2
[DEBUG] Using default neighbor generation strategy for conflicts: 0
	InitLNS(PP): runtime = 0.00808417, iterations = 4, colliding pairs = 0, initial colliding pairs = 1, solution cost = 2746, initial solution cost = 2791, failed iterations = 0
[DEBUG] init_lns->sum_of_costs po doběhnutí init_lns->run: 2746
[DEBUG] sum_of_costs po přiřazení init_lns->run: 2746
[DEBUG] recomputing sum_of_cost by dividing neighbor.sum_of_costs and neighbor.old_sum_of_costs
[DEBUG] sum_of_costs po opětovném přepočtu: 2746
Iteration 6
[DEBUG] Using SAT operator (destroy+repair SAT).
====================
SAT destroy operator called.
[DEBUG] key_agent_id: 66
[DEBUG] key_agent_id délka globální cesty: 45
Submap content (global positions):
85 86 87 88 89 
117 118 119 120 121 
149 150 151 152 153 
181 182 183 184 185 
213 214 215 216 217 
Map content with agents and obstacles:
. . X X . 
. . . . . 
. . A X . 
. X . . . 
. A . . A 
[DEBUG] obsah struktury map, kterou předáváme SAT solveru: 
1  1  -1  -1  1  
1  1  1  1  1  
1  1  1  -1  1  
1  -1  1  1  1  
1  1  1  1  1  

[INFO] Identifikace agentů v submapě pro přeplánování (kdy key_agent je tam v čase 12):
[DEBUG] Agent 30 nalezené intervaly v submapě: [7..15]
  Agent 30 (interval v submapě: [7..15]) obsahuje čas 12, přidán k přeplánování.
[DEBUG] Agent 52 nalezené intervaly v submapě:
[DEBUG] Agent 52 není v submapě v čase 12 (intervaly: )
[DEBUG] Agent 66 nalezené intervaly v submapě: [0..43]
  Agent 66 (interval v submapě: [0..43]) obsahuje čas 12, přidán k přeplánování.
[DEBUG] Agent 86 nalezené intervaly v submapě: [12..12]
  Agent 86 (interval v submapě: [12..12]) obsahuje čas 12, přidán k přeplánování.
Agent 30 | Start (globální): 214 → (lokální): (4, 1) v čase 12 | Cíl (globální): 217 → (lokální): (4, 4) v čase 15
Agent 66 | Start (globální): 151 → (lokální): (2, 2) v čase 12 | Cíl (globální): 121 → (lokální): (1, 4) v čase 43
Agent 86 | Start (globální): 217 → (lokální): (4, 4) v čase 12 | Cíl (globální): 217 → (lokální): (4, 4) v čase 12
[REPAIR] SAT destroy operator called.
[REPAIR] SAT operator – spouštím subproblém NA OPTIMALIZACI.

[INFO] Tvorba lokálních cest (sx, sy) v submapě pro T_sync = 12
  Agent 30 (globální cesty od T=12 do 15) má lokální dráhu: (4,1) (4,2) (4,3) (4,4) 
  Agent 66 (globální cesty od T=12 do 43) má lokální dráhu: (2,2) (2,2) (2,2) (2,2) (1,2) (1,3) (1,4) (1,4) (1,4) (1,4) (1,4) (1,4) (1,4) (1,4) (1,4) (1,4) (1,4) (1,4) (1,4) (1,4) (1,4) (1,4) (1,4) (1,4) (1,4) (1,4) (1,4) (1,4) (1,4) (1,4) (1,4) (1,4) 
  Agent 86 (globální cesty od T=12 do 12) má lokální dráhu: (4,4) 

[DEBUG] Kontrola vstupních dat pro SAT solver:
  - Počet agentů k přeplánování: 3
[DEBUG] Agent 30 má původní lokální dráhu délky: 4 => Start (4,1), Goal (4,4)
[DEBUG] Agent 66 má původní lokální dráhu délky: 32 => Start (2,2), Goal (1,4)
[DEBUG] Agent 86 má původní lokální dráhu délky: 1 => Start (4,4), Goal (4,4)
Startovní pozice: (4, 1), (2, 2), (4, 4), 
CÍLOVÉ pozice: (4, 4), (1, 4), (4, 4), 
SAT instance and solver created.
Currently solving
Instance name: scen
Map name: map
Encoding used: disappear_at_goal
SAT solver used: Kissat
Optimizing function: sum of costs
Number of agents: 3
Mks LB: 4
SoC LB: 9
Delta: 0
Remaining time: 300000 [ms]

Found plan [agents = 3] [timesteps = 4]
Agent #0 : 17 18 19 20 
Agent #1 : 10 5 6 7 
Agent #2 : 20 0 0 0 

Solver returned: 0
[DEBUG] Agent (index) 30 | Nová lokální cesta (submap idx): 17 18 19 20 
[DEBUG] Agent (index) 66 | Nová lokální cesta (submap idx): 10 5 6 7 
[DEBUG] Agent (index) 86 | Nová lokální cesta (submap idx): 20 
[INFO] Aktualizace cesty pro agenta 30 | Původní lokální délka: 4 | Nová lokální délka: 4
[DEBUG] agent 30 t=0 => decoded (sx,sy)=(4,1) => global_id=214
[DEBUG] agent 30 t=1 => decoded (sx,sy)=(4,2) => global_id=215
[DEBUG] agent 30 t=2 => decoded (sx,sy)=(4,3) => global_id=216
[DEBUG] agent 30 t=3 => decoded (sx,sy)=(4,4) => global_id=217
[DEBUG] Kompletní cesta agenta 30:
  Původní: 16 48 49 50 82 83 84 85 117 149 181 213 214 215 216 217 249 281 313 345 377 409 441 473 505 506 538 570 571 603 635 636 637 638 670 702 703 735 767 766 798 830 829 861 
  Nová:     16 48 49 50 82 83 84 85 117 149 181 213 214 215 216 217 249 281 313 345 377 409 441 473 505 506 538 570 571 603 635 636 637 638 670 702 703 735 767 766 798 830 829 861 
[DEBUG] Vykreslení PŮVODNÍ cesty:
  Prefix (před submapou): 16 48 49 50 82 83 84 85 117 149 181 213 
  Lokální cesta (v submapě): 214 215 216 217 
  Suffix (po submapě): 249 281 313 345 377 409 441 473 505 506 538 570 571 603 635 636 637 638 670 702 703 735 767 766 798 830 829 861 
[INFO] Původní délka cesty agenta 30 je: 44
(SATUtils.cpp) nová cesta v agents[a].path agenta 0: 16, 48, 49, 50, 82, 83, 84, 85, 117, 149, 181, 213, 214, 215, 216, 217, 249, 281, 313, 345, 377, 409, 441, 473, 505, 506, 538, 570, 571, 603, 635, 636, 637, 638, 670, 702, 703, 735, 767, 766, 798, 830, 829, 861, 
[INFO] Cesta pro agenta 30 aktualizována, výsledná délka: 44
[INFO] Aktualizace cesty pro agenta 66 | Původní lokální délka: 32 | Nová lokální délka: 4
[DEBUG] agent 66 t=0 => decoded (sx,sy)=(2,2) => global_id=151
[DEBUG] agent 66 t=1 => decoded (sx,sy)=(1,2) => global_id=119
[DEBUG] agent 66 t=2 => decoded (sx,sy)=(1,3) => global_id=120
[DEBUG] agent 66 t=3 => decoded (sx,sy)=(1,4) => global_id=121
[DEBUG] Kompletní cesta agenta 66:
  Původní: 119 151 150 150 150 150 150 150 150 150 151 119 151 151 151 151 119 120 121 121 121 121 121 121 121 121 121 121 121 121 121 121 121 121 121 121 121 121 121 121 121 121 121 121 122 
  Nová:     119 151 150 150 150 150 150 150 150 150 151 119 151 119 120 121 122 
[DEBUG] Vykreslení PŮVODNÍ cesty:
  Prefix (před submapou): 119 151 150 150 150 150 150 150 150 150 151 119 
  Lokální cesta (v submapě): 151 119 120 121 122 
  Suffix (po submapě): 
[INFO] Původní délka cesty agenta 66 je: 45
(SATUtils.cpp) nová cesta v agents[a].path agenta 1: 119, 151, 150, 150, 150, 150, 150, 150, 150, 150, 151, 119, 151, 119, 120, 121, 122, 
[INFO] Cesta pro agenta 66 aktualizována, výsledná délka: 17
[INFO] Aktualizace cesty pro agenta 86 | Původní lokální délka: 1 | Nová lokální délka: 1
[DEBUG] agent 86 t=0 => decoded (sx,sy)=(4,4) => global_id=217
[DEBUG] Kompletní cesta agenta 86:
  Původní: 126 94 93 61 60 59 58 90 122 154 186 218 217 249 248 247 279 311 310 309 341 340 339 338 337 369 401 400 432 431 463 462 494 526 558 590 589 588 620 
  Nová:     126 94 93 61 60 59 58 90 122 154 186 218 217 249 248 247 279 311 310 309 341 340 339 338 337 369 401 400 432 431 463 462 494 526 558 590 589 588 620 
[DEBUG] Vykreslení PŮVODNÍ cesty:
  Prefix (před submapou): 126 94 93 61 60 59 58 90 122 154 186 218 
  Lokální cesta (v submapě): 217 
  Suffix (po submapě): 249 248 247 279 311 310 309 341 340 339 338 337 369 401 400 432 431 463 462 494 526 558 590 589 588 620 
[INFO] Původní délka cesty agenta 86 je: 39
(SATUtils.cpp) nová cesta v agents[a].path agenta 2: 126, 94, 93, 61, 60, 59, 58, 90, 122, 154, 186, 218, 217, 249, 248, 247, 279, 311, 310, 309, 341, 340, 339, 338, 337, 369, 401, 400, 432, 431, 463, 462, 494, 526, 558, 590, 589, 588, 620, 
[INFO] Cesta pro agenta 86 aktualizována, výsledná délka: 39
Paths successfully updated.
(LNS.cpp) Nová cesta v agents[a].path agenta 30: 16, 48, 49, 50, 82, 83, 84, 85, 117, 149, 181, 213, 214, 215, 216, 217, 249, 281, 313, 345, 377, 409, 441, 473, 505, 506, 538, 570, 571, 603, 635, 636, 637, 638, 670, 702, 703, 735, 767, 766, 798, 830, 829, 861, 
(LNS.cpp) Nová cesta v agents[a].path agenta 66: 119, 151, 150, 150, 150, 150, 150, 150, 150, 150, 151, 119, 151, 119, 120, 121, 122, 
(LNS.cpp) Nová cesta v agents[a].path agenta 86: 126, 94, 93, 61, 60, 59, 58, 90, 122, 154, 186, 218, 217, 249, 248, 247, 279, 311, 310, 309, 341, 340, 339, 338, 337, 369, 401, 400, 432, 431, 463, 462, 494, 526, 558, 590, 589, 588, 620, 
[DEBUG] hodnota delta: 0.224
[DEBUG] rewarding metric index = 3
[DEBUG] component_weights = {0.176793, 0.230672, 0.307976, 0.284559}
[DEBUG] hodnota opSuccess: 1
[DEBUG] neighbor.sum_of_costs před opětovným přepočtem: 97
[DEBUG] neighbor.old_sum_of_costs před opětovným přepočtem: 125
[DEBUG] sum_of_costs před opětovným přepočtem: 2746
[DEBUG] Validate solution immediately after SAT success.
[WARNING] Problem after SAT: Target conflict: agent 31 (len 50) traverses target of agent 66 (len 16) at location 122 at timestep 43
[DEBUG] Attempting immediate repair via init_lns because problem occured after SAT (should be applied only for conflicts...).
[DEBUG] In LNS, we pass 100 agents to init_lns (skip=true). 
[DEBUG] Obsah path_table pro vybrané agenty (neighbor.agents):
  Agent 30 => controlling path length=44
  Agent 66 => controlling path length=17
  Agent 86 => controlling path length=39
[DEBUG] hodnota skip_initial_solution=1
[DEBUG] We skip initialSolution => call buildCollisionData()
[DEBUG] buildCollisionData() called – skip_initial_solution case.
[DEBUG] Agents.size()=100, collision_graph.size()=100
[DEBUG] agent 31 => updateCollidingPairs => foundCollision
[DEBUG] agent 32 => updateCollidingPairs => foundCollision
[DEBUG] agent 47 => updateCollidingPairs => foundCollision
[DEBUG] agent 66 => updateCollidingPairs => foundCollision
[DEBUG] agent 72 => updateCollidingPairs => foundCollision
[DEBUG] Dvojice konfliktních agentů: 
agent 31 je v konfliktu s agentem 66
agent 32 je v konfliktu s agentem 66
agent 47 je v konfliktu s agentem 66
agent 66 je v konfliktu s agentem 72
[DEBUG] buildCollisionData() => sum_of_costs=2718, num_of_colliding_pairs=4
[DEBUG] buildCollisionData done => sum_of_costs=2718, num_of_colliding_pairs=4
[DEBUG] sum_of_cost hodnota: 2718
[DEBUG] After skip/init build => iteration_stats.back(): sum_of_costs=2718, collisions=4
[DEBUG] Using default neighbor generation strategy for conflicts: 0
[DEBUG] Using default neighbor generation strategy for conflicts: 0
[DEBUG] Using default neighbor generation strategy for conflicts: 1
[DEBUG] Using default neighbor generation strategy for conflicts: 2
[DEBUG] Using default neighbor generation strategy for conflicts: 0
	InitLNS(PP): runtime = 0.00930742, iterations = 6, colliding pairs = 0, initial colliding pairs = 4, solution cost = 2755, initial solution cost = 2718, failed iterations = 0
[DEBUG] init_lns->sum_of_costs po doběhnutí init_lns->run: 2755
[DEBUG] sum_of_costs po přiřazení init_lns->run: 2755
[DEBUG] recomputing sum_of_cost by dividing neighbor.sum_of_costs and neighbor.old_sum_of_costs
[DEBUG] sum_of_costs po opětovném přepočtu: 2755
Iteration 7
[DEBUG] Using SAT operator (destroy+repair SAT).
====================
SAT destroy operator called.
[DEBUG] key_agent_id: 23
[DEBUG] key_agent_id délka globální cesty: 49
Submap content (global positions):
57 58 59 60 61 
89 90 91 92 93 
121 122 123 124 125 
153 154 155 156 157 
185 186 187 188 189 
Map content with agents and obstacles:
X . . . . 
. . . X . 
. A A . X 
. . X . . 
. . X . . 
[DEBUG] obsah struktury map, kterou předáváme SAT solveru: 
-1  1  1  1  1  
1  1  1  -1  1  
1  1  1  1  -1  
1  1  -1  1  1  
1  1  -1  1  1  

[INFO] Identifikace agentů v submapě pro přeplánování (kdy key_agent je tam v čase 11):
[DEBUG] Agent 23 nalezené intervaly v submapě: [0..15]
  Agent 23 (interval v submapě: [0..15]) obsahuje čas 11, přidán k přeplánování.
[DEBUG] Agent 66 nalezené intervaly v submapě: [7..13]
  Agent 66 (interval v submapě: [7..13]) obsahuje čas 11, přidán k přeplánování.
[DEBUG] Agent 86 nalezené intervaly v submapě: [2..10]
[DEBUG] Agent 86 není v submapě v čase 11 (intervaly: [2..10] )
Agent 23 | Start (globální): 123 → (lokální): (2, 2) v čase 11 | Cíl (globální): 185 → (lokální): (4, 0) v čase 15
Agent 66 | Start (globální): 122 → (lokální): (2, 1) v čase 11 | Cíl (globální): 122 → (lokální): (2, 1) v čase 13
[REPAIR] SAT destroy operator called.
[REPAIR] SAT operator – spouštím subproblém NA OPTIMALIZACI.

[INFO] Tvorba lokálních cest (sx, sy) v submapě pro T_sync = 11
  Agent 23 (globální cesty od T=11 do 15) má lokální dráhu: (2,2) (2,1) (3,1) (3,0) (4,0) 
  Agent 66 (globální cesty od T=11 do 13) má lokální dráhu: (2,1) (1,1) (2,1) 

[DEBUG] Kontrola vstupních dat pro SAT solver:
  - Počet agentů k přeplánování: 2
[DEBUG] Agent 23 má původní lokální dráhu délky: 5 => Start (2,2), Goal (4,0)
[DEBUG] Agent 66 má původní lokální dráhu délky: 3 => Start (2,1), Goal (2,1)
Startovní pozice: (2, 2), (2, 1), 
CÍLOVÉ pozice: (4, 0), (2, 1), 
SAT instance and solver created.
Currently solving
Instance name: scen
Map name: map
Encoding used: disappear_at_goal
SAT solver used: Kissat
Optimizing function: sum of costs
Number of agents: 2
Mks LB: 5
SoC LB: 6
Delta: 0
Remaining time: 300000 [ms]

Found plan [agents = 2] [timesteps = 5]
Agent #0 : 10 9 13 17 16 
Agent #1 : 9 0 0 0 0 

Solver returned: 0
[DEBUG] Agent (index) 23 | Nová lokální cesta (submap idx): 10 9 13 17 16 
[DEBUG] Agent (index) 66 | Nová lokální cesta (submap idx): 9 
[INFO] Aktualizace cesty pro agenta 23 | Původní lokální délka: 5 | Nová lokální délka: 5
[DEBUG] agent 23 t=0 => decoded (sx,sy)=(2,2) => global_id=123
[DEBUG] agent 23 t=1 => decoded (sx,sy)=(2,1) => global_id=122
[DEBUG] agent 23 t=2 => decoded (sx,sy)=(3,1) => global_id=154
[DEBUG] agent 23 t=3 => decoded (sx,sy)=(4,1) => global_id=186
[DEBUG] agent 23 t=4 => decoded (sx,sy)=(4,0) => global_id=185
[DEBUG] Kompletní cesta agenta 23:
  Původní: 123 124 124 124 156 157 189 189 157 156 124 123 122 154 153 185 217 217 217 217 217 217 217 217 217 217 217 217 217 217 217 217 217 217 216 215 183 151 150 118 118 86 54 55 56 24 25 26 27 
  Nová:     123 124 124 124 156 157 189 189 157 156 124 123 122 154 186 185 217 217 217 217 217 217 217 217 217 217 217 217 217 217 217 217 217 217 216 215 183 151 150 118 118 86 54 55 56 24 25 26 27 
[DEBUG] Vykreslení PŮVODNÍ cesty:
  Prefix (před submapou): 123 124 124 124 156 157 189 189 157 156 124 
  Lokální cesta (v submapě): 123 122 154 186 185 
  Suffix (po submapě): 217 217 217 217 217 217 217 217 217 217 217 217 217 217 217 217 217 217 216 215 183 151 150 118 118 86 54 55 56 24 25 26 27 
[INFO] Původní délka cesty agenta 23 je: 49
(SATUtils.cpp) nová cesta v agents[a].path agenta 0: 123, 124, 124, 124, 156, 157, 189, 189, 157, 156, 124, 123, 122, 154, 186, 185, 217, 217, 217, 217, 217, 217, 217, 217, 217, 217, 217, 217, 217, 217, 217, 217, 217, 217, 216, 215, 183, 151, 150, 118, 118, 86, 54, 55, 56, 24, 25, 26, 27, 
[INFO] Cesta pro agenta 23 aktualizována, výsledná délka: 49
[INFO] Aktualizace cesty pro agenta 66 | Původní lokální délka: 3 | Nová lokální délka: 1
[DEBUG] agent 66 t=0 => decoded (sx,sy)=(2,1) => global_id=122
[DEBUG] Kompletní cesta agenta 66:
  Původní: 119 151 183 184 184 184 184 185 153 153 154 122 90 122 
  Nová:     119 151 183 184 184 184 184 185 153 153 154 122 
[DEBUG] Vykreslení PŮVODNÍ cesty:
  Prefix (před submapou): 119 151 183 184 184 184 184 185 153 153 154 
  Lokální cesta (v submapě): 122 
  Suffix (po submapě): 
[INFO] Původní délka cesty agenta 66 je: 14
(SATUtils.cpp) nová cesta v agents[a].path agenta 1: 119, 151, 183, 184, 184, 184, 184, 185, 153, 153, 154, 122, 
[INFO] Cesta pro agenta 66 aktualizována, výsledná délka: 12
Paths successfully updated.
(LNS.cpp) Nová cesta v agents[a].path agenta 23: 123, 124, 124, 124, 156, 157, 189, 189, 157, 156, 124, 123, 122, 154, 186, 185, 217, 217, 217, 217, 217, 217, 217, 217, 217, 217, 217, 217, 217, 217, 217, 217, 217, 217, 216, 215, 183, 151, 150, 118, 118, 86, 54, 55, 56, 24, 25, 26, 27, 
(LNS.cpp) Nová cesta v agents[a].path agenta 66: 119, 151, 183, 184, 184, 184, 184, 185, 153, 153, 154, 122, 
[DEBUG] hodnota delta: 0.0327869
[DEBUG] rewarding metric index = 2
[DEBUG] component_weights = {0.172172, 0.224643, 0.326063, 0.277122}
[DEBUG] hodnota opSuccess: 1
[DEBUG] neighbor.sum_of_costs před opětovným přepočtem: 59
[DEBUG] neighbor.old_sum_of_costs před opětovným přepočtem: 61
[DEBUG] sum_of_costs před opětovným přepočtem: 2755
[DEBUG] Validate solution immediately after SAT success.
[WARNING] Problem after SAT: Target conflict: agent 23 (len 48) traverses target of agent 66 (len 11) at location 122 at timestep 12
[DEBUG] Attempting immediate repair via init_lns because problem occured after SAT (should be applied only for conflicts...).
[DEBUG] In LNS, we pass 100 agents to init_lns (skip=true). 
[DEBUG] Obsah path_table pro vybrané agenty (neighbor.agents):
  Agent 23 => controlling path length=49
  Agent 66 => controlling path length=12
[DEBUG] hodnota skip_initial_solution=1
[DEBUG] We skip initialSolution => call buildCollisionData()
[DEBUG] buildCollisionData() called – skip_initial_solution case.
[DEBUG] Agents.size()=100, collision_graph.size()=100
[DEBUG] agent 23 => updateCollidingPairs => foundCollision
[DEBUG] agent 66 => updateCollidingPairs => foundCollision
[DEBUG] Dvojice konfliktních agentů: 
agent 23 je v konfliktu s agentem 66
[DEBUG] buildCollisionData() => sum_of_costs=2753, num_of_colliding_pairs=1
[DEBUG] buildCollisionData done => sum_of_costs=2753, num_of_colliding_pairs=1
[DEBUG] sum_of_cost hodnota: 2753
[DEBUG] After skip/init build => iteration_stats.back(): sum_of_costs=2753, collisions=1
[DEBUG] Using default neighbor generation strategy for conflicts: 2
[DEBUG] Using default neighbor generation strategy for conflicts: 0
	InitLNS(PP): runtime = 0.00309358, iterations = 3, colliding pairs = 0, initial colliding pairs = 1, solution cost = 2751, initial solution cost = 2753, failed iterations = 0
[DEBUG] init_lns->sum_of_costs po doběhnutí init_lns->run: 2751
[DEBUG] sum_of_costs po přiřazení init_lns->run: 2751
[DEBUG] recomputing sum_of_cost by dividing neighbor.sum_of_costs and neighbor.old_sum_of_costs
[DEBUG] sum_of_costs po opětovném přepočtu: 2751
Iteration 8
[DEBUG] Using SAT operator (destroy+repair SAT).
====================
SAT destroy operator called.
[DEBUG] key_agent_id: 23
[DEBUG] key_agent_id délka globální cesty: 49
Submap content (global positions):
54 55 56 57 58 
86 87 88 89 90 
118 119 120 121 122 
150 151 152 153 154 
182 183 184 185 186 
Map content with agents and obstacles:
. . . X . 
. X X . . 
. . A . . 
. . X . . 
X . . . . 
[DEBUG] obsah struktury map, kterou předáváme SAT solveru: 
1  1  1  -1  1  
1  -1  -1  1  1  
1  1  1  1  1  
1  1  -1  1  1  
-1  1  1  1  1  

[INFO] Identifikace agentů v submapě pro přeplánování (kdy key_agent je tam v čase 22):
[DEBUG] Agent 23 nalezené intervaly v submapě: [1..44]
  Agent 23 (interval v submapě: [1..44]) obsahuje čas 22, přidán k přeplánování.
[DEBUG] Agent 66 nalezené intervaly v submapě: [0..7] [9..9]
[DEBUG] Agent 66 není v submapě v čase 22 (intervaly: [0..7] [9..9] )
[DEBUG] Agent 90 nalezené intervaly v submapě:
[DEBUG] Agent 90 není v submapě v čase 22 (intervaly: )
Agent 23 | Start (globální): 120 → (lokální): (2, 2) v čase 22 | Cíl (globální): 56 → (lokální): (0, 2) v čase 44
[REPAIR] SAT destroy operator called.
[REPAIR] SAT operator – spouštím subproblém NA OPTIMALIZACI.

[INFO] Tvorba lokálních cest (sx, sy) v submapě pro T_sync = 22
  Agent 23 (globální cesty od T=22 do 44) má lokální dráhu: (2,2) (2,2) (2,2) (2,2) (2,2) (2,2) (2,2) (2,2) (2,2) (2,2) (2,2) (2,2) (2,2) (2,2) (2,1) (2,1) (2,1) (2,0) (2,0) (1,0) (0,0) (0,1) (0,2) 

[DEBUG] Kontrola vstupních dat pro SAT solver:
  - Počet agentů k přeplánování: 1
[DEBUG] Agent 23 má původní lokální dráhu délky: 23 => Start (2,2), Goal (0,2)
Startovní pozice: (2, 2), 
CÍLOVÉ pozice: (0, 2), 
SAT instance and solver created.
Currently solving
Instance name: scen
Map name: map
Encoding used: disappear_at_goal
SAT solver used: Kissat
Optimizing function: sum of costs
Number of agents: 1
Mks LB: 7
SoC LB: 7
Delta: 0
Remaining time: 300000 [ms]

Found plan [agents = 1] [timesteps = 7]
Agent #0 : 9 8 7 4 0 1 2 

Solver returned: 0
[DEBUG] Agent (index) 23 | Nová lokální cesta (submap idx): 9 8 7 4 0 1 2 
[INFO] Aktualizace cesty pro agenta 23 | Původní lokální délka: 23 | Nová lokální délka: 7
[DEBUG] agent 23 t=0 => decoded (sx,sy)=(2,2) => global_id=120
[DEBUG] agent 23 t=1 => decoded (sx,sy)=(2,1) => global_id=119
[DEBUG] agent 23 t=2 => decoded (sx,sy)=(2,0) => global_id=118
[DEBUG] agent 23 t=3 => decoded (sx,sy)=(1,0) => global_id=86
[DEBUG] agent 23 t=4 => decoded (sx,sy)=(0,0) => global_id=54
[DEBUG] agent 23 t=5 => decoded (sx,sy)=(0,1) => global_id=55
[DEBUG] agent 23 t=6 => decoded (sx,sy)=(0,2) => global_id=56
[DEBUG] Kompletní cesta agenta 23:
  Původní: 123 122 90 90 122 122 122 121 120 120 120 120 120 120 120 120 120 120 120 120 120 120 120 120 120 120 120 120 120 120 120 120 120 120 120 120 119 119 119 118 118 86 54 55 56 24 25 26 27 
  Nová:     123 122 90 90 122 122 122 121 120 120 120 120 120 120 120 120 120 120 120 120 120 120 120 119 118 86 54 55 56 24 25 26 27 
[DEBUG] Vykreslení PŮVODNÍ cesty:
  Prefix (před submapou): 123 122 90 90 122 122 122 121 120 120 120 120 120 120 120 120 120 120 120 120 120 120 
  Lokální cesta (v submapě): 120 119 118 86 54 55 56 24 25 26 27 
  Suffix (po submapě): 
[INFO] Původní délka cesty agenta 23 je: 49
(SATUtils.cpp) nová cesta v agents[a].path agenta 0: 123, 122, 90, 90, 122, 122, 122, 121, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 119, 118, 86, 54, 55, 56, 24, 25, 26, 27, 
[INFO] Cesta pro agenta 23 aktualizována, výsledná délka: 33
Paths successfully updated.
(LNS.cpp) Nová cesta v agents[a].path agenta 23: 123, 122, 90, 90, 122, 122, 122, 121, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 120, 119, 118, 86, 54, 55, 56, 24, 25, 26, 27, 
[DEBUG] hodnota delta: 0.333333
[DEBUG] rewarding metric index = 3
[DEBUG] component_weights = {0.154856, 0.20205, 0.293269, 0.349825}
[DEBUG] hodnota opSuccess: 1
[DEBUG] neighbor.sum_of_costs před opětovným přepočtem: 32
[DEBUG] neighbor.old_sum_of_costs před opětovným přepočtem: 48
[DEBUG] sum_of_costs před opětovným přepočtem: 2751
[DEBUG] Validate solution immediately after SAT success.
[WARNING] Problem after SAT: Target conflict: agent 31 (len 50) traverses target of agent 23 (len 32) at location 27 at timestep 47
[DEBUG] Attempting immediate repair via init_lns because problem occured after SAT (should be applied only for conflicts...).
[DEBUG] In LNS, we pass 100 agents to init_lns (skip=true). 
[DEBUG] Obsah path_table pro vybrané agenty (neighbor.agents):
  Agent 23 => controlling path length=33
[DEBUG] hodnota skip_initial_solution=1
[DEBUG] We skip initialSolution => call buildCollisionData()
[DEBUG] buildCollisionData() called – skip_initial_solution case.
[DEBUG] Agents.size()=100, collision_graph.size()=100
[DEBUG] agent 23 => updateCollidingPairs => foundCollision
[DEBUG] agent 31 => updateCollidingPairs => foundCollision
[DEBUG] agent 32 => updateCollidingPairs => foundCollision
[DEBUG] Dvojice konfliktních agentů: 
agent 23 je v konfliktu s agentem 31
agent 23 je v konfliktu s agentem 32
[DEBUG] buildCollisionData() => sum_of_costs=2735, num_of_colliding_pairs=2
[DEBUG] buildCollisionData done => sum_of_costs=2735, num_of_colliding_pairs=2
[DEBUG] sum_of_cost hodnota: 2735
[DEBUG] After skip/init build => iteration_stats.back(): sum_of_costs=2735, collisions=2
[DEBUG] Using default neighbor generation strategy for conflicts: 0
[DEBUG] Using default neighbor generation strategy for conflicts: 0
	InitLNS(PP): runtime = 0.00448962, iterations = 3, colliding pairs = 0, initial colliding pairs = 2, solution cost = 2748, initial solution cost = 2735, failed iterations = 0
[DEBUG] init_lns->sum_of_costs po doběhnutí init_lns->run: 2748
[DEBUG] sum_of_costs po přiřazení init_lns->run: 2748
[DEBUG] recomputing sum_of_cost by dividing neighbor.sum_of_costs and neighbor.old_sum_of_costs
[DEBUG] sum_of_costs po opětovném přepočtu: 2748
Iteration 9
[DEBUG] Using SAT operator (destroy+repair SAT).
====================
SAT destroy operator called.
[DEBUG] key_agent_id: 23
[DEBUG] key_agent_id délka globální cesty: 49
Submap content (global positions):
-1 -1 -1 -1 -1 
-1 -1 -1 -1 -1 
22 23 24 25 26 
54 55 56 57 58 
86 87 88 89 90 
Map content with agents and obstacles:
X X X X X 
X X X X X 
. X A A A 
. . . X . 
. X X . . 
[DEBUG] obsah struktury map, kterou předáváme SAT solveru: 
1  1  1  1  1  
1  1  1  1  1  
1  -1  1  1  1  
1  1  1  -1  1  
1  -1  -1  1  1  

[INFO] Identifikace agentů v submapě pro přeplánování (kdy key_agent je tam v čase 45):
[DEBUG] Agent 23 nalezené intervaly v submapě: [2..3] [8..47]
  Agent 23 (interval v submapě: [8..47]) obsahuje čas 45, přidán k přeplánování.
[DEBUG] Agent 31 nalezené intervaly v submapě: [40..46]
  Agent 31 (interval v submapě: [40..46]) obsahuje čas 45, přidán k přeplánování.
[DEBUG] Agent 32 nalezené intervaly v submapě: [37..43]
[DEBUG] Agent 32 není v submapě v čase 45 (intervaly: [37..43] )
[DEBUG] Agent 47 nalezené intervaly v submapě: [39..46]
  Agent 47 (interval v submapě: [39..46]) obsahuje čas 45, přidán k přeplánování.
Agent 23 | Start (globální): 24 → (lokální): (2, 2) v čase 45 | Cíl (globální): 26 → (lokální): (2, 4) v čase 47
Agent 31 | Start (globální): 25 → (lokální): (2, 3) v čase 45 | Cíl (globální): 26 → (lokální): (2, 4) v čase 46
Agent 47 | Start (globální): 26 → (lokální): (2, 4) v čase 45 | Cíl (globální): 58 → (lokální): (3, 4) v čase 46
[REPAIR] SAT destroy operator called.
[REPAIR] SAT operator – spouštím subproblém NA OPTIMALIZACI.

[INFO] Tvorba lokálních cest (sx, sy) v submapě pro T_sync = 45
  Agent 23 (globální cesty od T=45 do 47) má lokální dráhu: (2,2) (2,3) (2,4) 
  Agent 31 (globální cesty od T=45 do 46) má lokální dráhu: (2,3) (2,4) 
  Agent 47 (globální cesty od T=45 do 46) má lokální dráhu: (2,4) (3,4) 

[DEBUG] Kontrola vstupních dat pro SAT solver:
  - Počet agentů k přeplánování: 3
[DEBUG] Agent 23 má původní lokální dráhu délky: 3 => Start (2,2), Goal (2,4)
[DEBUG] Agent 31 má původní lokální dráhu délky: 2 => Start (2,3), Goal (2,4)
[DEBUG] Agent 47 má původní lokální dráhu délky: 2 => Start (2,4), Goal (3,4)
Startovní pozice: (2, 2), (2, 3), (2, 4), 
CÍLOVÉ pozice: (2, 4), (2, 4), (3, 4), 
SAT instance and solver created.
Currently solving
Instance name: scen
Map name: map
Encoding used: disappear_at_goal
SAT solver used: Kissat
Optimizing function: sum of costs
Number of agents: 3
Mks LB: 3
SoC LB: 7
Delta: 0
Remaining time: 300000 [ms]

Vertex conflict! Agents 1, 2, timestep 2, location 0
Found plan [agents = 3] [timesteps = 3]
Agent #0 : 11 12 13 
Agent #1 : 12 13 0 
Agent #2 : 13 17 0 

Solver returned: 0
[DEBUG] Agent (index) 23 | Nová lokální cesta (submap idx): 11 12 13 
[DEBUG] Agent (index) 31 | Nová lokální cesta (submap idx): 12 13 
[DEBUG] Agent (index) 47 | Nová lokální cesta (submap idx): 13 17 
[INFO] Aktualizace cesty pro agenta 23 | Původní lokální délka: 3 | Nová lokální délka: 3
[DEBUG] agent 23 t=0 => decoded (sx,sy)=(2,2) => global_id=24
[DEBUG] agent 23 t=1 => decoded (sx,sy)=(2,3) => global_id=25
[DEBUG] agent 23 t=2 => decoded (sx,sy)=(2,4) => global_id=26
[DEBUG] Kompletní cesta agenta 23:
  Původní: 123 91 90 89 121 153 153 121 89 90 58 26 25 24 56 55 54 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 54 55 56 24 25 26 27 
  Nová:     123 91 90 89 121 153 153 121 89 90 58 26 25 24 56 55 54 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 54 55 56 24 25 26 27 
[DEBUG] Vykreslení PŮVODNÍ cesty:
  Prefix (před submapou): 123 91 90 89 121 153 153 121 89 90 58 26 25 24 56 55 54 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 54 55 56 
  Lokální cesta (v submapě): 24 25 26 
  Suffix (po submapě): 27 
[INFO] Původní délka cesty agenta 23 je: 49
(SATUtils.cpp) nová cesta v agents[a].path agenta 0: 123, 91, 90, 89, 121, 153, 153, 121, 89, 90, 58, 26, 25, 24, 56, 55, 54, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 54, 55, 56, 24, 25, 26, 27, 
[INFO] Cesta pro agenta 23 aktualizována, výsledná délka: 49
[INFO] Aktualizace cesty pro agenta 31 | Původní lokální délka: 2 | Nová lokální délka: 2
[DEBUG] agent 31 t=0 => decoded (sx,sy)=(2,3) => global_id=25
[DEBUG] agent 31 t=1 => decoded (sx,sy)=(2,4) => global_id=26
[DEBUG] Kompletní cesta agenta 31:
  Původní: 838 839 807 808 776 777 745 746 747 715 683 684 685 653 654 622 590 591 592 560 528 496 464 465 433 401 402 403 371 339 340 308 276 244 212 180 181 149 117 85 86 54 55 56 24 25 26 27 28 29 30 
  Nová:     838 839 807 808 776 777 745 746 747 715 683 684 685 653 654 622 590 591 592 560 528 496 464 465 433 401 402 403 371 339 340 308 276 244 212 180 181 149 117 85 86 54 55 56 24 25 26 27 28 29 30 
[DEBUG] Vykreslení PŮVODNÍ cesty:
  Prefix (před submapou): 838 839 807 808 776 777 745 746 747 715 683 684 685 653 654 622 590 591 592 560 528 496 464 465 433 401 402 403 371 339 340 308 276 244 212 180 181 149 117 85 86 54 55 56 24 
  Lokální cesta (v submapě): 25 26 
  Suffix (po submapě): 27 28 29 30 
[INFO] Původní délka cesty agenta 31 je: 51
(SATUtils.cpp) nová cesta v agents[a].path agenta 1: 838, 839, 807, 808, 776, 777, 745, 746, 747, 715, 683, 684, 685, 653, 654, 622, 590, 591, 592, 560, 528, 496, 464, 465, 433, 401, 402, 403, 371, 339, 340, 308, 276, 244, 212, 180, 181, 149, 117, 85, 86, 54, 55, 56, 24, 25, 26, 27, 28, 29, 30, 
[INFO] Cesta pro agenta 31 aktualizována, výsledná délka: 51
[INFO] Aktualizace cesty pro agenta 47 | Původní lokální délka: 2 | Nová lokální délka: 2
[DEBUG] agent 47 t=0 => decoded (sx,sy)=(2,4) => global_id=26
[DEBUG] agent 47 t=1 => decoded (sx,sy)=(3,4) => global_id=58
[DEBUG] Kompletní cesta agenta 47:
  Původní: 841 873 874 875 876 877 845 846 814 782 750 718 686 654 655 623 591 592 560 528 496 464 432 400 368 336 337 338 339 340 308 276 244 212 180 181 149 150 118 86 54 55 56 24 25 26 58 59 60 
  Nová:     841 873 874 875 876 877 845 846 814 782 750 718 686 654 655 623 591 592 560 528 496 464 432 400 368 336 337 338 339 340 308 276 244 212 180 181 149 150 118 86 54 55 56 24 25 26 58 59 60 
[DEBUG] Vykreslení PŮVODNÍ cesty:
  Prefix (před submapou): 841 873 874 875 876 877 845 846 814 782 750 718 686 654 655 623 591 592 560 528 496 464 432 400 368 336 337 338 339 340 308 276 244 212 180 181 149 150 118 86 54 55 56 24 25 
  Lokální cesta (v submapě): 26 58 
  Suffix (po submapě): 59 60 
[INFO] Původní délka cesty agenta 47 je: 49
(SATUtils.cpp) nová cesta v agents[a].path agenta 2: 841, 873, 874, 875, 876, 877, 845, 846, 814, 782, 750, 718, 686, 654, 655, 623, 591, 592, 560, 528, 496, 464, 432, 400, 368, 336, 337, 338, 339, 340, 308, 276, 244, 212, 180, 181, 149, 150, 118, 86, 54, 55, 56, 24, 25, 26, 58, 59, 60, 
[INFO] Cesta pro agenta 47 aktualizována, výsledná délka: 49
Paths successfully updated.
(LNS.cpp) Nová cesta v agents[a].path agenta 23: 123, 91, 90, 89, 121, 153, 153, 121, 89, 90, 58, 26, 25, 24, 56, 55, 54, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 22, 54, 55, 56, 24, 25, 26, 27, 
(LNS.cpp) Nová cesta v agents[a].path agenta 31: 838, 839, 807, 808, 776, 777, 745, 746, 747, 715, 683, 684, 685, 653, 654, 622, 590, 591, 592, 560, 528, 496, 464, 465, 433, 401, 402, 403, 371, 339, 340, 308, 276, 244, 212, 180, 181, 149, 117, 85, 86, 54, 55, 56, 24, 25, 26, 27, 28, 29, 30, 
(LNS.cpp) Nová cesta v agents[a].path agenta 47: 841, 873, 874, 875, 876, 877, 845, 846, 814, 782, 750, 718, 686, 654, 655, 623, 591, 592, 560, 528, 496, 464, 432, 400, 368, 336, 337, 338, 339, 340, 308, 276, 244, 212, 180, 181, 149, 150, 118, 86, 54, 55, 56, 24, 25, 26, 58, 59, 60, 
[DEBUG] hodnota delta: 0
[DEBUG] rewarding metric index = 1
[DEBUG] component_weights = {0.153226, 0.210446, 0.290183, 0.346144}
[DEBUG] hodnota opSuccess: 1
[DEBUG] neighbor.sum_of_costs před opětovným přepočtem: 146
[DEBUG] neighbor.old_sum_of_costs před opětovným přepočtem: 146
[DEBUG] sum_of_costs před opětovným přepočtem: 2748
[DEBUG] Validate solution immediately after SAT success.
[DEBUG] No problems after SAT replan.
[DEBUG] recomputing sum_of_cost by dividing neighbor.sum_of_costs and neighbor.old_sum_of_costs
[DEBUG] sum_of_costs po opětovném přepočtu: 2748
Iteration 10
[DEBUG] Using SAT operator (destroy+repair SAT).
====================
SAT destroy operator called.
[DEBUG] key_agent_id: 23
[DEBUG] key_agent_id délka globální cesty: 49
Submap content (global positions):
-1 -1 -1 -1 -1 
20 21 22 23 24 
52 53 54 55 56 
84 85 86 87 88 
116 117 118 119 120 
Map content with agents and obstacles:
X X X X X 
. X . X . 
. X A . . 
. . . X X 
. . . . . 
[DEBUG] obsah struktury map, kterou předáváme SAT solveru: 
1  1  1  1  1  
1  -1  1  -1  1  
1  -1  1  1  1  
1  1  1  -1  -1  
1  1  1  1  1  

[INFO] Identifikace agentů v submapě pro přeplánování (kdy key_agent je tam v čase 16):
[DEBUG] Agent 23 nalezené intervaly v submapě: [13..45]
  Agent 23 (interval v submapě: [13..45]) obsahuje čas 16, přidán k přeplánování.
[DEBUG] Agent 52 nalezené intervaly v submapě:
[DEBUG] Agent 52 není v submapě v čase 16 (intervaly: )
[DEBUG] Agent 72 nalezené intervaly v submapě:
[DEBUG] Agent 72 není v submapě v čase 16 (intervaly: )
Agent 23 | Start (globální): 54 → (lokální): (2, 2) v čase 16 | Cíl (globální): 24 → (lokální): (1, 4) v čase 45
[REPAIR] SAT destroy operator called.
[REPAIR] SAT operator – spouštím subproblém NA OPTIMALIZACI.

[INFO] Tvorba lokálních cest (sx, sy) v submapě pro T_sync = 16
  Agent 23 (globální cesty od T=16 do 45) má lokální dráhu: (2,2) (1,2) (1,2) (1,2) (1,2) (1,2) (1,2) (1,2) (1,2) (1,2) (1,2) (1,2) (1,2) (1,2) (1,2) (1,2) (1,2) (1,2) (1,2) (1,2) (1,2) (1,2) (1,2) (1,2) (1,2) (1,2) (2,2) (2,3) (2,4) (1,4) 

[DEBUG] Kontrola vstupních dat pro SAT solver:
  - Počet agentů k přeplánování: 1
[DEBUG] Agent 23 má původní lokální dráhu délky: 30 => Start (2,2), Goal (1,4)
Startovní pozice: (2, 2), 
CÍLOVÉ pozice: (1, 4), 
SAT instance and solver created.
Currently solving
Instance name: scen
Map name: map
Encoding used: disappear_at_goal
SAT solver used: Kissat
Optimizing function: sum of costs
Number of agents: 1
Mks LB: 4
SoC LB: 4
Delta: 0
Remaining time: 300000 [ms]

Found plan [agents = 1] [timesteps = 4]
Agent #0 : 9 10 11 7 

Solver returned: 0
[DEBUG] Agent (index) 23 | Nová lokální cesta (submap idx): 9 10 11 7 
[INFO] Aktualizace cesty pro agenta 23 | Původní lokální délka: 30 | Nová lokální délka: 4
[DEBUG] agent 23 t=0 => decoded (sx,sy)=(2,2) => global_id=54
[DEBUG] agent 23 t=1 => decoded (sx,sy)=(2,3) => global_id=55
[DEBUG] agent 23 t=2 => decoded (sx,sy)=(2,4) => global_id=56
[DEBUG] agent 23 t=3 => decoded (sx,sy)=(1,4) => global_id=24
[DEBUG] Kompletní cesta agenta 23:
  Původní: 123 91 90 89 121 153 153 121 89 90 58 26 25 24 56 55 54 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 22 54 55 56 24 25 26 27 
  Nová:     123 91 90 89 121 153 153 121 89 90 58 26 25 24 56 55 54 55 56 24 25 26 27 
[DEBUG] Vykreslení PŮVODNÍ cesty:
  Prefix (před submapou): 123 91 90 89 121 153 153 121 89 90 58 26 25 24 56 55 
  Lokální cesta (v submapě): 54 55 56 24 25 26 27 
  Suffix (po submapě): 
[INFO] Původní délka cesty agenta 23 je: 49
(SATUtils.cpp) nová cesta v agents[a].path agenta 0: 123, 91, 90, 89, 121, 153, 153, 121, 89, 90, 58, 26, 25, 24, 56, 55, 54, 55, 56, 24, 25, 26, 27, 
[INFO] Cesta pro agenta 23 aktualizována, výsledná délka: 23
Paths successfully updated.
(LNS.cpp) Nová cesta v agents[a].path agenta 23: 123, 91, 90, 89, 121, 153, 153, 121, 89, 90, 58, 26, 25, 24, 56, 55, 54, 55, 56, 24, 25, 26, 27, 
[DEBUG] hodnota delta: 0.541667
[DEBUG] rewarding metric index = 3
[DEBUG] component_weights = {0.126052, 0.173124, 0.23872, 0.462104}
[DEBUG] hodnota opSuccess: 1
[DEBUG] neighbor.sum_of_costs před opětovným přepočtem: 22
[DEBUG] neighbor.old_sum_of_costs před opětovným přepočtem: 48
[DEBUG] sum_of_costs před opětovným přepočtem: 2748
[DEBUG] Validate solution immediately after SAT success.
[WARNING] Problem after SAT: Target conflict: agent 31 (len 50) traverses target of agent 23 (len 22) at location 27 at timestep 47
[DEBUG] Attempting immediate repair via init_lns because problem occured after SAT (should be applied only for conflicts...).
[DEBUG] In LNS, we pass 100 agents to init_lns (skip=true). 
[DEBUG] Obsah path_table pro vybrané agenty (neighbor.agents):
  Agent 23 => controlling path length=23
[DEBUG] hodnota skip_initial_solution=1
[DEBUG] We skip initialSolution => call buildCollisionData()
[DEBUG] buildCollisionData() called – skip_initial_solution case.
[DEBUG] Agents.size()=100, collision_graph.size()=100
[DEBUG] agent 23 => updateCollidingPairs => foundCollision
[DEBUG] agent 31 => updateCollidingPairs => foundCollision
[DEBUG] agent 32 => updateCollidingPairs => foundCollision
[DEBUG] Dvojice konfliktních agentů: 
agent 23 je v konfliktu s agentem 31
agent 23 je v konfliktu s agentem 32
[DEBUG] buildCollisionData() => sum_of_costs=2722, num_of_colliding_pairs=2
[DEBUG] buildCollisionData done => sum_of_costs=2722, num_of_colliding_pairs=2
[DEBUG] sum_of_cost hodnota: 2722
[DEBUG] After skip/init build => iteration_stats.back(): sum_of_costs=2722, collisions=2
[DEBUG] Using default neighbor generation strategy for conflicts: 1
	InitLNS(PP): runtime = 0.00206567, iterations = 2, colliding pairs = 0, initial colliding pairs = 2, solution cost = 2768, initial solution cost = 2722, failed iterations = 0
[DEBUG] init_lns->sum_of_costs po doběhnutí init_lns->run: 2768
[DEBUG] sum_of_costs po přiřazení init_lns->run: 2768
[DEBUG] recomputing sum_of_cost by dividing neighbor.sum_of_costs and neighbor.old_sum_of_costs
[DEBUG] sum_of_costs po opětovném přepočtu: 2768
Iteration 11
[DEBUG] Using SAT operator (destroy+repair SAT).
====================
SAT destroy operator called.
[DEBUG] key_agent_id: 23
[DEBUG] key_agent_id délka globální cesty: 49
Submap content (global positions):
149 150 151 152 153 
181 182 183 184 185 
213 214 215 216 217 
245 246 247 248 249 
277 278 279 280 281 
Map content with agents and obstacles:
. . . X . 
. X . . . 
. . A . . 
X X . . . 
. . . X . 
[DEBUG] obsah struktury map, kterou předáváme SAT solveru: 
1  1  1  -1  1  
1  -1  1  1  1  
1  1  1  1  1  
-1  -1  1  1  1  
1  1  1  -1  1  

[INFO] Identifikace agentů v submapě pro přeplánování (kdy key_agent je tam v čase 26):
[DEBUG] Agent 23 nalezené intervaly v submapě: [10..38]
  Agent 23 (interval v submapě: [10..38]) obsahuje čas 26, přidán k přeplánování.
[DEBUG] Agent 66 nalezené intervaly v submapě: [1..4]
[DEBUG] Agent 66 není v submapě v čase 26 (intervaly: [1..4] )
Agent 23 | Start (globální): 215 → (lokální): (2, 2) v čase 26 | Cíl (globální): 149 → (lokální): (0, 0) v čase 38
[REPAIR] SAT destroy operator called.
[REPAIR] SAT operator – spouštím subproblém NA OPTIMALIZACI.

[INFO] Tvorba lokálních cest (sx, sy) v submapě pro T_sync = 26
  Agent 23 (globální cesty od T=26 do 38) má lokální dráhu: (2,2) (2,2) (2,2) (2,2) (2,2) (2,2) (2,2) (3,2) (2,2) (2,1) (2,0) (1,0) (0,0) 

[DEBUG] Kontrola vstupních dat pro SAT solver:
  - Počet agentů k přeplánování: 1
[DEBUG] Agent 23 má původní lokální dráhu délky: 13 => Start (2,2), Goal (0,0)
Startovní pozice: (2, 2), 
CÍLOVÉ pozice: (0, 0), 
SAT instance and solver created.
Currently solving
Instance name: scen
Map name: map
Encoding used: disappear_at_goal
SAT solver used: Kissat
Optimizing function: sum of costs
Number of agents: 1
Mks LB: 5
SoC LB: 5
Delta: 0
Remaining time: 300000 [ms]

Found plan [agents = 1] [timesteps = 5]
Agent #0 : 10 9 8 4 0 

Solver returned: 0
[DEBUG] Agent (index) 23 | Nová lokální cesta (submap idx): 10 9 8 4 0 
[INFO] Aktualizace cesty pro agenta 23 | Původní lokální délka: 13 | Nová lokální délka: 5
[DEBUG] agent 23 t=0 => decoded (sx,sy)=(2,2) => global_id=215
[DEBUG] agent 23 t=1 => decoded (sx,sy)=(2,1) => global_id=214
[DEBUG] agent 23 t=2 => decoded (sx,sy)=(2,0) => global_id=213
[DEBUG] agent 23 t=3 => decoded (sx,sy)=(1,0) => global_id=181
[DEBUG] agent 23 t=4 => decoded (sx,sy)=(0,0) => global_id=149
[DEBUG] Kompletní cesta agenta 23:
  Původní: 123 122 122 122 122 122 122 121 120 121 153 153 153 153 153 185 184 183 215 215 215 215 215 215 215 215 215 215 215 215 215 215 215 247 215 214 213 181 149 117 85 86 54 55 56 24 25 26 27 
  Nová:     123 122 122 122 122 122 122 121 120 121 153 153 153 153 153 185 184 183 215 215 215 215 215 215 215 215 215 214 213 181 149 117 85 86 54 55 56 24 25 26 27 
[DEBUG] Vykreslení PŮVODNÍ cesty:
  Prefix (před submapou): 123 122 122 122 122 122 122 121 120 121 153 153 153 153 153 185 184 183 215 215 215 215 215 215 215 215 
  Lokální cesta (v submapě): 215 214 213 181 149 117 85 86 54 55 56 24 25 
  Suffix (po submapě): 26 27 
[INFO] Původní délka cesty agenta 23 je: 49
(SATUtils.cpp) nová cesta v agents[a].path agenta 0: 123, 122, 122, 122, 122, 122, 122, 121, 120, 121, 153, 153, 153, 153, 153, 185, 184, 183, 215, 215, 215, 215, 215, 215, 215, 215, 215, 214, 213, 181, 149, 117, 85, 86, 54, 55, 56, 24, 25, 26, 27, 
[INFO] Cesta pro agenta 23 aktualizována, výsledná délka: 41
Paths successfully updated.
(LNS.cpp) Nová cesta v agents[a].path agenta 23: 123, 122, 122, 122, 122, 122, 122, 121, 120, 121, 153, 153, 153, 153, 153, 185, 184, 183, 215, 215, 215, 215, 215, 215, 215, 215, 215, 214, 213, 181, 149, 117, 85, 86, 54, 55, 56, 24, 25, 26, 27, 
[DEBUG] hodnota delta: 0.166667
[DEBUG] rewarding metric index = 2
[DEBUG] component_weights = {0.119544, 0.164185, 0.278028, 0.438244}
[DEBUG] hodnota opSuccess: 1
[DEBUG] neighbor.sum_of_costs před opětovným přepočtem: 40
[DEBUG] neighbor.old_sum_of_costs před opětovným přepočtem: 48
[DEBUG] sum_of_costs před opětovným přepočtem: 2768
[DEBUG] Validate solution immediately after SAT success.
[WARNING] Problem after SAT: Target conflict: agent 31 (len 50) traverses target of agent 23 (len 40) at location 27 at timestep 47
[DEBUG] Attempting immediate repair via init_lns because problem occured after SAT (should be applied only for conflicts...).
[DEBUG] In LNS, we pass 100 agents to init_lns (skip=true). 
[DEBUG] Obsah path_table pro vybrané agenty (neighbor.agents):
  Agent 23 => controlling path length=41
[DEBUG] hodnota skip_initial_solution=1
[DEBUG] We skip initialSolution => call buildCollisionData()
[DEBUG] buildCollisionData() called – skip_initial_solution case.
[DEBUG] Agents.size()=100, collision_graph.size()=100
[DEBUG] agent 23 => updateCollidingPairs => foundCollision
[DEBUG] agent 31 => updateCollidingPairs => foundCollision
[DEBUG] Dvojice konfliktních agentů: 
agent 23 je v konfliktu s agentem 31
[DEBUG] buildCollisionData() => sum_of_costs=2760, num_of_colliding_pairs=1
[DEBUG] buildCollisionData done => sum_of_costs=2760, num_of_colliding_pairs=1
[DEBUG] sum_of_cost hodnota: 2760
[DEBUG] After skip/init build => iteration_stats.back(): sum_of_costs=2760, collisions=1
[DEBUG] Using default neighbor generation strategy for conflicts: 2
[DEBUG] Using default neighbor generation strategy for conflicts: 1
[DEBUG] Using default neighbor generation strategy for conflicts: 0
	InitLNS(PP): runtime = 0.00502008, iterations = 4, colliding pairs = 0, initial colliding pairs = 1, solution cost = 2762, initial solution cost = 2760, failed iterations = 0
[DEBUG] init_lns->sum_of_costs po doběhnutí init_lns->run: 2762
[DEBUG] sum_of_costs po přiřazení init_lns->run: 2762
[DEBUG] recomputing sum_of_cost by dividing neighbor.sum_of_costs and neighbor.old_sum_of_costs
[DEBUG] sum_of_costs po opětovném přepočtu: 2762
Iteration 12
[DEBUG] Using SAT operator (destroy+repair SAT).
====================
SAT destroy operator called.
[DEBUG] key_agent_id: 23
[DEBUG] key_agent_id délka globální cesty: 49
Submap content (global positions):
19 20 21 22 23 
51 52 53 54 55 
83 84 85 86 87 
115 116 117 118 119 
147 148 149 150 151 
Map content with agents and obstacles:
. . X . X 
X . X . . 
. . A . X 
. . . . . 
. A . . . 
[DEBUG] obsah struktury map, kterou předáváme SAT solveru: 
1  1  -1  1  -1  
-1  1  -1  1  1  
1  1  1  1  -1  
1  1  1  1  1  
1  1  1  1  1  

[INFO] Identifikace agentů v submapě pro přeplánování (kdy key_agent je tam v čase 31):
[DEBUG] Agent 23 nalezené intervaly v submapě: [21..43]
  Agent 23 (interval v submapě: [21..43]) obsahuje čas 31, přidán k přeplánování.
[DEBUG] Agent 32 nalezené intervaly v submapě: [31..37]
  Agent 32 (interval v submapě: [31..37]) obsahuje čas 31, přidán k přeplánování.
Agent 23 | Start (globální): 85 → (lokální): (2, 2) v čase 31 | Cíl (globální): 55 → (lokální): (1, 4) v čase 43
Agent 32 | Start (globální): 148 → (lokální): (4, 1) v čase 31 | Cíl (globální): 55 → (lokální): (1, 4) v čase 37
[REPAIR] SAT destroy operator called.
[REPAIR] SAT operator – spouštím subproblém NA OPTIMALIZACI.

[INFO] Tvorba lokálních cest (sx, sy) v submapě pro T_sync = 31
  Agent 23 (globální cesty od T=31 do 43) má lokální dráhu: (2,2) (2,2) (2,2) (2,2) (2,2) (2,3) (3,3) (3,4) (3,3) (3,3) (2,3) (1,3) (1,4) 
  Agent 32 (globální cesty od T=31 do 37) má lokální dráhu: (4,1) (3,1) (3,2) (3,3) (2,3) (1,3) (1,4) 

[DEBUG] Kontrola vstupních dat pro SAT solver:
  - Počet agentů k přeplánování: 2
[DEBUG] Agent 23 má původní lokální dráhu délky: 13 => Start (2,2), Goal (1,4)
[DEBUG] Agent 32 má původní lokální dráhu délky: 7 => Start (4,1), Goal (1,4)
Startovní pozice: (2, 2), (4, 1), 
CÍLOVÉ pozice: (1, 4), (1, 4), 
SAT instance and solver created.
Currently solving
Instance name: scen
Map name: map
Encoding used: disappear_at_goal
SAT solver used: Kissat
Optimizing function: sum of costs
Number of agents: 2
Mks LB: 7
SoC LB: 11
Delta: 0
Remaining time: 300000 [ms]

Found plan [agents = 2] [timesteps = 7]
Agent #0 : 8 9 4 5 0 0 0 
Agent #1 : 16 17 18 13 9 4 5 

Solver returned: 0
[DEBUG] Agent (index) 23 | Nová lokální cesta (submap idx): 8 9 4 5 
[DEBUG] Agent (index) 32 | Nová lokální cesta (submap idx): 16 17 18 13 9 4 5 
[INFO] Aktualizace cesty pro agenta 23 | Původní lokální délka: 13 | Nová lokální délka: 4
[DEBUG] agent 23 t=0 => decoded (sx,sy)=(2,2) => global_id=85
[DEBUG] agent 23 t=1 => decoded (sx,sy)=(2,3) => global_id=86
[DEBUG] agent 23 t=2 => decoded (sx,sy)=(1,3) => global_id=54
[DEBUG] agent 23 t=3 => decoded (sx,sy)=(1,4) => global_id=55
[DEBUG] Kompletní cesta agenta 23:
  Původní: 123 123 123 123 123 123 123 123 123 122 90 90 90 90 90 90 58 26 25 24 56 55 54 86 85 85 85 85 85 85 85 85 85 85 85 85 86 118 119 118 118 86 54 55 56 24 25 26 27 
  Nová:     123 123 123 123 123 123 123 123 123 122 90 90 90 90 90 90 58 26 25 24 56 55 54 86 85 85 85 85 85 85 85 85 86 54 55 56 24 25 26 27 
[DEBUG] Vykreslení PŮVODNÍ cesty:
  Prefix (před submapou): 123 123 123 123 123 123 123 123 123 122 90 90 90 90 90 90 58 26 25 24 56 55 54 86 85 85 85 85 85 85 85 
  Lokální cesta (v submapě): 85 86 54 55 56 24 25 26 27 
  Suffix (po submapě): 
[INFO] Původní délka cesty agenta 23 je: 49
(SATUtils.cpp) nová cesta v agents[a].path agenta 0: 123, 123, 123, 123, 123, 123, 123, 123, 123, 122, 90, 90, 90, 90, 90, 90, 58, 26, 25, 24, 56, 55, 54, 86, 85, 85, 85, 85, 85, 85, 85, 85, 86, 54, 55, 56, 24, 25, 26, 27, 
[INFO] Cesta pro agenta 23 aktualizována, výsledná délka: 40
[INFO] Aktualizace cesty pro agenta 32 | Původní lokální délka: 7 | Nová lokální délka: 7
[DEBUG] agent 32 t=0 => decoded (sx,sy)=(4,1) => global_id=148
[DEBUG] agent 32 t=1 => decoded (sx,sy)=(4,2) => global_id=149
[DEBUG] agent 32 t=2 => decoded (sx,sy)=(4,3) => global_id=150
[DEBUG] agent 32 t=3 => decoded (sx,sy)=(3,3) => global_id=118
[DEBUG] agent 32 t=4 => decoded (sx,sy)=(2,3) => global_id=86
[DEBUG] agent 32 t=5 => decoded (sx,sy)=(1,3) => global_id=54
[DEBUG] agent 32 t=6 => decoded (sx,sy)=(1,4) => global_id=55
[DEBUG] Kompletní cesta agenta 32:
  Původní: 680 648 649 650 651 619 620 588 589 590 591 623 591 592 593 561 529 530 498 499 467 435 403 371 339 340 308 276 244 212 180 148 116 117 118 86 54 55 56 24 25 26 58 59 60 61 93 
  Nová:     680 648 649 650 651 619 620 588 589 590 591 623 591 592 593 561 529 530 498 499 467 435 403 371 339 340 308 276 244 212 180 148 149 150 118 86 54 55 56 24 25 26 58 59 60 61 93 
[DEBUG] Vykreslení PŮVODNÍ cesty:
  Prefix (před submapou): 680 648 649 650 651 619 620 588 589 590 591 623 591 592 593 561 529 530 498 499 467 435 403 371 339 340 308 276 244 212 180 
  Lokální cesta (v submapě): 148 149 150 118 86 54 55 
  Suffix (po submapě): 56 24 25 26 58 59 60 61 93 
[INFO] Původní délka cesty agenta 32 je: 47
(SATUtils.cpp) nová cesta v agents[a].path agenta 1: 680, 648, 649, 650, 651, 619, 620, 588, 589, 590, 591, 623, 591, 592, 593, 561, 529, 530, 498, 499, 467, 435, 403, 371, 339, 340, 308, 276, 244, 212, 180, 148, 149, 150, 118, 86, 54, 55, 56, 24, 25, 26, 58, 59, 60, 61, 93, 
[INFO] Cesta pro agenta 32 aktualizována, výsledná délka: 47
Paths successfully updated.
(LNS.cpp) Nová cesta v agents[a].path agenta 23: 123, 123, 123, 123, 123, 123, 123, 123, 123, 122, 90, 90, 90, 90, 90, 90, 58, 26, 25, 24, 56, 55, 54, 86, 85, 85, 85, 85, 85, 85, 85, 85, 86, 54, 55, 56, 24, 25, 26, 27, 
(LNS.cpp) Nová cesta v agents[a].path agenta 32: 680, 648, 649, 650, 651, 619, 620, 588, 589, 590, 591, 623, 591, 592, 593, 561, 529, 530, 498, 499, 467, 435, 403, 371, 339, 340, 308, 276, 244, 212, 180, 148, 149, 150, 118, 86, 54, 55, 56, 24, 25, 26, 58, 59, 60, 61, 93, 
[DEBUG] hodnota delta: 0.0957447
[DEBUG] rewarding metric index = 3
[DEBUG] component_weights = {0.112013, 0.153841, 0.260512, 0.473634}
[DEBUG] hodnota opSuccess: 1
[DEBUG] neighbor.sum_of_costs před opětovným přepočtem: 85
[DEBUG] neighbor.old_sum_of_costs před opětovným přepočtem: 94
[DEBUG] sum_of_costs před opětovným přepočtem: 2762
[DEBUG] Validate solution immediately after SAT success.
[WARNING] Problem after SAT: Target conflict: agent 31 (len 50) traverses target of agent 23 (len 39) at location 27 at timestep 47
[DEBUG] Attempting immediate repair via init_lns because problem occured after SAT (should be applied only for conflicts...).
[DEBUG] In LNS, we pass 100 agents to init_lns (skip=true). 
[DEBUG] Obsah path_table pro vybrané agenty (neighbor.agents):
  Agent 23 => controlling path length=40
  Agent 32 => controlling path length=47
[DEBUG] hodnota skip_initial_solution=1
[DEBUG] We skip initialSolution => call buildCollisionData()
[DEBUG] buildCollisionData() called – skip_initial_solution case.
[DEBUG] Agents.size()=100, collision_graph.size()=100
[DEBUG] agent 23 => updateCollidingPairs => foundCollision
[DEBUG] agent 31 => updateCollidingPairs => foundCollision
[DEBUG] Dvojice konfliktních agentů: 
agent 23 je v konfliktu s agentem 31
[DEBUG] buildCollisionData() => sum_of_costs=2753, num_of_colliding_pairs=1
[DEBUG] buildCollisionData done => sum_of_costs=2753, num_of_colliding_pairs=1
[DEBUG] sum_of_cost hodnota: 2753
[DEBUG] After skip/init build => iteration_stats.back(): sum_of_costs=2753, collisions=1
[DEBUG] Using default neighbor generation strategy for conflicts: 0
	InitLNS(PP): runtime = 0.000378209, iterations = 2, colliding pairs = 0, initial colliding pairs = 1, solution cost = 2762, initial solution cost = 2753, failed iterations = 0
[DEBUG] init_lns->sum_of_costs po doběhnutí init_lns->run: 2762
[DEBUG] sum_of_costs po přiřazení init_lns->run: 2762
[DEBUG] recomputing sum_of_cost by dividing neighbor.sum_of_costs and neighbor.old_sum_of_costs
[DEBUG] sum_of_costs po opětovném přepočtu: 2762
Iteration 13
[DEBUG] Using SAT operator (destroy+repair SAT).
====================
SAT destroy operator called.
[DEBUG] key_agent_id: 23
[DEBUG] key_agent_id délka globální cesty: 49
Submap content (global positions):
85 86 87 88 89 
117 118 119 120 121 
149 150 151 152 153 
181 182 183 184 185 
213 214 215 216 217 
Map content with agents and obstacles:
. A X X . 
. . . . . 
. . A X . 
A X . . . 
A . . . A 
[DEBUG] obsah struktury map, kterou předáváme SAT solveru: 
1  1  -1  -1  1  
1  1  1  1  1  
1  1  1  -1  1  
1  -1  1  1  1  
1  1  1  1  1  

[INFO] Identifikace agentů v submapě pro přeplánování (kdy key_agent je tam v čase 35):
[DEBUG] Agent 23 nalezené intervaly v submapě: [23..41]
  Agent 23 (interval v submapě: [23..41]) obsahuje čas 35, přidán k přeplánování.
[DEBUG] Agent 31 nalezené intervaly v submapě: [35..40]
  Agent 31 (interval v submapě: [35..40]) obsahuje čas 35, přidán k přeplánování.
[DEBUG] Agent 32 nalezené intervaly v submapě: [32..35]
  Agent 32 (interval v submapě: [32..35]) obsahuje čas 35, přidán k přeplánování.
[DEBUG] Agent 46 nalezené intervaly v submapě: [35..36]
  Agent 46 (interval v submapě: [35..36]) obsahuje čas 35, přidán k přeplánování.
[DEBUG] Agent 47 nalezené intervaly v submapě: [35..39]
  Agent 47 (interval v submapě: [35..39]) obsahuje čas 35, přidán k přeplánování.
[DEBUG] Agent 66 nalezené intervaly v submapě: [0..9]
[DEBUG] Agent 66 není v submapě v čase 35 (intervaly: [0..9] )
Agent 23 | Start (globální): 151 → (lokální): (2, 2) v čase 35 | Cíl (globální): 86 → (lokální): (0, 1) v čase 41
Agent 31 | Start (globální): 213 → (lokální): (4, 0) v čase 35 | Cíl (globální): 86 → (lokální): (0, 1) v čase 40
Agent 32 | Start (globální): 86 → (lokální): (0, 1) v čase 35 | Cíl (globální): 86 → (lokální): (0, 1) v čase 35
Agent 46 | Start (globální): 217 → (lokální): (4, 4) v čase 35 | Cíl (globální): 185 → (lokální): (3, 4) v čase 36
Agent 47 | Start (globální): 181 → (lokální): (3, 0) v čase 35 | Cíl (globální): 86 → (lokální): (0, 1) v čase 39
[REPAIR] SAT destroy operator called.
[REPAIR] SAT operator – spouštím subproblém NA OPTIMALIZACI.

[INFO] Tvorba lokálních cest (sx, sy) v submapě pro T_sync = 35
  Agent 23 (globální cesty od T=35 do 41) má lokální dráhu: (2,2) (2,2) (2,2) (2,1) (1,1) (1,1) (0,1) 
  Agent 31 (globální cesty od T=35 do 40) má lokální dráhu: (4,0) (3,0) (2,0) (1,0) (0,0) (0,1) 
  Agent 32 (globální cesty od T=35 do 35) má lokální dráhu: (0,1) 
  Agent 46 (globální cesty od T=35 do 36) má lokální dráhu: (4,4) (3,4) 
  Agent 47 (globální cesty od T=35 do 39) má lokální dráhu: (3,0) (2,0) (2,1) (1,1) (0,1) 

[DEBUG] Kontrola vstupních dat pro SAT solver:
  - Počet agentů k přeplánování: 5
[DEBUG] Agent 23 má původní lokální dráhu délky: 7 => Start (2,2), Goal (0,1)
[DEBUG] Agent 31 má původní lokální dráhu délky: 6 => Start (4,0), Goal (0,1)
[DEBUG] Agent 32 má původní lokální dráhu délky: 1 => Start (0,1), Goal (0,1)
[DEBUG] Agent 46 má původní lokální dráhu délky: 2 => Start (4,4), Goal (3,4)
[DEBUG] Agent 47 má původní lokální dráhu délky: 5 => Start (3,0), Goal (0,1)
Startovní pozice: (2, 2), (4, 0), (0, 1), (4, 4), (3, 0), 
CÍLOVÉ pozice: (0, 1), (0, 1), (0, 1), (3, 4), (0, 1), 
SAT instance and solver created.
Currently solving
Instance name: scen
Map name: map
Encoding used: disappear_at_goal
SAT solver used: Kissat
Optimizing function: sum of costs
Number of agents: 5
Mks LB: 6
SoC LB: 18
Delta: 0
Remaining time: 300000 [ms]

Vertex conflict! Agents 0, 2, timestep 4, location 0
Swapping conflict! Agents 0, 2, timestep 4, edge (0,0)
Vertex conflict! Agents 0, 2, timestep 5, location 0
Vertex conflict! Agents 0, 3, timestep 4, location 0
Swapping conflict! Agents 0, 3, timestep 4, edge (0,0)
Vertex conflict! Agents 0, 3, timestep 5, location 0
Vertex conflict! Agents 0, 4, timestep 5, location 0
Vertex conflict! Agents 2, 3, timestep 2, location 0
Swapping conflict! Agents 2, 3, timestep 2, edge (0,0)
Vertex conflict! Agents 2, 3, timestep 3, location 0
Swapping conflict! Agents 2, 3, timestep 3, edge (0,0)
Vertex conflict! Agents 2, 3, timestep 4, location 0
Swapping conflict! Agents 2, 3, timestep 4, edge (0,0)
Vertex conflict! Agents 2, 3, timestep 5, location 0
Vertex conflict! Agents 2, 4, timestep 5, location 0
Vertex conflict! Agents 3, 4, timestep 5, location 0
Found plan [agents = 5] [timesteps = 6]
Agent #0 : 10 9 4 1 0 0 
Agent #1 : 16 12 8 9 4 1 
Agent #2 : 1 0 0 0 0 0 
Agent #3 : 20 15 0 0 0 0 
Agent #4 : 12 8 9 4 1 0 

Solver returned: 0
[DEBUG] Agent (index) 23 | Nová lokální cesta (submap idx): 10 9 4 1 
[DEBUG] Agent (index) 31 | Nová lokální cesta (submap idx): 16 12 8 9 4 1 
[DEBUG] Agent (index) 32 | Nová lokální cesta (submap idx): 1 
[DEBUG] Agent (index) 46 | Nová lokální cesta (submap idx): 20 15 
[DEBUG] Agent (index) 47 | Nová lokální cesta (submap idx): 12 8 9 4 1 
[INFO] Aktualizace cesty pro agenta 23 | Původní lokální délka: 7 | Nová lokální délka: 4
[DEBUG] agent 23 t=0 => decoded (sx,sy)=(2,2) => global_id=151
[DEBUG] agent 23 t=1 => decoded (sx,sy)=(2,1) => global_id=150
[DEBUG] agent 23 t=2 => decoded (sx,sy)=(1,1) => global_id=118
[DEBUG] agent 23 t=3 => decoded (sx,sy)=(0,1) => global_id=86
[DEBUG] Kompletní cesta agenta 23:
  Původní: 123 123 123 123 123 123 123 123 123 122 90 90 90 90 90 90 58 26 25 24 56 55 54 86 118 150 151 151 151 151 151 151 151 151 151 151 151 151 150 118 118 86 54 55 56 24 25 26 27 
  Nová:     123 123 123 123 123 123 123 123 123 122 90 90 90 90 90 90 58 26 25 24 56 55 54 86 118 150 151 151 151 151 151 151 151 151 151 151 150 118 86 54 55 56 24 25 26 27 
[DEBUG] Vykreslení PŮVODNÍ cesty:
  Prefix (před submapou): 123 123 123 123 123 123 123 123 123 122 90 90 90 90 90 90 58 26 25 24 56 55 54 86 118 150 151 151 151 151 151 151 151 151 151 
  Lokální cesta (v submapě): 151 150 118 86 54 55 56 
  Suffix (po submapě): 24 25 26 27 
[INFO] Původní délka cesty agenta 23 je: 49
(SATUtils.cpp) nová cesta v agents[a].path agenta 0: 123, 123, 123, 123, 123, 123, 123, 123, 123, 122, 90, 90, 90, 90, 90, 90, 58, 26, 25, 24, 56, 55, 54, 86, 118, 150, 151, 151, 151, 151, 151, 151, 151, 151, 151, 151, 150, 118, 86, 54, 55, 56, 24, 25, 26, 27, 
[INFO] Cesta pro agenta 23 aktualizována, výsledná délka: 46
[INFO] Aktualizace cesty pro agenta 31 | Původní lokální délka: 6 | Nová lokální délka: 6
[DEBUG] agent 31 t=0 => decoded (sx,sy)=(4,0) => global_id=213
[DEBUG] agent 31 t=1 => decoded (sx,sy)=(3,0) => global_id=181
[DEBUG] agent 31 t=2 => decoded (sx,sy)=(2,0) => global_id=149
[DEBUG] agent 31 t=3 => decoded (sx,sy)=(2,1) => global_id=150
[DEBUG] agent 31 t=4 => decoded (sx,sy)=(1,1) => global_id=118
[DEBUG] agent 31 t=5 => decoded (sx,sy)=(0,1) => global_id=86
[DEBUG] Kompletní cesta agenta 31:
  Původní: 838 839 807 775 776 777 745 746 747 715 683 684 685 686 654 622 623 591 592 560 528 529 530 498 466 467 435 403 371 339 340 308 276 244 212 213 181 149 117 85 86 54 55 56 24 25 26 27 28 29 30 
  Nová:     838 839 807 775 776 777 745 746 747 715 683 684 685 686 654 622 623 591 592 560 528 529 530 498 466 467 435 403 371 339 340 308 276 244 212 213 181 149 150 118 86 54 55 56 24 25 26 27 28 29 30 
[DEBUG] Vykreslení PŮVODNÍ cesty:
  Prefix (před submapou): 838 839 807 775 776 777 745 746 747 715 683 684 685 686 654 622 623 591 592 560 528 529 530 498 466 467 435 403 371 339 340 308 276 244 212 
  Lokální cesta (v submapě): 213 181 149 150 118 86 
  Suffix (po submapě): 54 55 56 24 25 26 27 28 29 30 
[INFO] Původní délka cesty agenta 31 je: 51
(SATUtils.cpp) nová cesta v agents[a].path agenta 1: 838, 839, 807, 775, 776, 777, 745, 746, 747, 715, 683, 684, 685, 686, 654, 622, 623, 591, 592, 560, 528, 529, 530, 498, 466, 467, 435, 403, 371, 339, 340, 308, 276, 244, 212, 213, 181, 149, 150, 118, 86, 54, 55, 56, 24, 25, 26, 27, 28, 29, 30, 
[INFO] Cesta pro agenta 31 aktualizována, výsledná délka: 51
[INFO] Aktualizace cesty pro agenta 32 | Původní lokální délka: 1 | Nová lokální délka: 1
[DEBUG] agent 32 t=0 => decoded (sx,sy)=(0,1) => global_id=86
[DEBUG] Kompletní cesta agenta 32:
  Původní: 680 648 649 650 651 619 620 588 589 590 591 623 591 592 593 561 529 530 498 499 467 435 403 371 339 340 308 276 244 212 180 148 149 150 118 86 54 55 56 24 25 26 58 59 60 61 93 
  Nová:     680 648 649 650 651 619 620 588 589 590 591 623 591 592 593 561 529 530 498 499 467 435 403 371 339 340 308 276 244 212 180 148 149 150 118 86 54 55 56 24 25 26 58 59 60 61 93 
[DEBUG] Vykreslení PŮVODNÍ cesty:
  Prefix (před submapou): 680 648 649 650 651 619 620 588 589 590 591 623 591 592 593 561 529 530 498 499 467 435 403 371 339 340 308 276 244 212 180 148 149 150 118 
  Lokální cesta (v submapě): 86 
  Suffix (po submapě): 54 55 56 24 25 26 58 59 60 61 93 
[INFO] Původní délka cesty agenta 32 je: 47
(SATUtils.cpp) nová cesta v agents[a].path agenta 2: 680, 648, 649, 650, 651, 619, 620, 588, 589, 590, 591, 623, 591, 592, 593, 561, 529, 530, 498, 499, 467, 435, 403, 371, 339, 340, 308, 276, 244, 212, 180, 148, 149, 150, 118, 86, 54, 55, 56, 24, 25, 26, 58, 59, 60, 61, 93, 
[INFO] Cesta pro agenta 32 aktualizována, výsledná délka: 47
[INFO] Aktualizace cesty pro agenta 46 | Původní lokální délka: 2 | Nová lokální délka: 2
[DEBUG] agent 46 t=0 => decoded (sx,sy)=(4,4) => global_id=217
[DEBUG] agent 46 t=1 => decoded (sx,sy)=(3,4) => global_id=185
[DEBUG] Kompletní cesta agenta 46:
  Původní: 585 617 617 649 650 651 619 620 588 589 590 622 623 591 592 560 528 496 464 432 433 401 402 403 371 339 340 341 309 310 311 312 313 281 249 217 185 
  Nová:     585 617 617 649 650 651 619 620 588 589 590 622 623 591 592 560 528 496 464 432 433 401 402 403 371 339 340 341 309 310 311 312 313 281 249 217 185 
[DEBUG] Vykreslení PŮVODNÍ cesty:
  Prefix (před submapou): 585 617 617 649 650 651 619 620 588 589 590 622 623 591 592 560 528 496 464 432 433 401 402 403 371 339 340 341 309 310 311 312 313 281 249 
  Lokální cesta (v submapě): 217 185 
  Suffix (po submapě): 
[INFO] Původní délka cesty agenta 46 je: 37
(SATUtils.cpp) nová cesta v agents[a].path agenta 3: 585, 617, 617, 649, 650, 651, 619, 620, 588, 589, 590, 622, 623, 591, 592, 560, 528, 496, 464, 432, 433, 401, 402, 403, 371, 339, 340, 341, 309, 310, 311, 312, 313, 281, 249, 217, 185, 
[INFO] Cesta pro agenta 46 aktualizována, výsledná délka: 37
[INFO] Aktualizace cesty pro agenta 47 | Původní lokální délka: 5 | Nová lokální délka: 5
[DEBUG] agent 47 t=0 => decoded (sx,sy)=(3,0) => global_id=181
[DEBUG] agent 47 t=1 => decoded (sx,sy)=(2,0) => global_id=149
[DEBUG] agent 47 t=2 => decoded (sx,sy)=(2,1) => global_id=150
[DEBUG] agent 47 t=3 => decoded (sx,sy)=(1,1) => global_id=118
[DEBUG] agent 47 t=4 => decoded (sx,sy)=(0,1) => global_id=86
[DEBUG] Kompletní cesta agenta 47:
  Původní: 841 873 874 875 876 877 845 846 814 782 750 718 686 654 655 623 591 592 560 528 496 464 432 400 368 336 337 338 339 340 308 276 244 212 180 181 149 150 118 86 54 55 56 24 25 26 58 59 60 
  Nová:     841 873 874 875 876 877 845 846 814 782 750 718 686 654 655 623 591 592 560 528 496 464 432 400 368 336 337 338 339 340 308 276 244 212 180 181 149 150 118 86 54 55 56 24 25 26 58 59 60 
[DEBUG] Vykreslení PŮVODNÍ cesty:
  Prefix (před submapou): 841 873 874 875 876 877 845 846 814 782 750 718 686 654 655 623 591 592 560 528 496 464 432 400 368 336 337 338 339 340 308 276 244 212 180 
  Lokální cesta (v submapě): 181 149 150 118 86 
  Suffix (po submapě): 54 55 56 24 25 26 58 59 60 
[INFO] Původní délka cesty agenta 47 je: 49
(SATUtils.cpp) nová cesta v agents[a].path agenta 4: 841, 873, 874, 875, 876, 877, 845, 846, 814, 782, 750, 718, 686, 654, 655, 623, 591, 592, 560, 528, 496, 464, 432, 400, 368, 336, 337, 338, 339, 340, 308, 276, 244, 212, 180, 181, 149, 150, 118, 86, 54, 55, 56, 24, 25, 26, 58, 59, 60, 
[INFO] Cesta pro agenta 47 aktualizována, výsledná délka: 49
Paths successfully updated.
(LNS.cpp) Nová cesta v agents[a].path agenta 23: 123, 123, 123, 123, 123, 123, 123, 123, 123, 122, 90, 90, 90, 90, 90, 90, 58, 26, 25, 24, 56, 55, 54, 86, 118, 150, 151, 151, 151, 151, 151, 151, 151, 151, 151, 151, 150, 118, 86, 54, 55, 56, 24, 25, 26, 27, 
(LNS.cpp) Nová cesta v agents[a].path agenta 31: 838, 839, 807, 775, 776, 777, 745, 746, 747, 715, 683, 684, 685, 686, 654, 622, 623, 591, 592, 560, 528, 529, 530, 498, 466, 467, 435, 403, 371, 339, 340, 308, 276, 244, 212, 213, 181, 149, 150, 118, 86, 54, 55, 56, 24, 25, 26, 27, 28, 29, 30, 
(LNS.cpp) Nová cesta v agents[a].path agenta 32: 680, 648, 649, 650, 651, 619, 620, 588, 589, 590, 591, 623, 591, 592, 593, 561, 529, 530, 498, 499, 467, 435, 403, 371, 339, 340, 308, 276, 244, 212, 180, 148, 149, 150, 118, 86, 54, 55, 56, 24, 25, 26, 58, 59, 60, 61, 93, 
(LNS.cpp) Nová cesta v agents[a].path agenta 46: 585, 617, 617, 649, 650, 651, 619, 620, 588, 589, 590, 622, 623, 591, 592, 560, 528, 496, 464, 432, 433, 401, 402, 403, 371, 339, 340, 341, 309, 310, 311, 312, 313, 281, 249, 217, 185, 
(LNS.cpp) Nová cesta v agents[a].path agenta 47: 841, 873, 874, 875, 876, 877, 845, 846, 814, 782, 750, 718, 686, 654, 655, 623, 591, 592, 560, 528, 496, 464, 432, 400, 368, 336, 337, 338, 339, 340, 308, 276, 244, 212, 180, 181, 149, 150, 118, 86, 54, 55, 56, 24, 25, 26, 58, 59, 60, 
[DEBUG] hodnota delta: 0.0131579
[DEBUG] rewarding metric index = 3
[DEBUG] component_weights = {0.108593, 0.149145, 0.25256, 0.489702}
[DEBUG] hodnota opSuccess: 1
[DEBUG] neighbor.sum_of_costs před opětovným přepočtem: 225
[DEBUG] neighbor.old_sum_of_costs před opětovným přepočtem: 228
[DEBUG] sum_of_costs před opětovným přepočtem: 2762
[DEBUG] Validate solution immediately after SAT success.
[WARNING] Problem after SAT: Target conflict: agent 31 (len 50) traverses target of agent 23 (len 45) at location 27 at timestep 47
[DEBUG] Attempting immediate repair via init_lns because problem occured after SAT (should be applied only for conflicts...).
[DEBUG] In LNS, we pass 100 agents to init_lns (skip=true). 
[DEBUG] Obsah path_table pro vybrané agenty (neighbor.agents):
  Agent 23 => controlling path length=46
  Agent 31 => controlling path length=51
  Agent 32 => controlling path length=47
  Agent 46 => controlling path length=37
  Agent 47 => controlling path length=49
[DEBUG] hodnota skip_initial_solution=1
[DEBUG] We skip initialSolution => call buildCollisionData()
[DEBUG] buildCollisionData() called – skip_initial_solution case.
[DEBUG] Agents.size()=100, collision_graph.size()=100
[DEBUG] agent 23 => updateCollidingPairs => foundCollision
[DEBUG] agent 31 => updateCollidingPairs => foundCollision
[DEBUG] Dvojice konfliktních agentů: 
agent 23 je v konfliktu s agentem 31
[DEBUG] buildCollisionData() => sum_of_costs=2759, num_of_colliding_pairs=1
[DEBUG] buildCollisionData done => sum_of_costs=2759, num_of_colliding_pairs=1
[DEBUG] sum_of_cost hodnota: 2759
[DEBUG] After skip/init build => iteration_stats.back(): sum_of_costs=2759, collisions=1
[DEBUG] Using default neighbor generation strategy for conflicts: 0
	InitLNS(PP): runtime = 0.000374041, iterations = 2, colliding pairs = 0, initial colliding pairs = 1, solution cost = 2762, initial solution cost = 2759, failed iterations = 0
[DEBUG] init_lns->sum_of_costs po doběhnutí init_lns->run: 2762
[DEBUG] sum_of_costs po přiřazení init_lns->run: 2762
[DEBUG] recomputing sum_of_cost by dividing neighbor.sum_of_costs and neighbor.old_sum_of_costs
[DEBUG] sum_of_costs po opětovném přepočtu: 2762
Iteration 14
[DEBUG] Using SAT operator (destroy+repair SAT).
====================
SAT destroy operator called.
[DEBUG] key_agent_id: 23
[DEBUG] key_agent_id délka globální cesty: 49
Submap content (global positions):
117 118 119 120 121 
149 150 151 152 153 
181 182 183 184 185 
213 214 215 216 217 
245 246 247 248 249 
Map content with agents and obstacles:
. . . . . 
. . . X . 
A X A . . 
. . . . . 
X X . . . 
[DEBUG] obsah struktury map, kterou předáváme SAT solveru: 
1  1  1  1  1  
1  1  1  -1  1  
1  -1  1  1  1  
1  1  1  1  1  
-1  -1  1  1  1  

[INFO] Identifikace agentů v submapě pro přeplánování (kdy key_agent je tam v čase 25):
[DEBUG] Agent 23 nalezené intervaly v submapě: [11..40]
  Agent 23 (interval v submapě: [11..40]) obsahuje čas 25, přidán k přeplánování.
[DEBUG] Agent 49 nalezené intervaly v submapě: [25..29]
  Agent 49 (interval v submapě: [25..29]) obsahuje čas 25, přidán k přeplánování.
[DEBUG] Agent 66 nalezené intervaly v submapě: [0..9]
[DEBUG] Agent 66 není v submapě v čase 25 (intervaly: [0..9] )
Agent 23 | Start (globální): 183 → (lokální): (2, 2) v čase 25 | Cíl (globální): 118 → (lokální): (0, 1) v čase 40
Agent 49 | Start (globální): 181 → (lokální): (2, 0) v čase 25 | Cíl (globální): 247 → (lokální): (4, 2) v čase 29
[REPAIR] SAT destroy operator called.
[REPAIR] SAT operator – spouštím subproblém NA OPTIMALIZACI.

[INFO] Tvorba lokálních cest (sx, sy) v submapě pro T_sync = 25
  Agent 23 (globální cesty od T=25 do 40) má lokální dráhu: (2,2) (2,2) (2,2) (2,2) (3,2) (3,1) (3,1) (3,1) (3,1) (3,1) (3,1) (3,0) (2,0) (1,0) (0,0) (0,1) 
  Agent 49 (globální cesty od T=25 do 29) má lokální dráhu: (2,0) (3,0) (3,1) (3,2) (4,2) 

[DEBUG] Kontrola vstupních dat pro SAT solver:
  - Počet agentů k přeplánování: 2
[DEBUG] Agent 23 má původní lokální dráhu délky: 16 => Start (2,2), Goal (0,1)
[DEBUG] Agent 49 má původní lokální dráhu délky: 5 => Start (2,0), Goal (4,2)
Startovní pozice: (2, 2), (2, 0), 
CÍLOVÉ pozice: (0, 1), (4, 2), 
SAT instance and solver created.
Currently solving
Instance name: scen
Map name: map
Encoding used: disappear_at_goal
SAT solver used: Kissat
Optimizing function: sum of costs
Number of agents: 2
Mks LB: 5
SoC LB: 9
Delta: 0
Remaining time: 300000 [ms]

Found plan [agents = 2] [timesteps = 5]
Agent #0 : 10 7 6 1 0 
Agent #1 : 9 13 14 15 18 

Solver returned: 0
[DEBUG] Agent (index) 23 | Nová lokální cesta (submap idx): 10 7 6 1 
[DEBUG] Agent (index) 49 | Nová lokální cesta (submap idx): 9 13 14 15 18 
[INFO] Aktualizace cesty pro agenta 23 | Původní lokální délka: 16 | Nová lokální délka: 4
[DEBUG] agent 23 t=0 => decoded (sx,sy)=(2,2) => global_id=183
[DEBUG] agent 23 t=1 => decoded (sx,sy)=(1,2) => global_id=151
[DEBUG] agent 23 t=2 => decoded (sx,sy)=(1,1) => global_id=150
[DEBUG] agent 23 t=3 => decoded (sx,sy)=(0,1) => global_id=118
[DEBUG] Kompletní cesta agenta 23:
  Původní: 123 123 123 123 123 123 123 123 123 122 154 153 153 153 153 185 184 183 183 183 183 183 183 183 183 183 183 183 183 215 214 214 214 214 214 214 213 181 149 117 118 86 54 55 56 24 25 26 27 
  Nová:     123 123 123 123 123 123 123 123 123 122 154 153 153 153 153 185 184 183 183 183 183 183 183 183 183 183 151 150 118 86 54 55 56 24 25 26 27 
[DEBUG] Vykreslení PŮVODNÍ cesty:
  Prefix (před submapou): 123 123 123 123 123 123 123 123 123 122 154 153 153 153 153 185 184 183 183 183 183 183 183 183 183 
  Lokální cesta (v submapě): 183 151 150 118 86 54 55 56 24 25 26 27 
  Suffix (po submapě): 
[INFO] Původní délka cesty agenta 23 je: 49
(SATUtils.cpp) nová cesta v agents[a].path agenta 0: 123, 123, 123, 123, 123, 123, 123, 123, 123, 122, 154, 153, 153, 153, 153, 185, 184, 183, 183, 183, 183, 183, 183, 183, 183, 183, 151, 150, 118, 86, 54, 55, 56, 24, 25, 26, 27, 
[INFO] Cesta pro agenta 23 aktualizována, výsledná délka: 37
[INFO] Aktualizace cesty pro agenta 49 | Původní lokální délka: 5 | Nová lokální délka: 5
[DEBUG] agent 49 t=0 => decoded (sx,sy)=(2,0) => global_id=181
[DEBUG] agent 49 t=1 => decoded (sx,sy)=(3,0) => global_id=213
[DEBUG] agent 49 t=2 => decoded (sx,sy)=(3,1) => global_id=214
[DEBUG] agent 49 t=3 => decoded (sx,sy)=(3,2) => global_id=215
[DEBUG] agent 49 t=4 => decoded (sx,sy)=(4,2) => global_id=247
[DEBUG] Kompletní cesta agenta 49:
  Původní: 68 68 69 37 5 6 7 8 9 41 73 74 106 107 108 109 110 111 112 144 176 177 178 179 180 181 213 214 215 247 279 311 312 344 376 377 378 379 411 412 413 381 349 317 
  Nová:     68 68 69 37 5 6 7 8 9 41 73 74 106 107 108 109 110 111 112 144 176 177 178 179 180 181 213 214 215 247 279 311 312 344 376 377 378 379 411 412 413 381 349 317 
[DEBUG] Vykreslení PŮVODNÍ cesty:
  Prefix (před submapou): 68 68 69 37 5 6 7 8 9 41 73 74 106 107 108 109 110 111 112 144 176 177 178 179 180 
  Lokální cesta (v submapě): 181 213 214 215 247 
  Suffix (po submapě): 279 311 312 344 376 377 378 379 411 412 413 381 349 317 
[INFO] Původní délka cesty agenta 49 je: 44
(SATUtils.cpp) nová cesta v agents[a].path agenta 1: 68, 68, 69, 37, 5, 6, 7, 8, 9, 41, 73, 74, 106, 107, 108, 109, 110, 111, 112, 144, 176, 177, 178, 179, 180, 181, 213, 214, 215, 247, 279, 311, 312, 344, 376, 377, 378, 379, 411, 412, 413, 381, 349, 317, 
[INFO] Cesta pro agenta 49 aktualizována, výsledná délka: 44
Paths successfully updated.
(LNS.cpp) Nová cesta v agents[a].path agenta 23: 123, 123, 123, 123, 123, 123, 123, 123, 123, 122, 154, 153, 153, 153, 153, 185, 184, 183, 183, 183, 183, 183, 183, 183, 183, 183, 151, 150, 118, 86, 54, 55, 56, 24, 25, 26, 27, 
(LNS.cpp) Nová cesta v agents[a].path agenta 49: 68, 68, 69, 37, 5, 6, 7, 8, 9, 41, 73, 74, 106, 107, 108, 109, 110, 111, 112, 144, 176, 177, 178, 179, 180, 181, 213, 214, 215, 247, 279, 311, 312, 344, 376, 377, 378, 379, 411, 412, 413, 381, 349, 317, 
[DEBUG] hodnota delta: 0.131868
[DEBUG] rewarding metric index = 3
[DEBUG] component_weights = {0.0992853, 0.136361, 0.230912, 0.533441}
[DEBUG] hodnota opSuccess: 1
[DEBUG] neighbor.sum_of_costs před opětovným přepočtem: 79
[DEBUG] neighbor.old_sum_of_costs před opětovným přepočtem: 91
[DEBUG] sum_of_costs před opětovným přepočtem: 2762
[DEBUG] Validate solution immediately after SAT success.
[WARNING] Problem after SAT: Target conflict: agent 31 (len 50) traverses target of agent 23 (len 36) at location 27 at timestep 47
[DEBUG] Attempting immediate repair via init_lns because problem occured after SAT (should be applied only for conflicts...).
[DEBUG] In LNS, we pass 100 agents to init_lns (skip=true). 
[DEBUG] Obsah path_table pro vybrané agenty (neighbor.agents):
  Agent 23 => controlling path length=37
  Agent 49 => controlling path length=44
[DEBUG] hodnota skip_initial_solution=1
[DEBUG] We skip initialSolution => call buildCollisionData()
[DEBUG] buildCollisionData() called – skip_initial_solution case.
[DEBUG] Agents.size()=100, collision_graph.size()=100
[DEBUG] agent 23 => updateCollidingPairs => foundCollision
[DEBUG] agent 31 => updateCollidingPairs => foundCollision
[DEBUG] Dvojice konfliktních agentů: 
agent 23 je v konfliktu s agentem 31
[DEBUG] buildCollisionData() => sum_of_costs=2750, num_of_colliding_pairs=1
[DEBUG] buildCollisionData done => sum_of_costs=2750, num_of_colliding_pairs=1
[DEBUG] sum_of_cost hodnota: 2750
[DEBUG] After skip/init build => iteration_stats.back(): sum_of_costs=2750, collisions=1
[DEBUG] Using default neighbor generation strategy for conflicts: 2
[DEBUG] Using default neighbor generation strategy for conflicts: 2
[DEBUG] Using default neighbor generation strategy for conflicts: 2
[DEBUG] Using default neighbor generation strategy for conflicts: 1
[DEBUG] Using default neighbor generation strategy for conflicts: 2
	InitLNS(PP): runtime = 0.0112085, iterations = 6, colliding pairs = 0, initial colliding pairs = 1, solution cost = 2759, initial solution cost = 2750, failed iterations = 0
[DEBUG] init_lns->sum_of_costs po doběhnutí init_lns->run: 2759
[DEBUG] sum_of_costs po přiřazení init_lns->run: 2759
[DEBUG] recomputing sum_of_cost by dividing neighbor.sum_of_costs and neighbor.old_sum_of_costs
[DEBUG] sum_of_costs po opětovném přepočtu: 2759
Iteration 15
[DEBUG] Using SAT operator (destroy+repair SAT).
====================
SAT destroy operator called.
[DEBUG] key_agent_id: 23
[DEBUG] key_agent_id délka globální cesty: 49
Submap content (global positions):
24 25 26 27 28 
56 57 58 59 60 
88 89 90 91 92 
120 121 122 123 124 
152 153 154 155 156 
Map content with agents and obstacles:
. . . . . 
. X . A . 
X . A A X 
. . . . . 
X . A X . 
[DEBUG] obsah struktury map, kterou předáváme SAT solveru: 
1  1  1  1  1  
1  -1  1  1  1  
-1  1  1  1  -1  
1  1  1  1  1  
-1  1  1  -1  1  

[INFO] Identifikace agentů v submapě pro přeplánování (kdy key_agent je tam v čase 2):
[DEBUG] Agent 4 nalezené intervaly v submapě: [2..5] [11..17]
  Agent 4 (interval v submapě: [2..5]) obsahuje čas 2, přidán k přeplánování.
[DEBUG] Agent 23 nalezené intervaly v submapě: [0..6] [44..48]
  Agent 23 (interval v submapě: [0..6]) obsahuje čas 2, přidán k přeplánování.
[DEBUG] Agent 66 nalezené intervaly v submapě: [8..10]
[DEBUG] Agent 66 není v submapě v čase 2 (intervaly: [8..10] )
[DEBUG] Agent 68 nalezené intervaly v submapě: [1..7]
  Agent 68 (interval v submapě: [1..7]) obsahuje čas 2, přidán k přeplánování.
[DEBUG] Agent 90 nalezené intervaly v submapě: [0..2]
  Agent 90 (interval v submapě: [0..2]) obsahuje čas 2, přidán k přeplánování.
Agent 4 | Start (globální): 154 → (lokální): (4, 2) v čase 2 | Cíl (globální): 120 → (lokální): (3, 0) v čase 5
Agent 23 | Start (globální): 90 → (lokální): (2, 2) v čase 2 | Cíl (globální): 120 → (lokální): (3, 0) v čase 6
Agent 68 | Start (globální): 59 → (lokální): (1, 3) v čase 2 | Cíl (globální): 120 → (lokální): (3, 0) v čase 7
Agent 90 | Start (globální): 91 → (lokální): (2, 3) v čase 2 | Cíl (globální): 91 → (lokální): (2, 3) v čase 2
[REPAIR] SAT destroy operator called.
[REPAIR] SAT operator – spouštím subproblém NA OPTIMALIZACI.

[INFO] Tvorba lokálních cest (sx, sy) v submapě pro T_sync = 2
  Agent 4 (globální cesty od T=2 do 5) má lokální dráhu: (4,2) (4,1) (3,1) (3,0) 
  Agent 23 (globální cesty od T=2 do 6) má lokální dráhu: (2,2) (2,1) (2,1) (3,1) (3,0) 
  Agent 68 (globální cesty od T=2 do 7) má lokální dráhu: (1,3) (1,2) (2,2) (2,1) (3,1) (3,0) 
  Agent 90 (globální cesty od T=2 do 2) má lokální dráhu: (2,3) 

[DEBUG] Kontrola vstupních dat pro SAT solver:
  - Počet agentů k přeplánování: 4
[DEBUG] Agent 4 má původní lokální dráhu délky: 4 => Start (4,2), Goal (3,0)
[DEBUG] Agent 23 má původní lokální dráhu délky: 5 => Start (2,2), Goal (3,0)
[DEBUG] Agent 68 má původní lokální dráhu délky: 6 => Start (1,3), Goal (3,0)
[DEBUG] Agent 90 má původní lokální dráhu délky: 1 => Start (2,3), Goal (2,3)
Startovní pozice: (4, 2), (2, 2), (1, 3), (2, 3), 
CÍLOVÉ pozice: (3, 0), (3, 0), (3, 0), (2, 3), 
SAT instance and solver created.
Currently solving
Instance name: scen
Map name: map
Encoding used: disappear_at_goal
SAT solver used: Kissat
Optimizing function: sum of costs
Number of agents: 4
Mks LB: 6
SoC LB: 15
Delta: 0
Remaining time: 300000 [ms]

Solver returned: -1
SAT solver failed.
[WARN] SAT solver failed to find a valid solution.
====================
SAT destroy operator called.
[DEBUG] key_agent_id: 23
[DEBUG] key_agent_id délka globální cesty: 49
Submap content (global positions):
147 148 149 150 151 
179 180 181 182 183 
211 212 213 214 215 
243 244 245 246 247 
275 276 277 278 279 
Map content with agents and obstacles:
. . A . . 
. . A X . 
X . A . . 
. . X X . 
. . . . . 
[DEBUG] obsah struktury map, kterou předáváme SAT solveru: 
1  1  1  1  1  
1  1  1  -1  1  
-1  1  1  1  1  
1  1  -1  -1  1  
1  1  1  1  1  

[INFO] Identifikace agentů v submapě pro přeplánování (kdy key_agent je tam v čase 36):
[DEBUG] Agent 23 nalezené intervaly v submapě: [8..9] [29..38]
  Agent 23 (interval v submapě: [29..38]) obsahuje čas 36, přidán k přeplánování.
[DEBUG] Agent 31 nalezené intervaly v submapě: [32..38]
  Agent 31 (interval v submapě: [32..38]) obsahuje čas 36, přidán k přeplánování.
[DEBUG] Agent 46 nalezené intervaly v submapě:
[DEBUG] Agent 46 není v submapě v čase 36 (intervaly: )
[DEBUG] Agent 47 nalezené intervaly v submapě: [31..37]
  Agent 47 (interval v submapě: [31..37]) obsahuje čas 36, přidán k přeplánování.
Agent 23 | Start (globální): 213 → (lokální): (2, 2) v čase 36 | Cíl (globální): 149 → (lokální): (0, 2) v čase 38
Agent 31 | Start (globální): 181 → (lokální): (1, 2) v čase 36 | Cíl (globální): 150 → (lokální): (0, 3) v čase 38
Agent 47 | Start (globální): 149 → (lokální): (0, 2) v čase 36 | Cíl (globální): 150 → (lokální): (0, 3) v čase 37
[REPAIR] SAT destroy operator called.
[REPAIR] SAT operator – spouštím subproblém NA OPTIMALIZACI.

[INFO] Tvorba lokálních cest (sx, sy) v submapě pro T_sync = 36
  Agent 23 (globální cesty od T=36 do 38) má lokální dráhu: (2,2) (1,2) (0,2) 
  Agent 31 (globální cesty od T=36 do 38) má lokální dráhu: (1,2) (0,2) (0,3) 
  Agent 47 (globální cesty od T=36 do 37) má lokální dráhu: (0,2) (0,3) 

[DEBUG] Kontrola vstupních dat pro SAT solver:
  - Počet agentů k přeplánování: 3
[DEBUG] Agent 23 má původní lokální dráhu délky: 3 => Start (2,2), Goal (0,2)
[DEBUG] Agent 31 má původní lokální dráhu délky: 3 => Start (1,2), Goal (0,3)
[DEBUG] Agent 47 má původní lokální dráhu délky: 2 => Start (0,2), Goal (0,3)
Startovní pozice: (2, 2), (1, 2), (0, 2), 
CÍLOVÉ pozice: (0, 2), (0, 3), (0, 3), 
SAT instance and solver created.
Currently solving
Instance name: scen
Map name: map
Encoding used: disappear_at_goal
SAT solver used: Kissat
Optimizing function: sum of costs
Number of agents: 3
Mks LB: 3
SoC LB: 8
Delta: 0
Remaining time: 300000 [ms]

Found plan [agents = 3] [timesteps = 3]
Agent #0 : 10 7 2 
Agent #1 : 7 2 3 
Agent #2 : 2 3 0 

Solver returned: 0
[DEBUG] Agent (index) 23 | Nová lokální cesta (submap idx): 10 7 2 
[DEBUG] Agent (index) 31 | Nová lokální cesta (submap idx): 7 2 3 
[DEBUG] Agent (index) 47 | Nová lokální cesta (submap idx): 2 3 
[INFO] Aktualizace cesty pro agenta 23 | Původní lokální délka: 3 | Nová lokální délka: 3
[DEBUG] agent 23 t=0 => decoded (sx,sy)=(2,2) => global_id=213
[DEBUG] agent 23 t=1 => decoded (sx,sy)=(1,2) => global_id=181
[DEBUG] agent 23 t=2 => decoded (sx,sy)=(0,2) => global_id=149
[DEBUG] Kompletní cesta agenta 23:
  Původní: 123 91 90 89 89 121 120 119 151 183 184 216 216 216 216 216 216 216 216 216 216 216 216 216 216 216 216 216 216 215 214 214 214 214 214 214 213 181 149 117 118 86 54 55 56 24 25 26 27 
  Nová:     123 91 90 89 89 121 120 119 151 183 184 216 216 216 216 216 216 216 216 216 216 216 216 216 216 216 216 216 216 215 214 214 214 214 214 214 213 181 149 117 118 86 54 55 56 24 25 26 27 
[DEBUG] Vykreslení PŮVODNÍ cesty:
  Prefix (před submapou): 123 91 90 89 89 121 120 119 151 183 184 216 216 216 216 216 216 216 216 216 216 216 216 216 216 216 216 216 216 215 214 214 214 214 214 214 
  Lokální cesta (v submapě): 213 181 149 
  Suffix (po submapě): 117 118 86 54 55 56 24 25 26 27 
[INFO] Původní délka cesty agenta 23 je: 49
(SATUtils.cpp) nová cesta v agents[a].path agenta 0: 123, 91, 90, 89, 89, 121, 120, 119, 151, 183, 184, 216, 216, 216, 216, 216, 216, 216, 216, 216, 216, 216, 216, 216, 216, 216, 216, 216, 216, 215, 214, 214, 214, 214, 214, 214, 213, 181, 149, 117, 118, 86, 54, 55, 56, 24, 25, 26, 27, 
[INFO] Cesta pro agenta 23 aktualizována, výsledná délka: 49
[INFO] Aktualizace cesty pro agenta 31 | Původní lokální délka: 3 | Nová lokální délka: 3
[DEBUG] agent 31 t=0 => decoded (sx,sy)=(1,2) => global_id=181
[DEBUG] agent 31 t=1 => decoded (sx,sy)=(0,2) => global_id=149
[DEBUG] agent 31 t=2 => decoded (sx,sy)=(0,3) => global_id=150
[DEBUG] Kompletní cesta agenta 31:
  Původní: 838 806 774 775 776 744 745 746 747 715 683 684 685 686 654 622 623 591 592 560 528 496 464 432 400 368 336 337 338 306 274 242 243 244 212 213 181 149 150 118 86 54 55 56 24 25 26 27 28 29 30 
  Nová:     838 806 774 775 776 744 745 746 747 715 683 684 685 686 654 622 623 591 592 560 528 496 464 432 400 368 336 337 338 306 274 242 243 244 212 213 181 149 150 118 86 54 55 56 24 25 26 27 28 29 30 
[DEBUG] Vykreslení PŮVODNÍ cesty:
  Prefix (před submapou): 838 806 774 775 776 744 745 746 747 715 683 684 685 686 654 622 623 591 592 560 528 496 464 432 400 368 336 337 338 306 274 242 243 244 212 213 
  Lokální cesta (v submapě): 181 149 150 
  Suffix (po submapě): 118 86 54 55 56 24 25 26 27 28 29 30 
[INFO] Původní délka cesty agenta 31 je: 51
(SATUtils.cpp) nová cesta v agents[a].path agenta 1: 838, 806, 774, 775, 776, 744, 745, 746, 747, 715, 683, 684, 685, 686, 654, 622, 623, 591, 592, 560, 528, 496, 464, 432, 400, 368, 336, 337, 338, 306, 274, 242, 243, 244, 212, 213, 181, 149, 150, 118, 86, 54, 55, 56, 24, 25, 26, 27, 28, 29, 30, 
[INFO] Cesta pro agenta 31 aktualizována, výsledná délka: 51
[INFO] Aktualizace cesty pro agenta 47 | Původní lokální délka: 2 | Nová lokální délka: 2
[DEBUG] agent 47 t=0 => decoded (sx,sy)=(0,2) => global_id=149
[DEBUG] agent 47 t=1 => decoded (sx,sy)=(0,3) => global_id=150
[DEBUG] Kompletní cesta agenta 47:
  Původní: 841 873 874 875 876 877 845 846 814 782 750 718 686 654 655 623 591 592 560 528 496 464 432 400 368 336 337 338 339 340 308 276 244 212 180 181 149 150 118 86 54 55 56 24 25 26 58 59 60 
  Nová:     841 873 874 875 876 877 845 846 814 782 750 718 686 654 655 623 591 592 560 528 496 464 432 400 368 336 337 338 339 340 308 276 244 212 180 181 149 150 118 86 54 55 56 24 25 26 58 59 60 
[DEBUG] Vykreslení PŮVODNÍ cesty:
  Prefix (před submapou): 841 873 874 875 876 877 845 846 814 782 750 718 686 654 655 623 591 592 560 528 496 464 432 400 368 336 337 338 339 340 308 276 244 212 180 181 
  Lokální cesta (v submapě): 149 150 
  Suffix (po submapě): 118 86 54 55 56 24 25 26 58 59 60 
[INFO] Původní délka cesty agenta 47 je: 49
(SATUtils.cpp) nová cesta v agents[a].path agenta 2: 841, 873, 874, 875, 876, 877, 845, 846, 814, 782, 750, 718, 686, 654, 655, 623, 591, 592, 560, 528, 496, 464, 432, 400, 368, 336, 337, 338, 339, 340, 308, 276, 244, 212, 180, 181, 149, 150, 118, 86, 54, 55, 56, 24, 25, 26, 58, 59, 60, 
[INFO] Cesta pro agenta 47 aktualizována, výsledná délka: 49
Paths successfully updated.
(LNS.cpp) Nová cesta v agents[a].path agenta 23: 123, 91, 90, 89, 89, 121, 120, 119, 151, 183, 184, 216, 216, 216, 216, 216, 216, 216, 216, 216, 216, 216, 216, 216, 216, 216, 216, 216, 216, 215, 214, 214, 214, 214, 214, 214, 213, 181, 149, 117, 118, 86, 54, 55, 56, 24, 25, 26, 27, 
(LNS.cpp) Nová cesta v agents[a].path agenta 31: 838, 806, 774, 775, 776, 744, 745, 746, 747, 715, 683, 684, 685, 686, 654, 622, 623, 591, 592, 560, 528, 496, 464, 432, 400, 368, 336, 337, 338, 306, 274, 242, 243, 244, 212, 213, 181, 149, 150, 118, 86, 54, 55, 56, 24, 25, 26, 27, 28, 29, 30, 
(LNS.cpp) Nová cesta v agents[a].path agenta 47: 841, 873, 874, 875, 876, 877, 845, 846, 814, 782, 750, 718, 686, 654, 655, 623, 591, 592, 560, 528, 496, 464, 432, 400, 368, 336, 337, 338, 339, 340, 308, 276, 244, 212, 180, 181, 149, 150, 118, 86, 54, 55, 56, 24, 25, 26, 58, 59, 60, 
[DEBUG] hodnota delta: 0
[DEBUG] rewarding metric index = 0
[DEBUG] component_weights = {0.103968, 0.135653, 0.229712, 0.530668}
[DEBUG] hodnota opSuccess: 1
[DEBUG] neighbor.sum_of_costs před opětovným přepočtem: 146
[DEBUG] neighbor.old_sum_of_costs před opětovným přepočtem: 146
[DEBUG] sum_of_costs před opětovným přepočtem: 2759
[DEBUG] Validate solution immediately after SAT success.
[DEBUG] No problems after SAT replan.
[DEBUG] recomputing sum_of_cost by dividing neighbor.sum_of_costs and neighbor.old_sum_of_costs
[DEBUG] sum_of_costs po opětovném přepočtu: 2759
Iteration 16
[DEBUG] Using SAT operator (destroy+repair SAT).
====================
SAT destroy operator called.
[DEBUG] key_agent_id: 23
[DEBUG] key_agent_id délka globální cesty: 49
Submap content (global positions):
150 151 152 153 154 
182 183 184 185 186 
214 215 216 217 218 
246 247 248 249 250 
278 279 280 281 282 
Map content with agents and obstacles:
. . X . . 
X . . . . 
. . A . . 
X . . . X 
. . X A X 
[DEBUG] obsah struktury map, kterou předáváme SAT solveru: 
1  1  -1  1  1  
-1  1  1  1  1  
1  1  1  1  1  
-1  1  1  1  -1  
1  1  -1  1  -1  

[INFO] Identifikace agentů v submapě pro přeplánování (kdy key_agent je tam v čase 17):
[DEBUG] Agent 23 nalezené intervaly v submapě: [8..35]
  Agent 23 (interval v submapě: [8..35]) obsahuje čas 17, přidán k přeplánování.
[DEBUG] Agent 30 nalezené intervaly v submapě: [10..17]
  Agent 30 (interval v submapě: [10..17]) obsahuje čas 17, přidán k přeplánování.
[DEBUG] Agent 57 nalezené intervaly v submapě: [30..35]
[DEBUG] Agent 57 není v submapě v čase 17 (intervaly: [30..35] )
[DEBUG] Agent 66 nalezené intervaly v submapě: [1..8]
[DEBUG] Agent 66 není v submapě v čase 17 (intervaly: [1..8] )
Agent 23 | Start (globální): 216 → (lokální): (2, 2) v čase 17 | Cíl (globální): 214 → (lokální): (2, 0) v čase 35
Agent 30 | Start (globální): 281 → (lokální): (4, 3) v čase 17 | Cíl (globální): 281 → (lokální): (4, 3) v čase 17
[REPAIR] SAT destroy operator called.
[REPAIR] SAT operator – spouštím subproblém NA OPTIMALIZACI.

[INFO] Tvorba lokálních cest (sx, sy) v submapě pro T_sync = 17
  Agent 23 (globální cesty od T=17 do 35) má lokální dráhu: (2,2) (2,2) (2,2) (2,2) (2,2) (2,2) (2,2) (2,2) (2,2) (2,2) (2,2) (2,2) (2,1) (2,0) (2,0) (2,0) (2,0) (2,0) (2,0) 
  Agent 30 (globální cesty od T=17 do 17) má lokální dráhu: (4,3) 

[DEBUG] Kontrola vstupních dat pro SAT solver:
  - Počet agentů k přeplánování: 2
[DEBUG] Agent 23 má původní lokální dráhu délky: 19 => Start (2,2), Goal (2,0)
[DEBUG] Agent 30 má původní lokální dráhu délky: 1 => Start (4,3), Goal (4,3)
Startovní pozice: (2, 2), (4, 3), 
CÍLOVÉ pozice: (2, 0), (4, 3), 
SAT instance and solver created.
Currently solving
Instance name: scen
Map name: map
Encoding used: disappear_at_goal
SAT solver used: Kissat
Optimizing function: sum of costs
Number of agents: 2
Mks LB: 3
SoC LB: 4
Delta: 0
Remaining time: 300000 [ms]

Found plan [agents = 2] [timesteps = 3]
Agent #0 : 10 9 8 
Agent #1 : 18 0 0 

Solver returned: 0
[DEBUG] Agent (index) 23 | Nová lokální cesta (submap idx): 10 9 8 
[DEBUG] Agent (index) 30 | Nová lokální cesta (submap idx): 18 
[INFO] Aktualizace cesty pro agenta 23 | Původní lokální délka: 19 | Nová lokální délka: 3
[DEBUG] agent 23 t=0 => decoded (sx,sy)=(2,2) => global_id=216
[DEBUG] agent 23 t=1 => decoded (sx,sy)=(2,1) => global_id=215
[DEBUG] agent 23 t=2 => decoded (sx,sy)=(2,0) => global_id=214
[DEBUG] Kompletní cesta agenta 23:
  Původní: 123 91 90 89 89 121 120 119 151 183 184 216 216 216 216 216 216 216 216 216 216 216 216 216 216 216 216 216 216 215 214 214 214 214 214 214 213 181 149 117 118 86 54 55 56 24 25 26 27 
  Nová:     123 91 90 89 89 121 120 119 151 183 184 216 216 216 216 216 216 216 215 214 213 181 149 117 118 86 54 55 56 24 25 26 27 
[DEBUG] Vykreslení PŮVODNÍ cesty:
  Prefix (před submapou): 123 91 90 89 89 121 120 119 151 183 184 216 216 216 216 216 216 
  Lokální cesta (v submapě): 216 215 214 213 181 149 117 118 86 54 55 56 24 25 26 27 
  Suffix (po submapě): 
[INFO] Původní délka cesty agenta 23 je: 49
(SATUtils.cpp) nová cesta v agents[a].path agenta 0: 123, 91, 90, 89, 89, 121, 120, 119, 151, 183, 184, 216, 216, 216, 216, 216, 216, 216, 215, 214, 213, 181, 149, 117, 118, 86, 54, 55, 56, 24, 25, 26, 27, 
[INFO] Cesta pro agenta 23 aktualizována, výsledná délka: 33
[INFO] Aktualizace cesty pro agenta 30 | Původní lokální délka: 1 | Nová lokální délka: 1
[DEBUG] agent 30 t=0 => decoded (sx,sy)=(4,3) => global_id=281
[DEBUG] Kompletní cesta agenta 30:
  Původní: 16 48 80 81 82 83 84 116 117 149 150 151 183 184 185 217 249 281 313 345 377 378 379 411 443 475 507 539 571 603 635 636 637 638 670 702 703 735 767 799 798 830 862 861 
  Nová:     16 48 80 81 82 83 84 116 117 149 150 151 183 184 185 217 249 281 313 345 377 378 379 411 443 475 507 539 571 603 635 636 637 638 670 702 703 735 767 799 798 830 862 861 
[DEBUG] Vykreslení PŮVODNÍ cesty:
  Prefix (před submapou): 16 48 80 81 82 83 84 116 117 149 150 151 183 184 185 217 249 
  Lokální cesta (v submapě): 281 
  Suffix (po submapě): 313 345 377 378 379 411 443 475 507 539 571 603 635 636 637 638 670 702 703 735 767 799 798 830 862 861 
[INFO] Původní délka cesty agenta 30 je: 44
(SATUtils.cpp) nová cesta v agents[a].path agenta 1: 16, 48, 80, 81, 82, 83, 84, 116, 117, 149, 150, 151, 183, 184, 185, 217, 249, 281, 313, 345, 377, 378, 379, 411, 443, 475, 507, 539, 571, 603, 635, 636, 637, 638, 670, 702, 703, 735, 767, 799, 798, 830, 862, 861, 
[INFO] Cesta pro agenta 30 aktualizována, výsledná délka: 44
Paths successfully updated.
(LNS.cpp) Nová cesta v agents[a].path agenta 23: 123, 91, 90, 89, 89, 121, 120, 119, 151, 183, 184, 216, 216, 216, 216, 216, 216, 216, 215, 214, 213, 181, 149, 117, 118, 86, 54, 55, 56, 24, 25, 26, 27, 
(LNS.cpp) Nová cesta v agents[a].path agenta 30: 16, 48, 80, 81, 82, 83, 84, 116, 117, 149, 150, 151, 183, 184, 185, 217, 249, 281, 313, 345, 377, 378, 379, 411, 443, 475, 507, 539, 571, 603, 635, 636, 637, 638, 670, 702, 703, 735, 767, 799, 798, 830, 862, 861, 
[DEBUG] hodnota delta: 0.175824
[DEBUG] rewarding metric index = 3
[DEBUG] component_weights = {0.0923216, 0.120457, 0.203981, 0.58324}
[DEBUG] hodnota opSuccess: 1
[DEBUG] neighbor.sum_of_costs před opětovným přepočtem: 75
[DEBUG] neighbor.old_sum_of_costs před opětovným přepočtem: 91
[DEBUG] sum_of_costs před opětovným přepočtem: 2759
[DEBUG] Validate solution immediately after SAT success.
[WARNING] Problem after SAT: Target conflict: agent 31 (len 50) traverses target of agent 23 (len 32) at location 27 at timestep 47
[DEBUG] Attempting immediate repair via init_lns because problem occured after SAT (should be applied only for conflicts...).
[DEBUG] In LNS, we pass 100 agents to init_lns (skip=true). 
[DEBUG] Obsah path_table pro vybrané agenty (neighbor.agents):
  Agent 23 => controlling path length=33
  Agent 30 => controlling path length=44
[DEBUG] hodnota skip_initial_solution=1
[DEBUG] We skip initialSolution => call buildCollisionData()
[DEBUG] buildCollisionData() called – skip_initial_solution case.
[DEBUG] Agents.size()=100, collision_graph.size()=100
[DEBUG] agent 23 => updateCollidingPairs => foundCollision
[DEBUG] agent 31 => updateCollidingPairs => foundCollision
[DEBUG] Dvojice konfliktních agentů: 
agent 23 je v konfliktu s agentem 31
[DEBUG] buildCollisionData() => sum_of_costs=2743, num_of_colliding_pairs=1
[DEBUG] buildCollisionData done => sum_of_costs=2743, num_of_colliding_pairs=1
[DEBUG] sum_of_cost hodnota: 2743
[DEBUG] After skip/init build => iteration_stats.back(): sum_of_costs=2743, collisions=1
[DEBUG] Using default neighbor generation strategy for conflicts: 2
[DEBUG] Using default neighbor generation strategy for conflicts: 2
[DEBUG] Using default neighbor generation strategy for conflicts: 2
[DEBUG] Using default neighbor generation strategy for conflicts: 2
	InitLNS(PP): runtime = 0.00634704, iterations = 5, colliding pairs = 0, initial colliding pairs = 1, solution cost = 2744, initial solution cost = 2743, failed iterations = 0
[DEBUG] init_lns->sum_of_costs po doběhnutí init_lns->run: 2744
[DEBUG] sum_of_costs po přiřazení init_lns->run: 2744
[DEBUG] recomputing sum_of_cost by dividing neighbor.sum_of_costs and neighbor.old_sum_of_costs
[DEBUG] sum_of_costs po opětovném přepočtu: 2744
Iteration 17
[DEBUG] Using SAT operator (destroy+repair SAT).
====================
SAT destroy operator called.
[DEBUG] key_agent_id: 23
[DEBUG] key_agent_id délka globální cesty: 50
Submap content (global positions):
-1 -1 -1 -1 -1 
21 22 23 24 25 
53 54 55 56 57 
85 86 87 88 89 
117 118 119 120 121 
Map content with agents and obstacles:
X X X X X 
X . X . A 
X . A A X 
. . X X . 
. . . . . 
[DEBUG] obsah struktury map, kterou předáváme SAT solveru: 
1  1  1  1  1  
-1  1  -1  1  1  
-1  1  1  1  -1  
1  1  -1  -1  1  
1  1  1  1  1  

[INFO] Identifikace agentů v submapě pro přeplánování (kdy key_agent je tam v čase 44):
[DEBUG] Agent 23 nalezené intervaly v submapě: [7..10] [39..47]
  Agent 23 (interval v submapě: [39..47]) obsahuje čas 44, přidán k přeplánování.
[DEBUG] Agent 31 nalezené intervaly v submapě: [39..46]
  Agent 31 (interval v submapě: [39..46]) obsahuje čas 44, přidán k přeplánování.
[DEBUG] Agent 47 nalezené intervaly v submapě: [38..44]
  Agent 47 (interval v submapě: [38..44]) obsahuje čas 44, přidán k přeplánování.
Agent 23 | Start (globální): 55 → (lokální): (2, 2) v čase 44 | Cíl (globální): 25 → (lokální): (1, 4) v čase 47
Agent 31 | Start (globální): 56 → (lokální): (2, 3) v čase 44 | Cíl (globální): 25 → (lokální): (1, 4) v čase 46
Agent 47 | Start (globální): 25 → (lokální): (1, 4) v čase 44 | Cíl (globální): 25 → (lokální): (1, 4) v čase 44
[REPAIR] SAT destroy operator called.
[REPAIR] SAT operator – spouštím subproblém NA OPTIMALIZACI.

[INFO] Tvorba lokálních cest (sx, sy) v submapě pro T_sync = 44
  Agent 23 (globální cesty od T=44 do 47) má lokální dráhu: (2,2) (2,3) (1,3) (1,4) 
  Agent 31 (globální cesty od T=44 do 46) má lokální dráhu: (2,3) (1,3) (1,4) 
  Agent 47 (globální cesty od T=44 do 44) má lokální dráhu: (1,4) 

[DEBUG] Kontrola vstupních dat pro SAT solver:
  - Počet agentů k přeplánování: 3
[DEBUG] Agent 23 má původní lokální dráhu délky: 4 => Start (2,2), Goal (1,4)
[DEBUG] Agent 31 má původní lokální dráhu délky: 3 => Start (2,3), Goal (1,4)
[DEBUG] Agent 47 má původní lokální dráhu délky: 1 => Start (1,4), Goal (1,4)
Startovní pozice: (2, 2), (2, 3), (1, 4), 
CÍLOVÉ pozice: (1, 4), (1, 4), (1, 4), 
SAT instance and solver created.
Currently solving
Instance name: scen
Map name: map
Encoding used: disappear_at_goal
SAT solver used: Kissat
Optimizing function: sum of costs
Number of agents: 3
Mks LB: 4
SoC LB: 8
Delta: 0
Remaining time: 300000 [ms]

Vertex conflict! Agents 1, 2, timestep 3, location 0
Found plan [agents = 3] [timesteps = 4]
Agent #0 : 9 10 6 7 
Agent #1 : 10 6 7 0 
Agent #2 : 7 0 0 0 

Solver returned: 0
[DEBUG] Agent (index) 23 | Nová lokální cesta (submap idx): 9 10 6 7 
[DEBUG] Agent (index) 31 | Nová lokální cesta (submap idx): 10 6 7 
[DEBUG] Agent (index) 47 | Nová lokální cesta (submap idx): 7 
[INFO] Aktualizace cesty pro agenta 23 | Původní lokální délka: 4 | Nová lokální délka: 4
[DEBUG] agent 23 t=0 => decoded (sx,sy)=(2,2) => global_id=55
[DEBUG] agent 23 t=1 => decoded (sx,sy)=(2,3) => global_id=56
[DEBUG] agent 23 t=2 => decoded (sx,sy)=(1,3) => global_id=24
[DEBUG] agent 23 t=3 => decoded (sx,sy)=(1,4) => global_id=25
[DEBUG] Kompletní cesta agenta 23:
  Původní: 123 123 123 123 123 122 122 121 120 120 121 153 153 153 153 185 217 249 248 248 248 248 248 248 248 248 248 248 248 248 247 215 183 151 151 151 151 151 150 118 118 118 86 54 55 56 24 25 26 27 
  Nová:     123 123 123 123 123 122 122 121 120 120 121 153 153 153 153 185 217 249 248 248 248 248 248 248 248 248 248 248 248 248 247 215 183 151 151 151 151 151 150 118 118 118 86 54 55 56 24 25 26 27 
[DEBUG] Vykreslení PŮVODNÍ cesty:
  Prefix (před submapou): 123 123 123 123 123 122 122 121 120 120 121 153 153 153 153 185 217 249 248 248 248 248 248 248 248 248 248 248 248 248 247 215 183 151 151 151 151 151 150 118 118 118 86 54 
  Lokální cesta (v submapě): 55 56 24 25 
  Suffix (po submapě): 26 27 
[INFO] Původní délka cesty agenta 23 je: 50
(SATUtils.cpp) nová cesta v agents[a].path agenta 0: 123, 123, 123, 123, 123, 122, 122, 121, 120, 120, 121, 153, 153, 153, 153, 185, 217, 249, 248, 248, 248, 248, 248, 248, 248, 248, 248, 248, 248, 248, 247, 215, 183, 151, 151, 151, 151, 151, 150, 118, 118, 118, 86, 54, 55, 56, 24, 25, 26, 27, 
[INFO] Cesta pro agenta 23 aktualizována, výsledná délka: 50
[INFO] Aktualizace cesty pro agenta 31 | Původní lokální délka: 3 | Nová lokální délka: 3
[DEBUG] agent 31 t=0 => decoded (sx,sy)=(2,3) => global_id=56
[DEBUG] agent 31 t=1 => decoded (sx,sy)=(1,3) => global_id=24
[DEBUG] agent 31 t=2 => decoded (sx,sy)=(1,4) => global_id=25
[DEBUG] Kompletní cesta agenta 31:
  Původní: 838 806 807 808 809 810 778 779 747 715 683 651 619 587 587 555 523 524 492 460 428 429 430 398 366 367 335 303 271 239 240 208 176 177 178 179 180 148 149 117 85 86 54 55 56 24 25 26 27 28 29 30 
  Nová:     838 806 807 808 809 810 778 779 747 715 683 651 619 587 587 555 523 524 492 460 428 429 430 398 366 367 335 303 271 239 240 208 176 177 178 179 180 148 149 117 85 86 54 55 56 24 25 26 27 28 29 30 
[DEBUG] Vykreslení PŮVODNÍ cesty:
  Prefix (před submapou): 838 806 807 808 809 810 778 779 747 715 683 651 619 587 587 555 523 524 492 460 428 429 430 398 366 367 335 303 271 239 240 208 176 177 178 179 180 148 149 117 85 86 54 55 
  Lokální cesta (v submapě): 56 24 25 
  Suffix (po submapě): 26 27 28 29 30 
[INFO] Původní délka cesty agenta 31 je: 52
(SATUtils.cpp) nová cesta v agents[a].path agenta 1: 838, 806, 807, 808, 809, 810, 778, 779, 747, 715, 683, 651, 619, 587, 587, 555, 523, 524, 492, 460, 428, 429, 430, 398, 366, 367, 335, 303, 271, 239, 240, 208, 176, 177, 178, 179, 180, 148, 149, 117, 85, 86, 54, 55, 56, 24, 25, 26, 27, 28, 29, 30, 
[INFO] Cesta pro agenta 31 aktualizována, výsledná délka: 52
[INFO] Aktualizace cesty pro agenta 47 | Původní lokální délka: 1 | Nová lokální délka: 1
[DEBUG] agent 47 t=0 => decoded (sx,sy)=(1,4) => global_id=25
[DEBUG] Kompletní cesta agenta 47:
  Původní: 841 873 874 875 876 877 845 846 814 782 750 718 686 654 655 623 591 592 560 528 496 464 432 400 368 336 337 338 339 340 308 276 244 212 180 181 149 150 118 86 54 55 56 24 25 26 58 59 60 
  Nová:     841 873 874 875 876 877 845 846 814 782 750 718 686 654 655 623 591 592 560 528 496 464 432 400 368 336 337 338 339 340 308 276 244 212 180 181 149 150 118 86 54 55 56 24 25 26 58 59 60 
[DEBUG] Vykreslení PŮVODNÍ cesty:
  Prefix (před submapou): 841 873 874 875 876 877 845 846 814 782 750 718 686 654 655 623 591 592 560 528 496 464 432 400 368 336 337 338 339 340 308 276 244 212 180 181 149 150 118 86 54 55 56 24 
  Lokální cesta (v submapě): 25 
  Suffix (po submapě): 26 58 59 60 
[INFO] Původní délka cesty agenta 47 je: 49
(SATUtils.cpp) nová cesta v agents[a].path agenta 2: 841, 873, 874, 875, 876, 877, 845, 846, 814, 782, 750, 718, 686, 654, 655, 623, 591, 592, 560, 528, 496, 464, 432, 400, 368, 336, 337, 338, 339, 340, 308, 276, 244, 212, 180, 181, 149, 150, 118, 86, 54, 55, 56, 24, 25, 26, 58, 59, 60, 
[INFO] Cesta pro agenta 47 aktualizována, výsledná délka: 49
Paths successfully updated.
(LNS.cpp) Nová cesta v agents[a].path agenta 23: 123, 123, 123, 123, 123, 122, 122, 121, 120, 120, 121, 153, 153, 153, 153, 185, 217, 249, 248, 248, 248, 248, 248, 248, 248, 248, 248, 248, 248, 248, 247, 215, 183, 151, 151, 151, 151, 151, 150, 118, 118, 118, 86, 54, 55, 56, 24, 25, 26, 27, 
(LNS.cpp) Nová cesta v agents[a].path agenta 31: 838, 806, 807, 808, 809, 810, 778, 779, 747, 715, 683, 651, 619, 587, 587, 555, 523, 524, 492, 460, 428, 429, 430, 398, 366, 367, 335, 303, 271, 239, 240, 208, 176, 177, 178, 179, 180, 148, 149, 117, 85, 86, 54, 55, 56, 24, 25, 26, 27, 28, 29, 30, 
(LNS.cpp) Nová cesta v agents[a].path agenta 47: 841, 873, 874, 875, 876, 877, 845, 846, 814, 782, 750, 718, 686, 654, 655, 623, 591, 592, 560, 528, 496, 464, 432, 400, 368, 336, 337, 338, 339, 340, 308, 276, 244, 212, 180, 181, 149, 150, 118, 86, 54, 55, 56, 24, 25, 26, 58, 59, 60, 
[DEBUG] hodnota delta: 0
[DEBUG] rewarding metric index = 3
[DEBUG] component_weights = {0.089572, 0.11687, 0.197905, 0.595653}
[DEBUG] hodnota opSuccess: 1
[DEBUG] neighbor.sum_of_costs před opětovným přepočtem: 148
[DEBUG] neighbor.old_sum_of_costs před opětovným přepočtem: 148
[DEBUG] sum_of_costs před opětovným přepočtem: 2744
[DEBUG] Validate solution immediately after SAT success.
[DEBUG] No problems after SAT replan.
[DEBUG] recomputing sum_of_cost by dividing neighbor.sum_of_costs and neighbor.old_sum_of_costs
[DEBUG] sum_of_costs po opětovném přepočtu: 2744
Iteration 18
[DEBUG] Using SAT operator (destroy+repair SAT).
====================
SAT destroy operator called.
[DEBUG] key_agent_id: 23
[DEBUG] key_agent_id délka globální cesty: 50
Submap content (global positions):
-1 -1 -1 -1 -1 
-1 -1 -1 -1 -1 
23 24 25 26 27 
55 56 57 58 59 
87 88 89 90 91 
Map content with agents and obstacles:
X X X X X 
X X X X X 
X . A A . 
. . X . A 
X X . . . 
[DEBUG] obsah struktury map, kterou předáváme SAT solveru: 
1  1  1  1  1  
1  1  1  1  1  
-1  1  1  1  1  
1  1  -1  1  1  
-1  -1  1  1  1  

[INFO] Identifikace agentů v submapě pro přeplánování (kdy key_agent je tam v čase 47):
[DEBUG] Agent 23 nalezené intervaly v submapě: [44..49]
  Agent 23 (interval v submapě: [44..49]) obsahuje čas 47, přidán k přeplánování.
[DEBUG] Agent 31 nalezené intervaly v submapě: [43..48]
  Agent 31 (interval v submapě: [43..48]) obsahuje čas 47, přidán k přeplánování.
[DEBUG] Agent 47 nalezené intervaly v submapě: [41..47]
  Agent 47 (interval v submapě: [41..47]) obsahuje čas 47, přidán k přeplánování.
Agent 23 | Start (globální): 25 → (lokální): (2, 2) v čase 47 | Cíl (globální): 27 → (lokální): (2, 4) v čase 49
Agent 31 | Start (globální): 26 → (lokální): (2, 3) v čase 47 | Cíl (globální): 27 → (lokální): (2, 4) v čase 48
Agent 47 | Start (globální): 59 → (lokální): (3, 4) v čase 47 | Cíl (globální): 59 → (lokální): (3, 4) v čase 47
[REPAIR] SAT destroy operator called.
[REPAIR] SAT operator – spouštím subproblém NA OPTIMALIZACI.

[INFO] Tvorba lokálních cest (sx, sy) v submapě pro T_sync = 47
  Agent 23 (globální cesty od T=47 do 49) má lokální dráhu: (2,2) (2,3) (2,4) 
  Agent 31 (globální cesty od T=47 do 48) má lokální dráhu: (2,3) (2,4) 
  Agent 47 (globální cesty od T=47 do 47) má lokální dráhu: (3,4) 

[DEBUG] Kontrola vstupních dat pro SAT solver:
  - Počet agentů k přeplánování: 3
[DEBUG] Agent 23 má původní lokální dráhu délky: 3 => Start (2,2), Goal (2,4)
[DEBUG] Agent 31 má původní lokální dráhu délky: 2 => Start (2,3), Goal (2,4)
[DEBUG] Agent 47 má původní lokální dráhu délky: 1 => Start (3,4), Goal (3,4)
Startovní pozice: (2, 2), (2, 3), (3, 4), 
CÍLOVÉ pozice: (2, 4), (2, 4), (3, 4), 
SAT instance and solver created.
Currently solving
Instance name: scen
Map name: map
Encoding used: disappear_at_goal
SAT solver used: Kissat
Optimizing function: sum of costs
Number of agents: 3
Mks LB: 3
SoC LB: 6
Delta: 0
Remaining time: 300000 [ms]

Vertex conflict! Agents 1, 2, timestep 2, location 0
Found plan [agents = 3] [timesteps = 3]
Agent #0 : 11 12 13 
Agent #1 : 12 13 0 
Agent #2 : 17 0 0 

Solver returned: 0
[DEBUG] Agent (index) 23 | Nová lokální cesta (submap idx): 11 12 13 
[DEBUG] Agent (index) 31 | Nová lokální cesta (submap idx): 12 13 
[DEBUG] Agent (index) 47 | Nová lokální cesta (submap idx): 17 
[INFO] Aktualizace cesty pro agenta 23 | Původní lokální délka: 3 | Nová lokální délka: 3
[DEBUG] agent 23 t=0 => decoded (sx,sy)=(2,2) => global_id=25
[DEBUG] agent 23 t=1 => decoded (sx,sy)=(2,3) => global_id=26
[DEBUG] agent 23 t=2 => decoded (sx,sy)=(2,4) => global_id=27
[DEBUG] Kompletní cesta agenta 23:
  Původní: 123 123 123 123 123 122 122 121 120 120 121 153 153 153 153 185 217 249 248 248 248 248 248 248 248 248 248 248 248 248 247 215 183 151 151 151 151 151 150 118 118 118 86 54 55 56 24 25 26 27 
  Nová:     123 123 123 123 123 122 122 121 120 120 121 153 153 153 153 185 217 249 248 248 248 248 248 248 248 248 248 248 248 248 247 215 183 151 151 151 151 151 150 118 118 118 86 54 55 56 24 25 26 27 
[DEBUG] Vykreslení PŮVODNÍ cesty:
  Prefix (před submapou): 123 123 123 123 123 122 122 121 120 120 121 153 153 153 153 185 217 249 248 248 248 248 248 248 248 248 248 248 248 248 247 215 183 151 151 151 151 151 150 118 118 118 86 54 55 56 24 
  Lokální cesta (v submapě): 25 26 27 
  Suffix (po submapě): 
[INFO] Původní délka cesty agenta 23 je: 50
(SATUtils.cpp) nová cesta v agents[a].path agenta 0: 123, 123, 123, 123, 123, 122, 122, 121, 120, 120, 121, 153, 153, 153, 153, 185, 217, 249, 248, 248, 248, 248, 248, 248, 248, 248, 248, 248, 248, 248, 247, 215, 183, 151, 151, 151, 151, 151, 150, 118, 118, 118, 86, 54, 55, 56, 24, 25, 26, 27, 
[INFO] Cesta pro agenta 23 aktualizována, výsledná délka: 50
[INFO] Aktualizace cesty pro agenta 31 | Původní lokální délka: 2 | Nová lokální délka: 2
[DEBUG] agent 31 t=0 => decoded (sx,sy)=(2,3) => global_id=26
[DEBUG] agent 31 t=1 => decoded (sx,sy)=(2,4) => global_id=27
[DEBUG] Kompletní cesta agenta 31:
  Původní: 838 806 807 808 809 810 778 779 747 715 683 651 619 587 587 555 523 524 492 460 428 429 430 398 366 367 335 303 271 239 240 208 176 177 178 179 180 148 149 117 85 86 54 55 56 24 25 26 27 28 29 30 
  Nová:     838 806 807 808 809 810 778 779 747 715 683 651 619 587 587 555 523 524 492 460 428 429 430 398 366 367 335 303 271 239 240 208 176 177 178 179 180 148 149 117 85 86 54 55 56 24 25 26 27 28 29 30 
[DEBUG] Vykreslení PŮVODNÍ cesty:
  Prefix (před submapou): 838 806 807 808 809 810 778 779 747 715 683 651 619 587 587 555 523 524 492 460 428 429 430 398 366 367 335 303 271 239 240 208 176 177 178 179 180 148 149 117 85 86 54 55 56 24 25 
  Lokální cesta (v submapě): 26 27 
  Suffix (po submapě): 28 29 30 
[INFO] Původní délka cesty agenta 31 je: 52
(SATUtils.cpp) nová cesta v agents[a].path agenta 1: 838, 806, 807, 808, 809, 810, 778, 779, 747, 715, 683, 651, 619, 587, 587, 555, 523, 524, 492, 460, 428, 429, 430, 398, 366, 367, 335, 303, 271, 239, 240, 208, 176, 177, 178, 179, 180, 148, 149, 117, 85, 86, 54, 55, 56, 24, 25, 26, 27, 28, 29, 30, 
[INFO] Cesta pro agenta 31 aktualizována, výsledná délka: 52
[INFO] Aktualizace cesty pro agenta 47 | Původní lokální délka: 1 | Nová lokální délka: 1
[DEBUG] agent 47 t=0 => decoded (sx,sy)=(3,4) => global_id=59
[DEBUG] Kompletní cesta agenta 47:
  Původní: 841 873 874 875 876 877 845 846 814 782 750 718 686 654 655 623 591 592 560 528 496 464 432 400 368 336 337 338 339 340 308 276 244 212 180 181 149 150 118 86 54 55 56 24 25 26 58 59 60 
  Nová:     841 873 874 875 876 877 845 846 814 782 750 718 686 654 655 623 591 592 560 528 496 464 432 400 368 336 337 338 339 340 308 276 244 212 180 181 149 150 118 86 54 55 56 24 25 26 58 59 60 
[DEBUG] Vykreslení PŮVODNÍ cesty:
  Prefix (před submapou): 841 873 874 875 876 877 845 846 814 782 750 718 686 654 655 623 591 592 560 528 496 464 432 400 368 336 337 338 339 340 308 276 244 212 180 181 149 150 118 86 54 55 56 24 25 26 58 
  Lokální cesta (v submapě): 59 
  Suffix (po submapě): 60 
[INFO] Původní délka cesty agenta 47 je: 49
(SATUtils.cpp) nová cesta v agents[a].path agenta 2: 841, 873, 874, 875, 876, 877, 845, 846, 814, 782, 750, 718, 686, 654, 655, 623, 591, 592, 560, 528, 496, 464, 432, 400, 368, 336, 337, 338, 339, 340, 308, 276, 244, 212, 180, 181, 149, 150, 118, 86, 54, 55, 56, 24, 25, 26, 58, 59, 60, 
[INFO] Cesta pro agenta 47 aktualizována, výsledná délka: 49
Paths successfully updated.
(LNS.cpp) Nová cesta v agents[a].path agenta 23: 123, 123, 123, 123, 123, 122, 122, 121, 120, 120, 121, 153, 153, 153, 153, 185, 217, 249, 248, 248, 248, 248, 248, 248, 248, 248, 248, 248, 248, 248, 247, 215, 183, 151, 151, 151, 151, 151, 150, 118, 118, 118, 86, 54, 55, 56, 24, 25, 26, 27, 
(LNS.cpp) Nová cesta v agents[a].path agenta 31: 838, 806, 807, 808, 809, 810, 778, 779, 747, 715, 683, 651, 619, 587, 587, 555, 523, 524, 492, 460, 428, 429, 430, 398, 366, 367, 335, 303, 271, 239, 240, 208, 176, 177, 178, 179, 180, 148, 149, 117, 85, 86, 54, 55, 56, 24, 25, 26, 27, 28, 29, 30, 
(LNS.cpp) Nová cesta v agents[a].path agenta 47: 841, 873, 874, 875, 876, 877, 845, 846, 814, 782, 750, 718, 686, 654, 655, 623, 591, 592, 560, 528, 496, 464, 432, 400, 368, 336, 337, 338, 339, 340, 308, 276, 244, 212, 180, 181, 149, 150, 118, 86, 54, 55, 56, 24, 25, 26, 58, 59, 60, 
[DEBUG] hodnota delta: 0
[DEBUG] rewarding metric index = 3
[DEBUG] component_weights = {0.0868493, 0.113317, 0.19189, 0.607944}
[DEBUG] hodnota opSuccess: 1
[DEBUG] neighbor.sum_of_costs před opětovným přepočtem: 148
[DEBUG] neighbor.old_sum_of_costs před opětovným přepočtem: 148
[DEBUG] sum_of_costs před opětovným přepočtem: 2744
[DEBUG] Validate solution immediately after SAT success.
[DEBUG] No problems after SAT replan.
[DEBUG] recomputing sum_of_cost by dividing neighbor.sum_of_costs and neighbor.old_sum_of_costs
[DEBUG] sum_of_costs po opětovném přepočtu: 2744
Iteration 19
[DEBUG] Using SAT operator (destroy+repair SAT).
====================
SAT destroy operator called.
[DEBUG] key_agent_id: 23
[DEBUG] key_agent_id délka globální cesty: 50
Submap content (global positions):
85 86 87 88 89 
117 118 119 120 121 
149 150 151 152 153 
181 182 183 184 185 
213 214 215 216 217 
Map content with agents and obstacles:
. . X X . 
. . . . . 
. A A X . 
. X . . . 
. . . . . 
[DEBUG] obsah struktury map, kterou předáváme SAT solveru: 
1  1  -1  -1  1  
1  1  1  1  1  
1  1  1  -1  1  
1  -1  1  1  1  
1  1  1  1  1  

[INFO] Identifikace agentů v submapě pro přeplánování (kdy key_agent je tam v čase 33):
[DEBUG] Agent 23 nalezené intervaly v submapě: [7..16] [31..42]
  Agent 23 (interval v submapě: [31..42]) obsahuje čas 33, přidán k přeplánování.
[DEBUG] Agent 32 nalezené intervaly v submapě: [32..35]
  Agent 32 (interval v submapě: [32..35]) obsahuje čas 33, přidán k přeplánování.
[DEBUG] Agent 46 nalezené intervaly v submapě: [35..36]
[DEBUG] Agent 46 není v submapě v čase 33 (intervaly: [35..36] )
[DEBUG] Agent 66 nalezené intervaly v submapě: [0..9]
[DEBUG] Agent 66 není v submapě v čase 33 (intervaly: [0..9] )
Agent 23 | Start (globální): 151 → (lokální): (2, 2) v čase 33 | Cíl (globální): 86 → (lokální): (0, 1) v čase 42
Agent 32 | Start (globální): 150 → (lokální): (2, 1) v čase 33 | Cíl (globální): 86 → (lokální): (0, 1) v čase 35
[REPAIR] SAT destroy operator called.
[REPAIR] SAT operator – spouštím subproblém NA OPTIMALIZACI.

[INFO] Tvorba lokálních cest (sx, sy) v submapě pro T_sync = 33
  Agent 23 (globální cesty od T=33 do 42) má lokální dráhu: (2,2) (2,2) (2,2) (2,2) (2,2) (2,1) (1,1) (1,1) (1,1) (0,1) 
  Agent 32 (globální cesty od T=33 do 35) má lokální dráhu: (2,1) (1,1) (0,1) 

[DEBUG] Kontrola vstupních dat pro SAT solver:
  - Počet agentů k přeplánování: 2
[DEBUG] Agent 23 má původní lokální dráhu délky: 10 => Start (2,2), Goal (0,1)
[DEBUG] Agent 32 má původní lokální dráhu délky: 3 => Start (2,1), Goal (0,1)
Startovní pozice: (2, 2), (2, 1), 
CÍLOVÉ pozice: (0, 1), (0, 1), 
SAT instance and solver created.
Currently solving
Instance name: scen
Map name: map
Encoding used: disappear_at_goal
SAT solver used: Kissat
Optimizing function: sum of costs
Number of agents: 2
Mks LB: 4
SoC LB: 7
Delta: 0
Remaining time: 300000 [ms]

Found plan [agents = 2] [timesteps = 4]
Agent #0 : 10 9 4 1 
Agent #1 : 9 4 1 0 

Solver returned: 0
[DEBUG] Agent (index) 23 | Nová lokální cesta (submap idx): 10 9 4 1 
[DEBUG] Agent (index) 32 | Nová lokální cesta (submap idx): 9 4 1 
[INFO] Aktualizace cesty pro agenta 23 | Původní lokální délka: 10 | Nová lokální délka: 4
[DEBUG] agent 23 t=0 => decoded (sx,sy)=(2,2) => global_id=151
[DEBUG] agent 23 t=1 => decoded (sx,sy)=(2,1) => global_id=150
[DEBUG] agent 23 t=2 => decoded (sx,sy)=(1,1) => global_id=118
[DEBUG] agent 23 t=3 => decoded (sx,sy)=(0,1) => global_id=86
[DEBUG] Kompletní cesta agenta 23:
  Původní: 123 123 123 123 123 122 122 121 120 120 121 153 153 153 153 185 217 249 248 248 248 248 248 248 248 248 248 248 248 248 247 215 183 151 151 151 151 151 150 118 118 118 86 54 55 56 24 25 26 27 
  Nová:     123 123 123 123 123 122 122 121 120 120 121 153 153 153 153 185 217 249 248 248 248 248 248 248 248 248 248 248 248 248 247 215 183 151 150 118 86 54 55 56 24 25 26 27 
[DEBUG] Vykreslení PŮVODNÍ cesty:
  Prefix (před submapou): 123 123 123 123 123 122 122 121 120 120 121 153 153 153 153 185 217 249 248 248 248 248 248 248 248 248 248 248 248 248 247 215 183 
  Lokální cesta (v submapě): 151 150 118 86 54 55 56 24 25 26 
  Suffix (po submapě): 27 
[INFO] Původní délka cesty agenta 23 je: 50
(SATUtils.cpp) nová cesta v agents[a].path agenta 0: 123, 123, 123, 123, 123, 122, 122, 121, 120, 120, 121, 153, 153, 153, 153, 185, 217, 249, 248, 248, 248, 248, 248, 248, 248, 248, 248, 248, 248, 248, 247, 215, 183, 151, 150, 118, 86, 54, 55, 56, 24, 25, 26, 27, 
[INFO] Cesta pro agenta 23 aktualizována, výsledná délka: 44
[INFO] Aktualizace cesty pro agenta 32 | Původní lokální délka: 3 | Nová lokální délka: 3
[DEBUG] agent 32 t=0 => decoded (sx,sy)=(2,1) => global_id=150
[DEBUG] agent 32 t=1 => decoded (sx,sy)=(1,1) => global_id=118
[DEBUG] agent 32 t=2 => decoded (sx,sy)=(0,1) => global_id=86
[DEBUG] Kompletní cesta agenta 32:
  Původní: 680 648 649 650 651 619 620 588 589 590 591 623 591 592 593 561 529 530 498 499 467 435 403 371 339 340 308 276 244 212 180 148 149 150 118 86 54 55 56 24 25 26 58 59 60 61 93 
  Nová:     680 648 649 650 651 619 620 588 589 590 591 623 591 592 593 561 529 530 498 499 467 435 403 371 339 340 308 276 244 212 180 148 149 150 118 86 54 55 56 24 25 26 58 59 60 61 93 
[DEBUG] Vykreslení PŮVODNÍ cesty:
  Prefix (před submapou): 680 648 649 650 651 619 620 588 589 590 591 623 591 592 593 561 529 530 498 499 467 435 403 371 339 340 308 276 244 212 180 148 149 
  Lokální cesta (v submapě): 150 118 86 
  Suffix (po submapě): 54 55 56 24 25 26 58 59 60 61 93 
[INFO] Původní délka cesty agenta 32 je: 47
(SATUtils.cpp) nová cesta v agents[a].path agenta 1: 680, 648, 649, 650, 651, 619, 620, 588, 589, 590, 591, 623, 591, 592, 593, 561, 529, 530, 498, 499, 467, 435, 403, 371, 339, 340, 308, 276, 244, 212, 180, 148, 149, 150, 118, 86, 54, 55, 56, 24, 25, 26, 58, 59, 60, 61, 93, 
[INFO] Cesta pro agenta 32 aktualizována, výsledná délka: 47
Paths successfully updated.
(LNS.cpp) Nová cesta v agents[a].path agenta 23: 123, 123, 123, 123, 123, 122, 122, 121, 120, 120, 121, 153, 153, 153, 153, 185, 217, 249, 248, 248, 248, 248, 248, 248, 248, 248, 248, 248, 248, 248, 247, 215, 183, 151, 150, 118, 86, 54, 55, 56, 24, 25, 26, 27, 
(LNS.cpp) Nová cesta v agents[a].path agenta 32: 680, 648, 649, 650, 651, 619, 620, 588, 589, 590, 591, 623, 591, 592, 593, 561, 529, 530, 498, 499, 467, 435, 403, 371, 339, 340, 308, 276, 244, 212, 180, 148, 149, 150, 118, 86, 54, 55, 56, 24, 25, 26, 58, 59, 60, 61, 93, 
[DEBUG] hodnota delta: 0.0631579
[DEBUG] rewarding metric index = 3
[DEBUG] component_weights = {0.0809848, 0.105666, 0.178932, 0.634417}
[DEBUG] hodnota opSuccess: 1
[DEBUG] neighbor.sum_of_costs před opětovným přepočtem: 89
[DEBUG] neighbor.old_sum_of_costs před opětovným přepočtem: 95
[DEBUG] sum_of_costs před opětovným přepočtem: 2744
[DEBUG] Validate solution immediately after SAT success.
[WARNING] Problem after SAT: Target conflict: agent 31 (len 51) traverses target of agent 23 (len 43) at location 27 at timestep 48
[DEBUG] Attempting immediate repair via init_lns because problem occured after SAT (should be applied only for conflicts...).
[DEBUG] In LNS, we pass 100 agents to init_lns (skip=true). 
[DEBUG] Obsah path_table pro vybrané agenty (neighbor.agents):
  Agent 23 => controlling path length=44
  Agent 32 => controlling path length=47
[DEBUG] hodnota skip_initial_solution=1
[DEBUG] We skip initialSolution => call buildCollisionData()
[DEBUG] buildCollisionData() called – skip_initial_solution case.
[DEBUG] Agents.size()=100, collision_graph.size()=100
[DEBUG] agent 23 => updateCollidingPairs => foundCollision
[DEBUG] agent 31 => updateCollidingPairs => foundCollision
[DEBUG] Dvojice konfliktních agentů: 
agent 23 je v konfliktu s agentem 31
[DEBUG] buildCollisionData() => sum_of_costs=2738, num_of_colliding_pairs=1
[DEBUG] buildCollisionData done => sum_of_costs=2738, num_of_colliding_pairs=1
[DEBUG] sum_of_cost hodnota: 2738
[DEBUG] After skip/init build => iteration_stats.back(): sum_of_costs=2738, collisions=1
[DEBUG] Using default neighbor generation strategy for conflicts: 0
	InitLNS(PP): runtime = 0.000925625, iterations = 2, colliding pairs = 0, initial colliding pairs = 1, solution cost = 2739, initial solution cost = 2738, failed iterations = 0
[DEBUG] init_lns->sum_of_costs po doběhnutí init_lns->run: 2739
[DEBUG] sum_of_costs po přiřazení init_lns->run: 2739
[DEBUG] recomputing sum_of_cost by dividing neighbor.sum_of_costs and neighbor.old_sum_of_costs
[DEBUG] sum_of_costs po opětovném přepočtu: 2739
Iteration 20
LNS(PP;PP): runtime = 0.0883015, iterations = 21, solution cost = 2739, initial solution cost = 2783, failed iterations = 0
